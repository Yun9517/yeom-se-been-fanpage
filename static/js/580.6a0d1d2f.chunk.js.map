{"version":3,"file":"static/js/580.6a0d1d2f.chunk.js","mappings":"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","sources":["hooks/useFirestoreCollection.js","components/Leaderboard.js","components/FanQuiz.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { collection, query, getDocs, onSnapshot } from 'firebase/firestore';\nimport { db } from '../firebase'; // 假設你的 firebase.js 導出了 db\n\nconst useFirestoreCollection = (collectionName, queryConstraints = [], liveUpdate = false) => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setLoading(true);\n    setError(null); // Clear previous errors\n\n    const collectionRef = collection(db, collectionName);\n    let q = query(collectionRef, ...queryConstraints); // 應用傳入的查詢約束\n\n    const fetchData = async () => {\n      try {\n        const querySnapshot = await getDocs(q);\n        const fetchedData = querySnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n        setData(fetchedData);\n        console.log(`useFirestoreCollection: Fetched data from ${collectionName}.`);\n      } catch (err) {\n        console.error(`useFirestoreCollection: Error fetching data from ${collectionName}:`, err);\n        setError(`無法載入 ${collectionName} 資料，請稍後再試。`);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    const setupLiveListener = () => {\n      const unsubscribe = onSnapshot(q, (querySnapshot) => {\n        const fetchedData = querySnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n        setData(fetchedData);\n        setLoading(false);\n        setError(null);\n        console.log(`useFirestoreCollection: Live update from ${collectionName}.`);\n      }, (err) => {\n        console.error(`useFirestoreCollection: Live update error for ${collectionName}:`, err);\n        setError(`即時更新 ${collectionName} 資料失敗。`);\n        setLoading(false);\n      });\n      return unsubscribe;\n    };\n\n    let unsubscribe = null;\n    if (liveUpdate) {\n      unsubscribe = setupLiveListener();\n    } else {\n      fetchData();\n    }\n\n    // Cleanup function for useEffect\n    return () => {\n      if (unsubscribe) {\n        unsubscribe(); // Unsubscribe from live listener if it was set up\n      }\n    };\n  }, [collectionName, queryConstraints, liveUpdate]); // 依賴項，當這些改變時重新執行 effect\n\n  return { data, loading, error };\n};\n\nexport default useFirestoreCollection;\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { auth } from '../firebase';\nimport { orderBy } from 'firebase/firestore';\nimport { Table, Button, Dropdown } from 'react-bootstrap';\nimport { FaTrophy } from 'react-icons/fa';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport './Leaderboard.css';\n\nimport LoadingSpinner from './LoadingSpinner';\nimport useFirestoreCollection from '../hooks/useFirestoreCollection';\n\nconst Leaderboard = () => {\n  // eslint-disable-next-line no-unused-vars\n  const [currentUser] = useAuthState(auth);\n  const [pageSize, setPageSize] = useState(10); // User customizable page size\n  const [currentPage, setCurrentPage] = useState(1); // Current page number\n\n  const leaderboardQueryConstraints = useMemo(() => [\n    orderBy('score', 'desc')\n  ], []);\n\n  // eslint-disable-next-line no-unused-vars\n  const { data: allScores, loading, error } = useFirestoreCollection(\n    'scores',\n    leaderboardQueryConstraints,\n    true // Enable live updates for leaderboard\n  );\n\n  const [scores, setScores] = useState([]); // Scores for current page\n\n  useEffect(() => {\n    // Update scores for current page whenever allScores or pageSize changes\n    const startIndex = (currentPage - 1) * pageSize;\n    const endIndex = startIndex + pageSize;\n    setScores(allScores.slice(startIndex, endIndex));\n  }, [allScores, currentPage, pageSize]);\n\n  const totalPages = Math.ceil(allScores.length / pageSize);\n\n  const handleNextPage = () => {\n    if (currentPage < totalPages) {\n      setCurrentPage(prev => prev + 1);\n    }\n  };\n\n  const handlePrevPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(prev => prev - 1);\n    }\n  };\n\n  \n\n  const getRankClass = (index) => {\n    // Adjust index for current page\n    const globalIndex = (currentPage - 1) * pageSize + index;\n    if (globalIndex === 0) return 'rank-gold';\n    if (globalIndex === 1) return 'rank-silver';\n    if (globalIndex === 2) return 'rank-bronze';\n    return '';\n  };\n\n  return (\n    <div className=\"leaderboard-container mt-5\">\n      {/* Header Section with Title and Page Size Selector */}\n      <div className=\"d-flex justify-content-between align-items-center mb-3\">\n        <h2 className=\"leaderboard-title mb-0\">排行榜</h2>\n        <Dropdown>\n          <Dropdown.Toggle id=\"dropdown-pagesize\" size=\"sm\" className=\"btn-theme-gradient\">\n            每頁 {pageSize} 筆\n          </Dropdown.Toggle>\n          <Dropdown.Menu>\n            <Dropdown.Item onClick={() => setPageSize(10)}>10</Dropdown.Item>\n            <Dropdown.Item onClick={() => setPageSize(20)}>20</Dropdown.Item>\n            <Dropdown.Item onClick={() => setPageSize(50)}>50</Dropdown.Item>\n            <Dropdown.Item onClick={() => setPageSize(100)}>100</Dropdown.Item>\n          </Dropdown.Menu>\n        </Dropdown>\n      </div>\n\n      {/* Leaderboard Table */}\n      <Table striped bordered responsive variant=\"dark\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>玩家</th>\n            <th>分數</th>\n            <th>日期</th>\n          </tr>\n        </thead>\n        <tbody>\n          {loading ? (\n            <tr>\n              <td colSpan=\"4\" className=\"text-center\">\n                <LoadingSpinner loading={loading} />\n              </td>\n            </tr>\n          ) : (\n            scores.map((score, index) => (\n              <tr\n                key={score.id}\n                className={`${getRankClass( (currentPage - 1) * pageSize + index )} ${currentUser && score.userId === currentUser.uid ? 'current-user-row' : ''}`}\n              >\n                <td className=\"rank-cell\">\n                  {(currentPage - 1) * pageSize + index + 1 <= 3 ? (\n                    <FaTrophy className=\"trophy-icon\" />\n                  ) : (\n                    (currentPage - 1) * pageSize + index + 1\n                  )}\n                </td>\n                <td>{score.userName}</td>\n                <td>{score.score}</td>\n                <td>{new Date(score.createdAt?.toDate()).toLocaleDateString()}</td>\n              </tr>\n            ))\n          )}\n        </tbody>\n      </Table>\n      <div className=\"d-flex justify-content-between mt-3\">\n        {currentPage > 1 && (\n          <Button onClick={handlePrevPage} disabled={loading} variant=\"secondary\">上一頁</Button>\n        )}\n        {currentPage < totalPages && (\n          <Button onClick={handleNextPage} disabled={loading} variant=\"secondary\" className=\"ms-auto\">下一頁</Button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Leaderboard;","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { FiRefreshCcw, FiLink } from 'react-icons/fi';\nimport { FaLine } from 'react-icons/fa';\nimport { Alert, Accordion, Toast, ToastContainer, Button } from 'react-bootstrap';\nimport './FanQuiz.css';\n\nimport { db, auth } from '../firebase';\nimport { collection, addDoc, serverTimestamp, setDoc, doc, getDoc, increment } from 'firebase/firestore';\nimport { useAuthState } from 'react-firebase-hooks/auth';\n\nimport Leaderboard from './Leaderboard';\nimport LoadingSpinner from './LoadingSpinner';\nimport useFirestoreCollection from '../hooks/useFirestoreCollection';\n\n// Helper function to get random questions\nconst getRandomQuestions = (allQuestions, num = 5) => {\n  const shuffled = [...allQuestions].sort(() => 0.5 - Math.random());\n  return shuffled.slice(0, num);\n};\n\nfunction FanQuiz() {\n  const [questions, setQuestions] = useState([]);\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [score, setScore] = useState(0);\n  const [showScore, setShowScore] = useState(false);\n  const [userAnswers, setUserAnswers] = useState([]);\n  const [user] = useAuthState(auth);\n  const [showToast, setShowToast] = useState(false);\n  const [toastMessage, setToastMessage] = useState('');\n  const [toastVariant, setToastVariant] = useState('success');\n\n  const quizQueryConstraints = useMemo(() => [], []); // No specific order for initial fetch, will be shuffled anyway\n  const { data: masterQuestions, loading, error } = useFirestoreCollection('quizzes', quizQueryConstraints);\n\n  useEffect(() => {\n    if (!loading && !error && masterQuestions.length > 0) {\n      setQuestions(getRandomQuestions(masterQuestions));\n    }\n  }, [masterQuestions, loading, error]);\n\n  useEffect(() => {\n    const saveScore = async () => {\n      if (showScore && user && !user.isAnonymous) { // Only save score if user is logged in and not anonymous\n        try {\n          await addDoc(collection(db, \"scores\"), {\n            userName: user.displayName,\n            userId: user.uid,\n            score: score,\n            userAnswers: userAnswers, // Add userAnswers here\n            createdAt: serverTimestamp()\n          });\n        } catch (e) {\n          console.error(\"Error adding document: \", e);\n        }\n      }\n    };\n\n    saveScore();\n  }, [showScore, user, score, userAnswers]);\n\n  const checkAndUnlockAchievements = useCallback(async () => {\n    if (!user || user.isAnonymous) return; // Only check for logged-in users\n\n    const userAchievementsRef = doc(db, \"userAchievements\", user.uid);\n    const userAchievementsSnap = await getDoc(userAchievementsRef);\n    const userAchievements = userAchievementsSnap.exists() ? userAchievementsSnap.data() : {};\n\n    const achievementData = {\n      userName: user.displayName,\n      userEmail: user.email,\n    };\n\n    // Achievement: 首次作答全對\n    if (score === questions.length && !userAchievements.firstPerfectScore) {\n      await setDoc(userAchievementsRef, {\n        ...achievementData,\n        firstPerfectScore: true,\n        firstPerfectScoreDate: serverTimestamp()\n      }, { merge: true });\n      showAchievementToast(\"恭喜！您解鎖了 [首次作答全對] 成就！\");\n    }\n\n    // Achievement: 首次全錯\n    if (score === 0 && !userAchievements.firstAllWrong) {\n      await setDoc(userAchievementsRef, {\n        ...achievementData,\n        firstAllWrong: true,\n        firstAllWrongDate: serverTimestamp()\n      }, { merge: true });\n      showAchievementToast(\"恭喜！您解鎖了 [首次全錯] 成就！\");\n    }\n\n    // Login Achievements\n    const loginDaysCount = userAchievements.loginDaysCount || 0;\n\n    if (loginDaysCount >= 1 && !userAchievements.firstLogin) {\n      await setDoc(userAchievementsRef, {\n        ...achievementData,\n        firstLogin: true,\n        firstLoginDate: serverTimestamp()\n      }, { merge: true });\n      showAchievementToast(\"恭喜！您解鎖了 [首次登入] 成就！\");\n    }\n\n    if (loginDaysCount >= 3 && !userAchievements.threeDayLogin) {\n      await setDoc(userAchievementsRef, {\n        ...achievementData,\n        threeDayLogin: true,\n        threeDayLoginDate: serverTimestamp()\n      }, { merge: true });\n      showAchievementToast(\"恭喜！您解鎖了 [來三天囉] 成就！\");\n    }\n\n    if (loginDaysCount >= 7 && !userAchievements.sevenDayLogin) {\n      await setDoc(userAchievementsRef, {\n        ...achievementData,\n        sevenDayLogin: true,\n        sevenDayLoginDate: serverTimestamp()\n      }, { merge: true });\n      showAchievementToast(\"恭喜！您解鎖了 [阿彬鐵粉] 成就！\");\n    }\n\n    if (loginDaysCount >= 30 && !userAchievements.thirtyDayLogin) {\n      await setDoc(userAchievementsRef, {\n        ...achievementData,\n        thirtyDayLogin: true,\n        thirtyDayLoginDate: serverTimestamp()\n      }, { merge: true });\n      showAchievementToast(\"恭喜！您解鎖了 [女王的忠實護衛] 成就！\");\n    }\n\n    // Quizzes Answered Achievements\n    const totalQuizzesAnswered = userAchievements.totalQuizzesAnswered || 0;\n    const totalCorrectAnswers = userAchievements.totalCorrectAnswers || 0;\n    const totalIncorrectAnswers = userAchievements.totalIncorrectAnswers || 0;\n\n    if (totalCorrectAnswers >= 10 && !userAchievements.tenCorrectAnswers) {\n      await setDoc(userAchievementsRef, {\n        ...achievementData,\n        tenCorrectAnswers: true,\n        tenCorrectAnswersDate: serverTimestamp(),\n      }, { merge: true });\n      showAchievementToast(\"恭喜！您解鎖了 [小有成就] 成就！\");\n    }\n\n    if (totalCorrectAnswers >= 50 && !userAchievements.fiftyCorrectAnswers) {\n      await setDoc(userAchievementsRef, {\n        ...achievementData,\n        fiftyCorrectAnswers: true,\n        fiftyCorrectAnswersDate: serverTimestamp(),\n      }, { merge: true });\n      showAchievementToast(\"恭喜！您解鎖了 [鋼鐵粉絲] 成就！\");\n    }\n\n    if (totalCorrectAnswers >= 100 && !userAchievements.hundredCorrectAnswers) {\n      await setDoc(userAchievementsRef, {\n        ...achievementData,\n        hundredCorrectAnswers: true,\n        hundredCorrectAnswersDate: serverTimestamp(),\n      }, { merge: true });\n      showAchievementToast(\"恭喜！您解鎖了 [阿彬知識王] 成就！\");\n    }\n\n    if (totalIncorrectAnswers >= 10 && !userAchievements.tenIncorrectAnswers) {\n      await setDoc(userAchievementsRef, {\n        ...achievementData,\n        tenIncorrectAnswers: true,\n        tenIncorrectAnswersDate: serverTimestamp(),\n      }, { merge: true });\n      showAchievementToast(\"恭喜！您解鎖了 [再接再厲] 成就！\");\n    }\n\n    if (totalIncorrectAnswers >= 50 && !userAchievements.fiftyIncorrectAnswers) {\n      await setDoc(userAchievementsRef, {\n        ...achievementData,\n        fiftyIncorrectAnswers: true,\n        fiftyIncorrectAnswersDate: serverTimestamp(),\n      }, { merge: true });\n      showAchievementToast(\"恭喜！您解鎖了 [不怕失敗] 成就！\");\n    }\n\n    if (totalIncorrectAnswers >= 100 && !userAchievements.hundredIncorrectAnswers) {\n      await setDoc(userAchievementsRef, {\n        ...achievementData,\n        hundredIncorrectAnswers: true,\n        hundredIncorrectAnswersDate: serverTimestamp(),\n      }, { merge: true });\n      showAchievementToast(\"恭喜！您解鎖了 [越挫越勇] 成就！\");\n    }\n\n    if (totalQuizzesAnswered >= 100 && !userAchievements.hundredQuizzes) {\n      await setDoc(userAchievementsRef, {\n        ...achievementData,\n        hundredQuizzes: true,\n        hundredQuizzesDate: serverTimestamp()\n      }, { merge: true });\n      showAchievementToast(\"恭喜！您解鎖了 [刷題高手] 成就！\");\n    }\n\n    if (totalQuizzesAnswered >= 500 && !userAchievements.fiveHundredQuizzes) {\n      await setDoc(userAchievementsRef, {\n        ...achievementData,\n        fiveHundredQuizzes: true,\n        fiveHundredQuizzesDate: serverTimestamp()\n      }, { merge: true });\n      showAchievementToast(\"恭喜！您解鎖了 [刷題達人] 成就！\");\n    }\n\n    // 阿彬代言人 (保留神秘感)\n    if (totalQuizzesAnswered >= 1000 && !userAchievements.thousandQuizzes) {\n      await setDoc(userAchievementsRef, {\n        ...achievementData,\n        thousandQuizzes: true,\n        thousandQuizzesDate: serverTimestamp()\n      }, { merge: true });\n      showAchievementToast(\"恭喜！您解鎖了 [阿彬代言人] 成就！\");\n    }\n\n  }, [user, score, questions.length]);\n\n  const showAchievementToast = (message, variant = 'success') => {\n    setToastMessage(message);\n    setToastVariant(variant);\n    setShowToast(true);\n  };\n\n  useEffect(() => {\n    if (showScore && user && !user.isAnonymous) {\n      checkAndUnlockAchievements();\n    }\n  }, [showScore, user, checkAndUnlockAchievements]);\n\n  const handleAnswerOptionClick = (selectedOption) => {\n    const currentQ = questions[currentQuestion];\n    const isCorrect = selectedOption === currentQ.answer;\n\n    if (isCorrect) {\n      setScore(score + 1);\n    }\n\n    setUserAnswers(prevAnswers => [\n      ...prevAnswers,\n      {\n        question: currentQ.question,\n        correctAnswer: currentQ.answer,\n        userAnswer: selectedOption,\n        isCorrect: isCorrect,\n      },\n    ]);\n\n    const nextQuestion = currentQuestion + 1;\n    if (nextQuestion < questions.length) {\n      setCurrentQuestion(nextQuestion);\n    } else {\n      setShowScore(true);\n      // Increment totalQuizSessions and other stats when the quiz ends\n      if (user && !user.isAnonymous) {\n        const userAchievementsRef = doc(db, \"userAchievements\", user.uid);\n        const finalScore = isCorrect ? score + 1 : score; // Calculate final score for this quiz session\n        const updateData = {\n          totalQuizSessions: increment(1),\n          totalQuizzesAnswered: increment(questions.length),\n          totalCorrectAnswers: increment(finalScore),\n          totalIncorrectAnswers: increment(questions.length - finalScore),\n        };\n        setDoc(userAchievementsRef, updateData, { merge: true });\n      }\n    }\n  };\n\n  const resetQuiz = useCallback(() => {\n    setCurrentQuestion(0);\n    setScore(0);\n    setShowScore(false);\n    setQuestions(getRandomQuestions(masterQuestions));\n    setUserAnswers([]);\n  }, [masterQuestions]);\n\n  const generateShareContent = () => {\n    const shareText = `我在 염세빈 粉絲小遊戲中獲得了 ${score} 分！快來挑戰看看你的分數！`;\n    const shareUrl = window.location.href;\n    return { shareText, shareUrl };\n  };\n\n  const handleShareLink = () => {\n    const { shareText, shareUrl } = generateShareContent();\n    const fullShareLink = `${shareText} ${shareUrl}`;\n    navigator.clipboard.writeText(fullShareLink).then(() => {\n      alert('分享連結已複製到剪貼簿！');\n    }).catch(err => {\n      console.error('無法複製分享連結:', err);\n    });\n  };\n\n  const handleShareLine = () => {\n    const { shareText, shareUrl } = generateShareContent();\n    const lineMessage = `${shareText} ${shareUrl}`;\n    const lineShareUrl = `https://line.me/R/msg/text/?${encodeURIComponent(lineMessage)}`;\n    window.open(lineShareUrl, '_blank');\n  };\n\n  const ogImageUrl = `yeomsebeen_field.jpg`;\n\n  return (\n    <>\n      <Helmet>\n        <title>염세빈 粉絲小遊戲！</title>\n        <meta property=\"og:title\" content=\"염세빈 粉絲小遊戲！\" />\n        <meta property=\"og:description\" content=\"快來挑戰看看你對廉世彬的了解程度！\" />\n        <meta property=\"og:image\" content={`https://storage.googleapis.com/yeom-se-been-fanpage-assets/${ogImageUrl}`} />\n        <meta property=\"og:url\" content={window.location.href} />\n        <meta name=\"twitter:card\" content=\"summary_large_image\" />\n        <meta name=\"twitter:image\" content={`https://storage.googleapis.com/yeom-se-been-fanpage-assets/${ogImageUrl}`} />\n      </Helmet>\n      <ToastContainer position=\"top-end\" className=\"p-3\">\n        <Toast onClose={() => setShowToast(false)} show={showToast} bg={toastVariant}>\n          <Toast.Header>\n            <strong className=\"me-auto\">成就解鎖！</strong>\n          </Toast.Header>\n          <Toast.Body>{toastMessage}</Toast.Body>\n        </Toast>\n      </ToastContainer>\n      <div className=\"fan-quiz-container\">\n        <h2>염세彬 粉絲小遊戲！</h2>\n\n        {loading && <LoadingSpinner loading={loading} />}\n        {error && <Alert variant=\"danger\">{error}</Alert>}\n\n        {!loading && !error && (\n          showScore ? (\n            <div className=\"score-section\">\n              <div className=\"score-text\">你獲得了 {score} 分，總分 {questions.length} 分！</div>\n              {(!user || user.isAnonymous) && (\n                <Alert variant=\"info\" className=\"mt-3\" style={{ fontSize: '0.65em' }}>您的作答結果不會進入排行榜。如需記錄分數，請使用 Google 帳戶登入。</Alert>\n              )}\n              <div className=\"score-buttons\">\n                <button onClick={handleShareLink} className=\"quiz-button share-link-button\"><FiLink /></button>\n                <button onClick={resetQuiz} className=\"quiz-button play-again-button\"><FiRefreshCcw /></button>\n                <button onClick={handleShareLine} className=\"quiz-button share-line-button\"><FaLine /></button>\n              </div>\n\n              <div className=\"quiz-answers-summary mt-4\">\n                <h3>作答結果</h3>\n                {userAnswers.map((item, index) => (\n                  <div key={index} className=\"answer-item mb-3 p-3 border rounded\">\n                    <p><strong>問題 {index + 1}:</strong> {item.question}</p>\n                    <p><strong>你的答案:</strong> <span style={{ color: item.isCorrect ? '#28a745' : '#dc3545' }}>{item.userAnswer}</span></p>\n                    {!item.isCorrect && (\n                      <p><strong>正確答案:</strong> <span style={{ color: '#28a745' }}>{item.correctAnswer}</span></p>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n          ) : (\n            questions.length > 0 && (\n              <div className=\"question-section\">\n                <div className=\"question-count\">\n                  <span>問題 {currentQuestion + 1}</span>/{questions.length}\n                </div>\n                <div className=\"question-text\">\n                  {questions[currentQuestion]?.question}\n                </div>\n                <div className=\"answer-section\">\n                  {questions[currentQuestion]?.options.map((option, index) => (\n                    <Button\n                    key={index}\n                    onClick={() => handleAnswerOptionClick(option)}\n                    className=\"answer-btn btn-theme-gradient w-100 mb-2\"\n                    disabled={showScore} // Use showScore to disable button after quiz ends\n                  >\n                    {option}\n                  </Button>\n                  ))}\n                </div>\n              </div>\n            )\n          )\n        )}\n      </div>\n\n      <div className=\"leaderboard-section mt-5\">\n        <Accordion defaultActiveKey=\"0\">\n          <Accordion.Item eventKey=\"0\">\n            <Accordion.Header>排行榜</Accordion.Header>\n            <Accordion.Body>\n              <Leaderboard />\n            </Accordion.Body>\n          </Accordion.Item>\n        </Accordion>\n      </div>\n    </>\n  );\n}\n\nexport default FanQuiz;\n"],"names":["collectionName","queryConstraints","arguments","length","undefined","liveUpdate","data","setData","useState","loading","setLoading","error","setError","useEffect","collectionRef","collection","db","q","query","unsubscribe","onSnapshot","querySnapshot","fetchedData","docs","map","doc","id","console","log","err","async","getDocs","fetchData","Leaderboard","currentUser","useAuthState","auth","pageSize","setPageSize","currentPage","setCurrentPage","leaderboardQueryConstraints","useMemo","orderBy","allScores","useFirestoreCollection","scores","setScores","startIndex","endIndex","slice","totalPages","Math","ceil","getRankClass","index","globalIndex","_jsxs","className","children","_jsx","Dropdown","Toggle","size","Menu","Item","onClick","Table","striped","bordered","responsive","variant","colSpan","LoadingSpinner","score","_score$createdAt","userId","uid","FaTrophy","userName","Date","createdAt","toDate","toLocaleDateString","Button","handlePrevPage","prev","disabled","handleNextPage","getRandomQuestions","allQuestions","num","sort","random","_questions$currentQue","_questions$currentQue2","questions","setQuestions","currentQuestion","setCurrentQuestion","setScore","showScore","setShowScore","userAnswers","setUserAnswers","user","showToast","setShowToast","toastMessage","setToastMessage","toastVariant","setToastVariant","quizQueryConstraints","masterQuestions","isAnonymous","addDoc","displayName","serverTimestamp","e","saveScore","checkAndUnlockAchievements","useCallback","userAchievementsRef","userAchievementsSnap","getDoc","userAchievements","exists","achievementData","userEmail","email","firstPerfectScore","setDoc","firstPerfectScoreDate","merge","showAchievementToast","firstAllWrong","firstAllWrongDate","loginDaysCount","firstLogin","firstLoginDate","threeDayLogin","threeDayLoginDate","sevenDayLogin","sevenDayLoginDate","thirtyDayLogin","thirtyDayLoginDate","totalQuizzesAnswered","totalCorrectAnswers","totalIncorrectAnswers","tenCorrectAnswers","tenCorrectAnswersDate","fiftyCorrectAnswers","fiftyCorrectAnswersDate","hundredCorrectAnswers","hundredCorrectAnswersDate","tenIncorrectAnswers","tenIncorrectAnswersDate","fiftyIncorrectAnswers","fiftyIncorrectAnswersDate","hundredIncorrectAnswers","hundredIncorrectAnswersDate","hundredQuizzes","hundredQuizzesDate","fiveHundredQuizzes","fiveHundredQuizzesDate","thousandQuizzes","thousandQuizzesDate","message","resetQuiz","generateShareContent","shareText","shareUrl","window","location","href","ogImageUrl","_Fragment","Helmet","property","content","name","ToastContainer","position","Toast","onClose","show","bg","Header","Body","Alert","style","fontSize","handleShareLink","fullShareLink","navigator","clipboard","writeText","then","alert","catch","FiLink","FiRefreshCcw","handleShareLine","lineShareUrl","encodeURIComponent","open","FaLine","item","question","color","isCorrect","userAnswer","correctAnswer","options","option","selectedOption","currentQ","answer","prevAnswers","nextQuestion","finalScore","updateData","totalQuizSessions","increment","handleAnswerOptionClick","Accordion","defaultActiveKey","eventKey"],"sourceRoot":""}