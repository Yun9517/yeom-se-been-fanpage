"use strict";(self.webpackChunkyeom_se_been_fanpage=self.webpackChunkyeom_se_been_fanpage||[]).push([[883],{1131:(e,s,a)=>{a.d(s,{A:()=>i});var t=a(5043),r=a(6667),n=a(791);const i=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0),[d,m]=(0,t.useState)(null);return(0,t.useEffect)(()=>{c(!0),m(null);const t=(0,r.rJ)(n.db,e);let i=(0,r.P)(t,...s);let l=null;return a?l=(0,r.aQ)(i,s=>{const a=s.docs.map(e=>({id:e.id,...e.data()}));o(a),c(!1),m(null),console.log(`useFirestoreCollection: Live update from ${e}.`)},s=>{console.error(`useFirestoreCollection: Live update error for ${e}:`,s),m(`\u5373\u6642\u66f4\u65b0 ${e} \u8cc7\u6599\u5931\u6557\u3002`),c(!1)}):(async()=>{try{const s=(await(0,r.GG)(i)).docs.map(e=>({id:e.id,...e.data()}));o(s),console.log(`useFirestoreCollection: Fetched data from ${e}.`)}catch(s){console.error(`useFirestoreCollection: Error fetching data from ${e}:`,s),m(`\u7121\u6cd5\u8f09\u5165 ${e} \u8cc7\u6599\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002`)}finally{c(!1)}})(),()=>{l&&l()}},[e,s,a]),{data:i,loading:l,error:d}}},1719:(e,s,a)=>{a.d(s,{A:()=>g});var t=a(8139),r=a.n(t),n=a(5043),i=a(1969),o=a(6618),l=a(7852),c=a(4488),d=a(579);const m=(0,c.A)("h4");m.displayName="DivStyledAsH4";const u=n.forwardRef((e,s)=>{let{className:a,bsPrefix:t,as:n=m,...i}=e;return t=(0,l.oU)(t,"alert-heading"),(0,d.jsx)(n,{ref:s,className:r()(a,t),...i})});u.displayName="AlertHeading";const f=u;var v=a(7071);const x=n.forwardRef((e,s)=>{let{className:a,bsPrefix:t,as:n=v.A,...i}=e;return t=(0,l.oU)(t,"alert-link"),(0,d.jsx)(n,{ref:s,className:r()(a,t),...i})});x.displayName="AlertLink";const h=x;var b=a(8072),A=a(5632);const p=n.forwardRef((e,s)=>{const{bsPrefix:a,show:t=!0,closeLabel:n="Close alert",closeVariant:c,className:m,children:u,variant:f="primary",onClose:v,dismissible:x,transition:h=b.A,...p}=(0,i.Zw)(e,{show:"onClose"}),g=(0,l.oU)(a,"alert"),j=(0,o.A)(e=>{v&&v(!1,e)}),N=!0===h?b.A:h,$=(0,d.jsxs)("div",{role:"alert",...N?void 0:p,ref:s,className:r()(m,g,f&&`${g}-${f}`,x&&`${g}-dismissible`),children:[x&&(0,d.jsx)(A.A,{onClick:j,"aria-label":n,variant:c}),u]});return N?(0,d.jsx)(N,{unmountOnExit:!0,...p,ref:void 0,in:t,children:$}):t?$:null});p.displayName="Alert";const g=Object.assign(p,{Link:h,Heading:f})},2223:(e,s,a)=>{a.d(s,{A:()=>h});var t=a(8139),r=a.n(t),n=a(5043),i=(a(6440),a(1969)),o=a(927),l=a(7852),c=a(6618),d=a(2644),m=a(5901),u=a(579);const f=n.forwardRef((e,s)=>{let{bsPrefix:a,active:t,disabled:n,eventKey:i,className:o,variant:f,action:v,as:x,...h}=e;a=(0,l.oU)(a,"list-group-item");const[b,A]=(0,d.M)({key:(0,m.u)(i,h.href),active:t,...h}),p=(0,c.A)(e=>{if(n)return e.preventDefault(),void e.stopPropagation();b.onClick(e)});n&&void 0===h.tabIndex&&(h.tabIndex=-1,h["aria-disabled"]=!0);const g=x||(v?h.href?"a":"button":"div");return(0,u.jsx)(g,{ref:s,...h,...b,onClick:p,className:r()(o,a,A.isActive&&"active",n&&"disabled",f&&`${a}-${f}`,v&&`${a}-action`)})});f.displayName="ListGroupItem";const v=f,x=n.forwardRef((e,s)=>{const{className:a,bsPrefix:t,variant:n,horizontal:c,numbered:d,as:m="div",...f}=(0,i.Zw)(e,{activeKey:"onSelect"}),v=(0,l.oU)(t,"list-group");let x;return c&&(x=!0===c?"horizontal":`horizontal-${c}`),(0,u.jsx)(o.A,{ref:s,...f,as:m,className:r()(a,v,n&&`${v}-${n}`,x&&`${v}-${x}`,d&&`${v}-numbered`)})});x.displayName="ListGroup";const h=Object.assign(x,{Item:v})},7417:(e,s,a)=>{a.d(s,{A:()=>c});var t=a(8139),r=a.n(t),n=a(5043),i=a(7852),o=a(579);const l=n.forwardRef((e,s)=>{let{bsPrefix:a,variant:t,animation:n="border",size:l,as:c="div",className:d,...m}=e;a=(0,i.oU)(a,"spinner");const u=`${a}-${n}`;return(0,o.jsx)(c,{ref:s,...m,className:r()(d,u,l&&`${u}-${l}`,t&&`text-${t}`)})});l.displayName="Spinner";const c=l},8883:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var t=a(5043),r=a(3519),n=a(7417),i=a(1719),o=a(2223),l=a(2678),c=a(1131),d=a(6667),m=a(579);const u=()=>{const{user:e,loading:s,error:a}=(0,l.J)(),u=(0,t.useMemo)(()=>e&&!e.isAnonymous?[(0,d._M)("userId","==",e.uid),(0,d.My)("timestamp","desc")]:[],[e]),{data:f,loading:v,error:x}=(0,c.A)("notifications",u);return s||v?(0,m.jsx)(r.A,{className:"mt-5 text-center",children:(0,m.jsx)(n.A,{animation:"border"})}):a||x?(0,m.jsx)(r.A,{className:"mt-5",children:(0,m.jsxs)(i.A,{variant:"danger",children:["\u7121\u6cd5\u8f09\u5165\u8a0a\u606f\uff1a",(null===a||void 0===a?void 0:a.message)||(null===x||void 0===x?void 0:x.message)]})}):!e||e.isAnonymous?(0,m.jsx)(r.A,{className:"mt-5",children:(0,m.jsx)(i.A,{variant:"warning",children:"\u8acb\u767b\u5165\u4ee5\u67e5\u770b\u60a8\u7684\u8a0a\u606f\u3002"})}):(0,m.jsxs)(r.A,{className:"mt-5",children:[(0,m.jsx)("h2",{children:"\u8a0a\u606f\u4e2d\u5fc3"}),0===f.length?(0,m.jsx)(i.A,{variant:"info",children:"\u60a8\u76ee\u524d\u6c92\u6709\u4efb\u4f55\u8a0a\u606f\u3002"}):(0,m.jsx)(o.A,{children:f.map(e=>{var s;return(0,m.jsx)(o.A.Item,{className:"d-flex justify-content-between align-items-center",children:(0,m.jsxs)("div",{children:[(0,m.jsx)("strong",{children:e.title}),(0,m.jsx)("small",{className:"d-block text-muted",children:e.message}),(0,m.jsx)("small",{className:"d-block text-muted",children:null===(s=e.timestamp)||void 0===s?void 0:s.toDate().toLocaleString()})]})},e.id)})})]})}}}]);
//# sourceMappingURL=883.568adeac.chunk.js.map