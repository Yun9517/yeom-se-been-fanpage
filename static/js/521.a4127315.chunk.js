"use strict";(self.webpackChunkyeom_se_been_fanpage=self.webpackChunkyeom_se_been_fanpage||[]).push([[521],{1521:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var a=t(5043),n=t(1048),i=t(579);const r=()=>{const[e,s]=(0,a.useState)([]),[t,r]=(0,a.useState)(""),[o,l]=(0,a.useState)(!1),[c,_]=(0,a.useState)(null);(0,a.useEffect)(()=>{const e={NODE_ENV:"production",PUBLIC_URL:"/yeom-se-been-fanpage",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBCAA2tKMeX7wpETnOtuc7mCd4TPxcovJA",REACT_APP_APP_ID:"1:877607457069:web:6ad572557ab69870fe83a4",REACT_APP_AUTH_DOMAIN:"my-project-2024-438015.firebaseapp.com",REACT_APP_MEASUREMENT_ID:"G-F17RZ4HHLL",REACT_APP_MESSAGING_SENDER_ID:"877607457069",REACT_APP_PROJECT_ID:"my-project-2024-438015",REACT_APP_STORAGE_BUCKET:"my-project-2024-438015.firebasestorage.app"}.REACT_APP_GEMINI_API_KEY;if(console.log("Gemini API Key:",e),e){const s=new n.ij(e);_(s)}else console.error("Gemini API key not found. Please set REACT_APP_GEMINI_API_KEY in your .env.local file.")},[]);const A=async()=>{if(""===t.trim()||!c)return;const e={sender:"user",text:t};s(s=>[...s,e]),r(""),l(!0);try{const e=c.getGenerativeModel({model:"gemini-1.5-flash"}),a=`\u4f60\u662f\u4e00\u4f4d\u71b1\u60c5\u4e14\u6a02\u65bc\u52a9\u4eba\u7684\u52a9\u7406\uff0c\u4e5f\u662f\u5566\u5566\u968a\u54e1\u5ec9\u4e16\u5f6c\uff08\u5ec9\u4e16\u5f6c\uff09\u7684\u8d85\u7d1a\u7c89\u7d72\u3002\u4f60\u7684\u76ee\u6a19\u662f\u56de\u7b54\u6709\u95dc\u5979\u7684\u554f\u984c\u3002\u5982\u679c\u554f\u984c\u8207\u5979\u7121\u95dc\uff0c\u8acb\u79ae\u8c8c\u5730\u62d2\u7d55\u4e26\u5c07\u8a71\u984c\u5f15\u5c0e\u56de\u5ec9\u4e16\u5f6c\u3002\u554f\u984c\uff1a${t}`,n=await e.generateContent(a),i=await n.response,r={sender:"bot",text:i.text()};s(e=>[...e,r])}catch(a){console.error("Error calling Gemini API:",a);const e={sender:"bot",text:"\u62b1\u6b49\uff0c\u6211\u73fe\u5728\u7121\u6cd5\u56de\u7b54\u554f\u984c\u3002\u8acb\u6aa2\u67e5 API \u91d1\u9470\u6216\u7a0d\u5f8c\u518d\u8a66\u3002"};s(s=>[...s,e])}finally{l(!1)}};return(0,i.jsxs)("div",{className:"bintalk-container",children:[(0,i.jsxs)("div",{className:"bintalk-header",children:[(0,i.jsx)("h2",{children:"\u5f6cTalk"}),(0,i.jsx)("p",{children:"\u5feb\u4f86\u804a\u804a\u5f6c\u5f6c\u7684\u5927\u5c0f\u4e8b\uff0c\u7c89\u7d72\u9650\u5b9a\u8a71\u984c\u7b49\u4f60\u4f86\u554f\uff01"})]}),(0,i.jsxs)("div",{className:"bintalk-messages",children:[e.map((e,s)=>(0,i.jsx)("div",{className:`message ${e.sender}`,children:e.text},s)),o&&(0,i.jsx)("div",{className:"message bot",children:"\u56de\u8986\u4e2d\u8acb\u8010\u5fc3\u7b49\u5f85..."})]}),(0,i.jsxs)("div",{className:"bintalk-input-area",children:[(0,i.jsx)("input",{type:"text",value:t,onChange:e=>{r(e.target.value)},onKeyPress:e=>{"Enter"!==e.key||o||A()},placeholder:c?"\u8f38\u5165\u4f60\u60f3\u554f\u7684\u554f\u984c...":"\u6b63\u5728\u521d\u59cb\u5316\uff0c\u8acb\u7a0d\u5019...",disabled:o||!c}),(0,i.jsx)("button",{onClick:A,disabled:o||!c,children:"\u50b3\u9001"})]})]})}}}]);
//# sourceMappingURL=521.a4127315.chunk.js.map