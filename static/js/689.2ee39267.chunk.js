"use strict";(self.webpackChunkyeom_se_been_fanpage=self.webpackChunkyeom_se_been_fanpage||[]).push([[689],{1719:(e,s,r)=>{r.d(s,{A:()=>g});var a=r(8139),t=r.n(a),n=r(5043),i=r(1969),l=r(6618),o=r(7852),c=r(4488),d=r(579);const m=(0,c.A)("h4");m.displayName="DivStyledAsH4";const u=n.forwardRef((e,s)=>{let{className:r,bsPrefix:a,as:n=m,...i}=e;return a=(0,o.oU)(a,"alert-heading"),(0,d.jsx)(n,{ref:s,className:t()(r,a),...i})});u.displayName="AlertHeading";const f=u;var x=r(7071);const h=n.forwardRef((e,s)=>{let{className:r,bsPrefix:a,as:n=x.A,...i}=e;return a=(0,o.oU)(a,"alert-link"),(0,d.jsx)(n,{ref:s,className:t()(r,a),...i})});h.displayName="AlertLink";const N=h;var v=r(8072),j=r(5632);const b=n.forwardRef((e,s)=>{const{bsPrefix:r,show:a=!0,closeLabel:n="Close alert",closeVariant:c,className:m,children:u,variant:f="primary",onClose:x,dismissible:h,transition:N=v.A,...b}=(0,i.Zw)(e,{show:"onClose"}),g=(0,o.oU)(r,"alert"),p=(0,l.A)(e=>{x&&x(!1,e)}),y=!0===N?v.A:N,A=(0,d.jsxs)("div",{role:"alert",...y?void 0:b,ref:s,className:t()(m,g,f&&`${g}-${f}`,h&&`${g}-dismissible`),children:[h&&(0,d.jsx)(j.A,{onClick:p,"aria-label":n,variant:c}),u]});return y?(0,d.jsx)(y,{unmountOnExit:!0,...b,ref:void 0,in:a,children:A}):a?A:null});b.displayName="Alert";const g=Object.assign(b,{Link:N,Heading:f})},5689:(e,s,r)=>{r.r(s),r.d(s,{default:()=>J});var a,t=r(5043),n=r(791),i=r(6667),l=r(8279),o=r(3519),c=r(7417),d=r(1719),m=r(9437),u=r(1072),f=r(8602),x=r(8628),h=r(8139),N=r.n(h),v=r(3043),j=r(660),b=r(182),g=r(8260);function p(e){if((!a&&0!==a||e)&&j.A){var s=document.createElement("div");s.style.position="absolute",s.style.top="-9999px",s.style.width="50px",s.style.height="50px",s.style.overflow="scroll",document.body.appendChild(s),a=s.offsetWidth-s.clientWidth,document.body.removeChild(s)}return a}var y=r(6618),A=r(8293),w=r(9109),k=r(4232),C=r(8170),R=r(11),$=r(8072),U=r(7852),P=r(579);const D=t.forwardRef((e,s)=>{let{className:r,bsPrefix:a,as:t="div",...n}=e;return a=(0,U.oU)(a,"modal-body"),(0,P.jsx)(t,{ref:s,className:N()(r,a),...n})});D.displayName="ModalBody";const T=D;var E=r(1602);const S=t.forwardRef((e,s)=>{let{bsPrefix:r,className:a,contentClassName:t,centered:n,size:i,fullscreen:l,children:o,scrollable:c,...d}=e;r=(0,U.oU)(r,"modal");const m=`${r}-dialog`,u="string"===typeof l?`${r}-fullscreen-${l}`:`${r}-fullscreen`;return(0,P.jsx)("div",{...d,ref:s,className:N()(m,a,i&&`${r}-${i}`,n&&`${m}-centered`,c&&`${m}-scrollable`,l&&u),children:(0,P.jsx)("div",{className:N()(`${r}-content`,t),children:o})})});S.displayName="ModalDialog";const F=S,B=t.forwardRef((e,s)=>{let{className:r,bsPrefix:a,as:t="div",...n}=e;return a=(0,U.oU)(a,"modal-footer"),(0,P.jsx)(t,{ref:s,className:N()(r,a),...n})});B.displayName="ModalFooter";const H=B;var L=r(2258);const I=t.forwardRef((e,s)=>{let{bsPrefix:r,className:a,closeLabel:t="Close",closeButton:n=!1,...i}=e;return r=(0,U.oU)(r,"modal-header"),(0,P.jsx)(L.A,{ref:s,...i,className:N()(a,r),closeLabel:t,closeButton:n})});I.displayName="ModalHeader";const O=I;const M=(0,r(4488).A)("h4"),z=t.forwardRef((e,s)=>{let{className:r,bsPrefix:a,as:t=M,...n}=e;return a=(0,U.oU)(a,"modal-title"),(0,P.jsx)(t,{ref:s,className:N()(r,a),...n})});z.displayName="ModalTitle";const _=z;function Z(e){return(0,P.jsx)($.A,{...e,timeout:null})}function W(e){return(0,P.jsx)($.A,{...e,timeout:null})}const K=t.forwardRef((e,s)=>{let{bsPrefix:r,className:a,style:n,dialogClassName:i,contentClassName:l,children:o,dialogAs:c=F,"data-bs-theme":d,"aria-labelledby":m,"aria-describedby":u,"aria-label":f,show:x=!1,animation:h=!0,backdrop:$=!0,keyboard:D=!0,onEscapeKeyDown:T,onShow:S,onHide:B,container:H,autoFocus:L=!0,enforceFocus:I=!0,restoreFocus:O=!0,restoreFocusOptions:M,onEntered:z,onExit:_,onExiting:K,onEnter:V,onEntering:G,onExited:q,backdropClassName:J,manager:Q,...X}=e;const[Y,ee]=(0,t.useState)({}),[se,re]=(0,t.useState)(!1),ae=(0,t.useRef)(!1),te=(0,t.useRef)(!1),ne=(0,t.useRef)(null),[ie,le]=(0,t.useState)(null),oe=(0,A.A)(s,le),ce=(0,y.A)(B),de=(0,U.Wz)();r=(0,U.oU)(r,"modal");const me=(0,t.useMemo)(()=>({onHide:ce}),[ce]);function ue(){return Q||(0,R.R)({isRTL:de})}function fe(e){if(!j.A)return;const s=ue().getScrollbarWidth()>0,r=e.scrollHeight>(0,b.A)(e).documentElement.clientHeight;ee({paddingRight:s&&!r?p():void 0,paddingLeft:!s&&r?p():void 0})}const xe=(0,y.A)(()=>{ie&&fe(ie.dialog)});(0,w.A)(()=>{(0,g.A)(window,"resize",xe),null==ne.current||ne.current()});const he=()=>{ae.current=!0},Ne=e=>{ae.current&&ie&&e.target===ie.dialog&&(te.current=!0),ae.current=!1},ve=()=>{re(!0),ne.current=(0,k.A)(ie.dialog,()=>{re(!1)})},je=e=>{"static"!==$?te.current||e.target!==e.currentTarget?te.current=!1:null==B||B():(e=>{e.target===e.currentTarget&&ve()})(e)},be=(0,t.useCallback)(e=>(0,P.jsx)("div",{...e,className:N()(`${r}-backdrop`,J,!h&&"show")}),[h,J,r]),ge={...n,...Y};ge.display="block";return(0,P.jsx)(E.A.Provider,{value:me,children:(0,P.jsx)(C.A,{show:x,ref:oe,backdrop:$,container:H,keyboard:!0,autoFocus:L,enforceFocus:I,restoreFocus:O,restoreFocusOptions:M,onEscapeKeyDown:e=>{D?null==T||T(e):(e.preventDefault(),"static"===$&&ve())},onShow:S,onHide:B,onEnter:(e,s)=>{e&&fe(e),null==V||V(e,s)},onEntering:(e,s)=>{null==G||G(e,s),(0,v.Ay)(window,"resize",xe)},onEntered:z,onExit:e=>{null==ne.current||ne.current(),null==_||_(e)},onExiting:K,onExited:e=>{e&&(e.style.display=""),null==q||q(e),(0,g.A)(window,"resize",xe)},manager:ue(),transition:h?Z:void 0,backdropTransition:h?W:void 0,renderBackdrop:be,renderDialog:e=>(0,P.jsx)("div",{role:"dialog",...e,style:ge,className:N()(a,r,se&&`${r}-static`,!h&&"show"),onClick:$?je:void 0,onMouseUp:Ne,"data-bs-theme":d,"aria-label":f,"aria-labelledby":m,"aria-describedby":u,children:(0,P.jsx)(c,{...X,onMouseDown:he,className:i,contentClassName:l,children:o})})})})});K.displayName="Modal";const V=Object.assign(K,{Body:T,Header:O,Title:_,Footer:H,Dialog:F,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var G=r(184),q=r(6481);const J=()=>{var e,s;const[r,a]=(0,l.hD)(n.j),[h,N]=(0,t.useState)({}),[v,j]=(0,t.useState)(!0),[b,g]=(0,t.useState)(null),[p,y]=(0,t.useState)("tier"),[A,w]=(0,t.useState)(!1),[k,C]=(0,t.useState)(null),R=[...q.v].sort((e,s)=>{if(e.hidden&&!s.hidden)return 1;if(!e.hidden&&s.hidden)return-1;const r=h[e.id],a=h[s.id];if(r&&!a)return-1;if(!r&&a)return 1;if("tier"===p){var t,n;const r=(null===(t=q.B[e.tier])||void 0===t?void 0:t.order)||99;return((null===(n=q.B[s.tier])||void 0===n?void 0:n.order)||99)-r}if("date"===p){var i,l;const t=r?null===(i=h[`${e.id}Date`])||void 0===i?void 0:i.toDate():null,n=a?null===(l=h[`${s.id}Date`])||void 0===l?void 0:l.toDate():null;return t&&n?n.getTime()-t.getTime():t?-1:n?1:0}return 0});return(0,t.useEffect)(()=>{r?(N({}),j(!0),g(null)):(N({}),j(!1),g("\u8acb\u5148\u767b\u5165\u4ee5\u67e5\u770b\u6210\u5c31\u3002"))},[r]),(0,t.useEffect)(()=>{(async()=>{if(!a&&r){j(!0);try{const e=(0,i.H9)(n.db,"userAchievements",r.uid),s=await(0,i.x7)(e);s.exists()?N(s.data()):N({})}catch(e){console.error("Error fetching achievements:",e),g("\u7121\u6cd5\u8f09\u5165\u6210\u5c31\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002")}finally{j(!1)}}})()},[r,a]),a?(0,P.jsxs)(o.A,{className:"mt-5 text-center",children:[(0,P.jsx)(c.A,{animation:"border",variant:"light"}),(0,P.jsx)("p",{className:"text-white-50 mt-2",children:"\u8f09\u5165\u4f7f\u7528\u8005\u72c0\u614b..."})]}):v?(0,P.jsxs)(o.A,{className:"mt-5 text-center",children:[(0,P.jsx)(c.A,{animation:"border",variant:"light"}),(0,P.jsx)("p",{className:"text-white-50 mt-2",children:"\u8f09\u5165\u6210\u5c31\u4e2d..."})]}):b?(0,P.jsx)(o.A,{className:"mt-5",children:(0,P.jsx)(d.A,{variant:"danger",children:b})}):r?r.isAnonymous?(0,P.jsx)(o.A,{className:"mt-5",children:(0,P.jsx)(d.A,{variant:"info",children:"\u60a8\u76ee\u524d\u4ee5\u8a2a\u5ba2\u6a21\u5f0f\u767b\u5165\u3002\u5982\u9700\u67e5\u770b\u4e26\u5132\u5b58\u6210\u5c31\uff0c\u8acb\u4f7f\u7528 Google \u5e33\u6236\u767b\u5165\u3002"})}):(0,P.jsxs)(o.A,{className:"mt-5 leaderboard-container",children:[(0,P.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,P.jsx)("h2",{children:"\u6211\u7684\u6210\u5c31"}),(0,P.jsxs)(m.A,{children:[(0,P.jsxs)(m.A.Toggle,{variant:"secondary",id:"dropdown-basic",children:["\u6392\u5e8f\u65b9\u5f0f: ","tier"===p?"\u4f9d\u7b49\u7d1a":"\u4f9d\u53d6\u5f97\u6642\u9593"]}),(0,P.jsxs)(m.A.Menu,{children:[(0,P.jsx)(m.A.Item,{onClick:()=>y("tier"),children:"\u4f9d\u7b49\u7d1a"}),(0,P.jsx)(m.A.Item,{onClick:()=>y("date"),children:"\u4f9d\u53d6\u5f97\u6642\u9593"})]})]})]}),0===R.length?(0,P.jsx)(d.A,{variant:"info",children:"\u76ee\u524d\u6c92\u6709\u53ef\u89e3\u9396\u7684\u6210\u5c31\u3002"}):(0,P.jsx)(u.A,{xs:2,sm:2,md:3,lg:4,className:"g-4",children:R.map(e=>{var s;const r=h[e.id],a=null===(s=h[`${e.id}Date`])||void 0===s?void 0:s.toDate().toLocaleDateString(),t=e.progressField&&h[e.progressField]||0,n=r||!e.hidden?e.description:"???",i=r||!e.hidden?e.name:"???";return(0,P.jsx)(f.A,{className:"d-flex justify-content-center",children:(0,P.jsx)(x.A,{className:`achievement-card ${r?"unlocked":"locked"} tier-${e.tier.toLowerCase()}`,onClick:()=>{C({...e,isUnlocked:r,unlockDate:a,currentProgress:t,displayDescription:n,displayName:i}),w(!0)},style:{cursor:"pointer"},children:(0,P.jsxs)(x.A.Body,{className:"text-center",children:[(0,P.jsx)("div",{className:"achievement-icon",children:r?(0,P.jsx)(G.Z0L,{size:50}):(0,P.jsx)(G.gZZ,{size:50,color:"#ccc"})}),(0,P.jsx)(x.A.Title,{className:"mt-2",children:i}),e.progressField&&!r&&(e.hidden?(0,P.jsx)("div",{className:"achievement-progress",children:"\u4f60\u6b63\u5728\u6162\u6162\u89e3\u9396\u4e2d"}):(0,P.jsxs)("div",{className:"achievement-progress",children:[t,"/",e.targetValue]}))]})})},e.id)})}),(0,P.jsxs)(V,{show:A,onHide:()=>w(!1),centered:!0,children:[(0,P.jsx)(V.Header,{closeButton:!0,className:"bg-dark text-white",children:(0,P.jsx)(V.Title,{children:null===k||void 0===k?void 0:k.displayName})}),(0,P.jsx)(V.Body,{className:"bg-dark text-white text-center",children:k&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:"mb-3",children:k.isUnlocked?(0,P.jsx)(G.Z0L,{size:80,color:null===(e=q.B[k.tier])||void 0===e?void 0:e.color,className:!k.isUnlocked||"PLATINUM"!==k.tier&&"DIAMOND"!==k.tier?"":`icon-glow tier-${k.tier.toLowerCase()}`}):(0,P.jsx)(G.gZZ,{size:80,color:"#ccc"})}),(0,P.jsx)("p",{children:k.displayDescription}),(0,P.jsxs)("p",{children:[(0,P.jsx)("strong",{children:"\u7b49\u7d1a:"})," ",null===(s=q.B[k.tier])||void 0===s?void 0:s.name]}),k.isUnlocked?(0,P.jsxs)("p",{children:[(0,P.jsx)("strong",{children:"\u89e3\u9396\u65e5\u671f:"})," ",k.unlockDate]}):(0,P.jsx)("p",{children:"\u5c1a\u672a\u89e3\u9396"}),k.progressField&&!k.isUnlocked&&(k.hidden?(0,P.jsx)("p",{children:"\u4f60\u6b63\u5728\u6162\u6162\u89e3\u9396\u4e2d"}):(0,P.jsxs)("p",{children:[(0,P.jsx)("strong",{children:"\u9032\u5ea6:"})," ",k.currentProgress,"/",k.targetValue]}))]})}),(0,P.jsx)(V.Footer,{className:"bg-dark"})]})]}):(0,P.jsx)(o.A,{className:"mt-5",children:(0,P.jsx)(d.A,{variant:"info",children:"\u8acb\u767b\u5165\u4ee5\u67e5\u770b\u60a8\u7684\u6210\u5c31\u3002"})})}},7417:(e,s,r)=>{r.d(s,{A:()=>c});var a=r(8139),t=r.n(a),n=r(5043),i=r(7852),l=r(579);const o=n.forwardRef((e,s)=>{let{bsPrefix:r,variant:a,animation:n="border",size:o,as:c="div",className:d,...m}=e;r=(0,i.oU)(r,"spinner");const u=`${r}-${n}`;return(0,l.jsx)(c,{ref:s,...m,className:t()(d,u,o&&`${u}-${o}`,a&&`text-${a}`)})});o.displayName="Spinner";const c=o},8628:(e,s,r)=>{r.d(s,{A:()=>D});var a=r(8139),t=r.n(a),n=r(5043),i=r(7852),l=r(579);const o=n.forwardRef((e,s)=>{let{className:r,bsPrefix:a,as:n="div",...o}=e;return a=(0,i.oU)(a,"card-body"),(0,l.jsx)(n,{ref:s,className:t()(r,a),...o})});o.displayName="CardBody";const c=o,d=n.forwardRef((e,s)=>{let{className:r,bsPrefix:a,as:n="div",...o}=e;return a=(0,i.oU)(a,"card-footer"),(0,l.jsx)(n,{ref:s,className:t()(r,a),...o})});d.displayName="CardFooter";const m=d;var u=r(1778);const f=n.forwardRef((e,s)=>{let{bsPrefix:r,className:a,as:o="div",...c}=e;const d=(0,i.oU)(r,"card-header"),m=(0,n.useMemo)(()=>({cardHeaderBsPrefix:d}),[d]);return(0,l.jsx)(u.A.Provider,{value:m,children:(0,l.jsx)(o,{ref:s,...c,className:t()(a,d)})})});f.displayName="CardHeader";const x=f,h=n.forwardRef((e,s)=>{let{bsPrefix:r,className:a,variant:n,as:o="img",...c}=e;const d=(0,i.oU)(r,"card-img");return(0,l.jsx)(o,{ref:s,className:t()(n?`${d}-${n}`:d,a),...c})});h.displayName="CardImg";const N=h,v=n.forwardRef((e,s)=>{let{className:r,bsPrefix:a,as:n="div",...o}=e;return a=(0,i.oU)(a,"card-img-overlay"),(0,l.jsx)(n,{ref:s,className:t()(r,a),...o})});v.displayName="CardImgOverlay";const j=v,b=n.forwardRef((e,s)=>{let{className:r,bsPrefix:a,as:n="a",...o}=e;return a=(0,i.oU)(a,"card-link"),(0,l.jsx)(n,{ref:s,className:t()(r,a),...o})});b.displayName="CardLink";const g=b;var p=r(4488);const y=(0,p.A)("h6"),A=n.forwardRef((e,s)=>{let{className:r,bsPrefix:a,as:n=y,...o}=e;return a=(0,i.oU)(a,"card-subtitle"),(0,l.jsx)(n,{ref:s,className:t()(r,a),...o})});A.displayName="CardSubtitle";const w=A,k=n.forwardRef((e,s)=>{let{className:r,bsPrefix:a,as:n="p",...o}=e;return a=(0,i.oU)(a,"card-text"),(0,l.jsx)(n,{ref:s,className:t()(r,a),...o})});k.displayName="CardText";const C=k,R=(0,p.A)("h5"),$=n.forwardRef((e,s)=>{let{className:r,bsPrefix:a,as:n=R,...o}=e;return a=(0,i.oU)(a,"card-title"),(0,l.jsx)(n,{ref:s,className:t()(r,a),...o})});$.displayName="CardTitle";const U=$,P=n.forwardRef((e,s)=>{let{bsPrefix:r,className:a,bg:n,text:o,border:d,body:m=!1,children:u,as:f="div",...x}=e;const h=(0,i.oU)(r,"card");return(0,l.jsx)(f,{ref:s,...x,className:t()(a,h,n&&`bg-${n}`,o&&`text-${o}`,d&&`border-${d}`),children:m?(0,l.jsx)(c,{children:u}):u})});P.displayName="Card";const D=Object.assign(P,{Img:N,Title:U,Subtitle:w,Body:c,Link:g,Text:C,Header:x,Footer:m,ImgOverlay:j})},9109:(e,s,r)=>{r.d(s,{A:()=>t});var a=r(5043);function t(e){const s=function(e){const s=(0,a.useRef)(e);return s.current=e,s}(e);(0,a.useEffect)(()=>()=>s.current(),[])}}}]);
//# sourceMappingURL=689.2ee39267.chunk.js.map