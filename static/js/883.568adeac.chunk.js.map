{"version":3,"file":"static/js/883.568adeac.chunk.js","mappings":"6KAIA,MAiEA,EAjE+B,SAACA,GAA+D,IAA/CC,EAAgBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAIG,EAAUH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAC/E,MAAOI,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,KAC1BC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,MA2DnC,OAzDAK,EAAAA,EAAAA,WAAU,KACRH,GAAW,GACXE,EAAS,MAET,MAAME,GAAgBC,EAAAA,EAAAA,IAAWC,EAAAA,GAAIhB,GACrC,IAAIiB,GAAIC,EAAAA,EAAAA,GAAMJ,KAAkBb,GAqChC,IAAIkB,EAAc,KAQlB,OAPId,EACFc,GAnBoBC,EAAAA,EAAAA,IAAWH,EAAII,IACjC,MAAMC,EAAcD,EAAcE,KAAKC,IAAIC,IAAG,CAC5CC,GAAID,EAAIC,MACLD,EAAInB,UAETC,EAAQe,GACRZ,GAAW,GACXE,EAAS,MACTe,QAAQC,IAAI,4CAA4C5B,OACtD6B,IACFF,QAAQhB,MAAM,iDAAiDX,KAAmB6B,GAClFjB,EAAS,4BAAQZ,oCACjBU,GAAW,KA9BGoB,WAChB,IACE,MACMR,SADsBS,EAAAA,EAAAA,IAAQd,IACFM,KAAKC,IAAIC,IAAG,CAC5CC,GAAID,EAAIC,MACLD,EAAInB,UAETC,EAAQe,GACRK,QAAQC,IAAI,6CAA6C5B,KAC3D,CAAE,MAAO6B,GACPF,QAAQhB,MAAM,oDAAoDX,KAAmB6B,GACrFjB,EAAS,4BAAQZ,2DACnB,CAAC,QACCU,GAAW,EACb,GAyBAsB,GAIK,KACDb,GACFA,MAGH,CAACnB,EAAgBC,EAAkBI,IAE/B,CAAEC,OAAMG,UAASE,QAC1B,C,oHC5DA,MAAMsB,GAAgBC,EAAAA,EAAAA,GAAiB,MACvCD,EAAcE,YAAc,gBAC5B,MAAMC,EAA4BC,EAAAA,WAAiB,CAAAC,EAKhDC,KAAQ,IALyC,UAClDC,EAAS,SACTC,EACAC,GAAIC,EAAYV,KACbW,GACJN,EAEC,OADAG,GAAWI,EAAAA,EAAAA,IAAmBJ,EAAU,kBACpBK,EAAAA,EAAAA,KAAKH,EAAW,CAClCJ,IAAKA,EACLC,UAAWO,IAAWP,EAAWC,MAC9BG,MAGPR,EAAaD,YAAc,eAC3B,U,cChBA,MAAMa,EAAyBX,EAAAA,WAAiB,CAAAC,EAK7CC,KAAQ,IALsC,UAC/CC,EAAS,SACTC,EACAC,GAAIC,EAAYM,EAAAA,KACbL,GACJN,EAEC,OADAG,GAAWI,EAAAA,EAAAA,IAAmBJ,EAAU,eACpBK,EAAAA,EAAAA,KAAKH,EAAW,CAClCJ,IAAKA,EACLC,UAAWO,IAAWP,EAAWC,MAC9BG,MAGPI,EAAUb,YAAc,YACxB,U,wBCRA,MAAMe,EAAqBb,EAAAA,WAAiB,CAACc,EAAmBZ,KAC9D,MAAM,SACJE,EAAQ,KACRW,GAAO,EAAI,WACXC,EAAa,cAAa,aAC1BC,EAAY,UACZd,EAAS,SACTe,EAAQ,QACRC,EAAU,UAAS,QACnBC,EAAO,YACPC,EAAW,WACXC,EAAaC,EAAAA,KACVhB,IACDiB,EAAAA,EAAAA,IAAgBV,EAAmB,CACrCC,KAAM,YAEFU,GAASjB,EAAAA,EAAAA,IAAmBJ,EAAU,SACtCsB,GAAcC,EAAAA,EAAAA,GAAiBC,IAC/BR,GACFA,GAAQ,EAAOQ,KAGbC,GAA4B,IAAfP,EAAsBC,EAAAA,EAAOD,EAC1CQ,GAAqBC,EAAAA,EAAAA,MAAM,MAAO,CACtCC,KAAM,WACDH,OAAqB9D,EAARwC,EAClBL,IAAKA,EACLC,UAAWO,IAAWP,EAAWsB,EAAQN,GAAW,GAAGM,KAAUN,IAAWE,GAAe,GAAGI,iBAC9FP,SAAU,CAACG,IAA4BZ,EAAAA,EAAAA,KAAKwB,EAAAA,EAAa,CACvDC,QAASR,EACT,aAAcV,EACdG,QAASF,IACPC,KAEN,OAAKW,GACepB,EAAAA,EAAAA,KAAKoB,EAAY,CACnCM,eAAe,KACZ5B,EACHL,SAAKnC,EACLqE,GAAIrB,EACJG,SAAUY,IANYf,EAAOe,EAAQ,OASzCjB,EAAMf,YAAc,QACpB,QAAeuC,OAAOC,OAAOzB,EAAO,CAClC0B,KAAM5B,EACN6B,QAASzC,G,iJCjDX,MAAM0C,EAA6BzC,EAAAA,WAAiB,CAAAC,EAUjDC,KAAQ,IAV0C,SACnDE,EAAQ,OACRsC,EAAM,SACNC,EAAQ,SACRC,EAAQ,UACRzC,EAAS,QACTgB,EAAO,OACP0B,EAAM,GACNxC,KACGE,GACJN,EACCG,GAAWI,EAAAA,EAAAA,IAAmBJ,EAAU,mBACxC,MAAO0C,EAAcC,IAAQC,EAAAA,EAAAA,GAAW,CACtCC,KAAKC,EAAAA,EAAAA,GAAaN,EAAUrC,EAAM4C,MAClCT,YACGnC,IAEC6C,GAAczB,EAAAA,EAAAA,GAAiB0B,IACnC,GAAIV,EAGF,OAFAU,EAAMC,sBACND,EAAME,kBAGRT,EAAaZ,QAAQmB,KAEnBV,QAA+B5E,IAAnBwC,EAAMiD,WACpBjD,EAAMiD,UAAY,EAClBjD,EAAM,kBAAmB,GAE3B,MAAMD,EAAYD,IAAOwC,EAAStC,EAAM4C,KAAO,IAAM,SAAW,OAEhE,OAAoB1C,EAAAA,EAAAA,KAAKH,EAAW,CAClCJ,IAAKA,KACFK,KACAuC,EACHZ,QAASkB,EACTjD,UAAWO,IAAWP,EAAWC,EAAU2C,EAAKU,UAAY,SAAUd,GAAY,WAAYxB,GAAW,GAAGf,KAAYe,IAAW0B,GAAU,GAAGzC,gBAGpJqC,EAAc3C,YAAc,gBAC5B,UCxCM4D,EAAyB1D,EAAAA,WAAiB,CAACO,EAAOL,KACtD,MAAM,UACJC,EACAC,SAAUuD,EAAe,QACzBxC,EAAO,WACPyC,EAAU,SACVC,EAAQ,GAERxD,EAAK,SACFyD,IACDtC,EAAAA,EAAAA,IAAgBjB,EAAO,CACzBwD,UAAW,aAEP3D,GAAWI,EAAAA,EAAAA,IAAmBmD,EAAiB,cACrD,IAAIK,EAKJ,OAJIJ,IACFI,GAAmC,IAAfJ,EAAsB,aAAe,cAAcA,MAGrDnD,EAAAA,EAAAA,KAAKwD,EAAAA,EAAS,CAChC/D,IAAKA,KACF4D,EACHzD,GAAIA,EACJF,UAAWO,IAAWP,EAAWC,EAAUe,GAAW,GAAGf,KAAYe,IAAW6C,GAAqB,GAAG5D,KAAY4D,IAAqBH,GAAY,GAAGzD,kBAG5JsD,EAAU5D,YAAc,YACxB,QAAeuC,OAAOC,OAAOoB,EAAW,CACtCQ,KAAMzB,G,sFChCR,MAAM0B,EAAuBnE,EAAAA,WAAiB,CAAAC,EAS3CC,KAAQ,IAToC,SAC7CE,EAAQ,QACRe,EAAO,UACPiD,EAAY,SAAQ,KACpBC,EAEAhE,GAAIC,EAAY,MAAK,UACrBH,KACGI,GACJN,EACCG,GAAWI,EAAAA,EAAAA,IAAmBJ,EAAU,WACxC,MAAMkE,EAAkB,GAAGlE,KAAYgE,IACvC,OAAoB3D,EAAAA,EAAAA,KAAKH,EAAW,CAClCJ,IAAKA,KACFK,EACHJ,UAAWO,IAAWP,EAAWmE,EAAiBD,GAAQ,GAAGC,KAAmBD,IAAQlD,GAAW,QAAQA,SAG/GgD,EAAQrE,YAAc,UACtB,S,4ICnBA,MAkDA,EAlDsByE,KACpB,MAAM,KAAEC,EAAMpG,QAASqG,EAAanG,MAAOoG,IAAcC,EAAAA,EAAAA,KAEnDC,GAAgCC,EAAAA,EAAAA,SAAQ,IACrCL,IAASA,EAAKM,YACjB,EAACC,EAAAA,EAAAA,IAAM,SAAU,KAAMP,EAAKQ,MAAMC,EAAAA,EAAAA,IAAQ,YAAa,SACvD,GACH,CAACT,KAEIvG,KAAMiH,EAAe9G,QAAS+G,EAAsB7G,MAAO8G,IAAuBC,EAAAA,EAAAA,GAAuB,gBAAiBT,GAElI,OAAIH,GAAeU,GACV1E,EAAAA,EAAAA,KAAC6E,EAAAA,EAAS,CAACnF,UAAU,mBAAkBe,UAACT,EAAAA,EAAAA,KAAC0D,EAAAA,EAAO,CAACC,UAAU,aAGhEM,GAAaU,GACR3E,EAAAA,EAAAA,KAAC6E,EAAAA,EAAS,CAACnF,UAAU,OAAMe,UAACa,EAAAA,EAAAA,MAAClB,EAAAA,EAAK,CAACM,QAAQ,SAAQD,SAAA,CAAC,8CAAiB,OAATwD,QAAS,IAATA,OAAS,EAATA,EAAWa,WAA6B,OAAlBH,QAAkB,IAAlBA,OAAkB,EAAlBA,EAAoBG,eAG1Gf,GAAQA,EAAKM,aACTrE,EAAAA,EAAAA,KAAC6E,EAAAA,EAAS,CAACnF,UAAU,OAAMe,UAACT,EAAAA,EAAAA,KAACI,EAAAA,EAAK,CAACM,QAAQ,UAASD,SAAC,0EAI5Da,EAAAA,EAAAA,MAACuD,EAAAA,EAAS,CAACnF,UAAU,OAAMe,SAAA,EACzBT,EAAAA,EAAAA,KAAA,MAAAS,SAAI,6BACsB,IAAzBgE,EAAcpH,QACb2C,EAAAA,EAAAA,KAACI,EAAAA,EAAK,CAACM,QAAQ,OAAMD,SAAC,kEAEtBT,EAAAA,EAAAA,KAACiD,EAAAA,EAAS,CAAAxC,SACPgE,EAAc/F,IAAKqG,IAAY,IAAAC,EAAA,OAC9BhF,EAAAA,EAAAA,KAACiD,EAAAA,EAAUQ,KAAI,CAAuB/D,UAAU,oDAAmDe,UACjGa,EAAAA,EAAAA,MAAA,OAAAb,SAAA,EACET,EAAAA,EAAAA,KAAA,UAAAS,SAASsE,EAAaE,SACtBjF,EAAAA,EAAAA,KAAA,SAAON,UAAU,qBAAoBe,SAClCsE,EAAaD,WAEhB9E,EAAAA,EAAAA,KAAA,SAAON,UAAU,qBAAoBe,SACZ,QADYuE,EAClCD,EAAaG,iBAAS,IAAAF,OAAA,EAAtBA,EAAwBG,SAASC,uBAPnBL,EAAanG,W","sources":["hooks/useFirestoreCollection.js","../node_modules/react-bootstrap/esm/AlertHeading.js","../node_modules/react-bootstrap/esm/AlertLink.js","../node_modules/react-bootstrap/esm/Alert.js","../node_modules/react-bootstrap/esm/ListGroupItem.js","../node_modules/react-bootstrap/esm/ListGroup.js","../node_modules/react-bootstrap/esm/Spinner.js","components/MessageCenter.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { collection, query, getDocs, onSnapshot } from 'firebase/firestore';\nimport { db } from '../firebase'; // 假設你的 firebase.js 導出了 db\n\nconst useFirestoreCollection = (collectionName, queryConstraints = [], liveUpdate = false) => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setLoading(true);\n    setError(null); // Clear previous errors\n\n    const collectionRef = collection(db, collectionName);\n    let q = query(collectionRef, ...queryConstraints); // 應用傳入的查詢約束\n\n    const fetchData = async () => {\n      try {\n        const querySnapshot = await getDocs(q);\n        const fetchedData = querySnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n        setData(fetchedData);\n        console.log(`useFirestoreCollection: Fetched data from ${collectionName}.`);\n      } catch (err) {\n        console.error(`useFirestoreCollection: Error fetching data from ${collectionName}:`, err);\n        setError(`無法載入 ${collectionName} 資料，請稍後再試。`);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    const setupLiveListener = () => {\n      const unsubscribe = onSnapshot(q, (querySnapshot) => {\n        const fetchedData = querySnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n        setData(fetchedData);\n        setLoading(false);\n        setError(null);\n        console.log(`useFirestoreCollection: Live update from ${collectionName}.`);\n      }, (err) => {\n        console.error(`useFirestoreCollection: Live update error for ${collectionName}:`, err);\n        setError(`即時更新 ${collectionName} 資料失敗。`);\n        setLoading(false);\n      });\n      return unsubscribe;\n    };\n\n    let unsubscribe = null;\n    if (liveUpdate) {\n      unsubscribe = setupLiveListener();\n    } else {\n      fetchData();\n    }\n\n    // Cleanup function for useEffect\n    return () => {\n      if (unsubscribe) {\n        unsubscribe(); // Unsubscribe from live listener if it was set up\n      }\n    };\n  }, [collectionName, queryConstraints, liveUpdate]); // 依賴項，當這些改變時重新執行 effect\n\n  return { data, loading, error };\n};\n\nexport default useFirestoreCollection;\n","\"use client\";\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport divWithClassName from './divWithClassName';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst DivStyledAsH4 = divWithClassName('h4');\nDivStyledAsH4.displayName = 'DivStyledAsH4';\nconst AlertHeading = /*#__PURE__*/React.forwardRef(({\n  className,\n  bsPrefix,\n  as: Component = DivStyledAsH4,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'alert-heading');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    className: classNames(className, bsPrefix),\n    ...props\n  });\n});\nAlertHeading.displayName = 'AlertHeading';\nexport default AlertHeading;","\"use client\";\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport Anchor from '@restart/ui/Anchor';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst AlertLink = /*#__PURE__*/React.forwardRef(({\n  className,\n  bsPrefix,\n  as: Component = Anchor,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'alert-link');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    className: classNames(className, bsPrefix),\n    ...props\n  });\n});\nAlertLink.displayName = 'AlertLink';\nexport default AlertLink;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useUncontrolled } from 'uncontrollable';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport AlertHeading from './AlertHeading';\nimport AlertLink from './AlertLink';\nimport Fade from './Fade';\nimport CloseButton from './CloseButton';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst Alert = /*#__PURE__*/React.forwardRef((uncontrolledProps, ref) => {\n  const {\n    bsPrefix,\n    show = true,\n    closeLabel = 'Close alert',\n    closeVariant,\n    className,\n    children,\n    variant = 'primary',\n    onClose,\n    dismissible,\n    transition = Fade,\n    ...props\n  } = useUncontrolled(uncontrolledProps, {\n    show: 'onClose'\n  });\n  const prefix = useBootstrapPrefix(bsPrefix, 'alert');\n  const handleClose = useEventCallback(e => {\n    if (onClose) {\n      onClose(false, e);\n    }\n  });\n  const Transition = transition === true ? Fade : transition;\n  const alert = /*#__PURE__*/_jsxs(\"div\", {\n    role: \"alert\",\n    ...(!Transition ? props : undefined),\n    ref: ref,\n    className: classNames(className, prefix, variant && `${prefix}-${variant}`, dismissible && `${prefix}-dismissible`),\n    children: [dismissible && /*#__PURE__*/_jsx(CloseButton, {\n      onClick: handleClose,\n      \"aria-label\": closeLabel,\n      variant: closeVariant\n    }), children]\n  });\n  if (!Transition) return show ? alert : null;\n  return /*#__PURE__*/_jsx(Transition, {\n    unmountOnExit: true,\n    ...props,\n    ref: undefined,\n    in: show,\n    children: alert\n  });\n});\nAlert.displayName = 'Alert';\nexport default Object.assign(Alert, {\n  Link: AlertLink,\n  Heading: AlertHeading\n});","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport warning from 'warning';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport { useNavItem } from '@restart/ui/NavItem';\nimport { makeEventKey } from '@restart/ui/SelectableContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst ListGroupItem = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  active,\n  disabled,\n  eventKey,\n  className,\n  variant,\n  action,\n  as,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'list-group-item');\n  const [navItemProps, meta] = useNavItem({\n    key: makeEventKey(eventKey, props.href),\n    active,\n    ...props\n  });\n  const handleClick = useEventCallback(event => {\n    if (disabled) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n    navItemProps.onClick(event);\n  });\n  if (disabled && props.tabIndex === undefined) {\n    props.tabIndex = -1;\n    props['aria-disabled'] = true;\n  }\n  const Component = as || (action ? props.href ? 'a' : 'button' : 'div');\n  process.env.NODE_ENV !== \"production\" ? warning(as || !(!action && props.href), '`action=false` and `href` should not be used together.') : void 0;\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    ...navItemProps,\n    onClick: handleClick,\n    className: classNames(className, bsPrefix, meta.isActive && 'active', disabled && 'disabled', variant && `${bsPrefix}-${variant}`, action && `${bsPrefix}-action`)\n  });\n});\nListGroupItem.displayName = 'ListGroupItem';\nexport default ListGroupItem;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport warning from 'warning';\nimport { useUncontrolled } from 'uncontrollable';\nimport BaseNav from '@restart/ui/Nav';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport ListGroupItem from './ListGroupItem';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst ListGroup = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    className,\n    bsPrefix: initialBsPrefix,\n    variant,\n    horizontal,\n    numbered,\n    // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n    as = 'div',\n    ...controlledProps\n  } = useUncontrolled(props, {\n    activeKey: 'onSelect'\n  });\n  const bsPrefix = useBootstrapPrefix(initialBsPrefix, 'list-group');\n  let horizontalVariant;\n  if (horizontal) {\n    horizontalVariant = horizontal === true ? 'horizontal' : `horizontal-${horizontal}`;\n  }\n  process.env.NODE_ENV !== \"production\" ? warning(!(horizontal && variant === 'flush'), '`variant=\"flush\"` and `horizontal` should not be used together.') : void 0;\n  return /*#__PURE__*/_jsx(BaseNav, {\n    ref: ref,\n    ...controlledProps,\n    as: as,\n    className: classNames(className, bsPrefix, variant && `${bsPrefix}-${variant}`, horizontalVariant && `${bsPrefix}-${horizontalVariant}`, numbered && `${bsPrefix}-numbered`)\n  });\n});\nListGroup.displayName = 'ListGroup';\nexport default Object.assign(ListGroup, {\n  Item: ListGroupItem\n});","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Spinner = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  variant,\n  animation = 'border',\n  size,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  className,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'spinner');\n  const bsSpinnerPrefix = `${bsPrefix}-${animation}`;\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(className, bsSpinnerPrefix, size && `${bsSpinnerPrefix}-${size}`, variant && `text-${variant}`)\n  });\n});\nSpinner.displayName = 'Spinner';\nexport default Spinner;","import React, { useMemo } from 'react';\nimport { Container, Alert, Spinner, ListGroup } from 'react-bootstrap';\nimport { useUser } from '../context/UserContext';\nimport useFirestoreCollection from '../hooks/useFirestoreCollection';\nimport { where, orderBy } from 'firebase/firestore';\n\nconst MessageCenter = () => {\n  const { user, loading: userLoading, error: userError } = useUser();\n\n  const notificationsQueryConstraints = useMemo(() => {\n    return user && !user.isAnonymous \n      ? [where('userId', '==', user.uid), orderBy('timestamp', 'desc')]\n      : [];\n  }, [user]);\n\n  const { data: notifications, loading: notificationsLoading, error: notificationsError } = useFirestoreCollection('notifications', notificationsQueryConstraints);\n\n  if (userLoading || notificationsLoading) {\n    return <Container className=\"mt-5 text-center\"><Spinner animation=\"border\" /></Container>;\n  }\n\n  if (userError || notificationsError) {\n    return <Container className=\"mt-5\"><Alert variant=\"danger\">無法載入訊息：{userError?.message || notificationsError?.message}</Alert></Container>;\n  }\n\n  if (!user || user.isAnonymous) {\n    return <Container className=\"mt-5\"><Alert variant=\"warning\">請登入以查看您的訊息。</Alert></Container>;\n  }\n\n  return (\n    <Container className=\"mt-5\">\n      <h2>訊息中心</h2>\n      {notifications.length === 0 ? (\n        <Alert variant=\"info\">您目前沒有任何訊息。</Alert>\n      ) : (\n        <ListGroup>\n          {notifications.map((notification) => (\n            <ListGroup.Item key={notification.id} className=\"d-flex justify-content-between align-items-center\">\n              <div>\n                <strong>{notification.title}</strong>\n                <small className=\"d-block text-muted\">\n                  {notification.message}\n                </small>\n                <small className=\"d-block text-muted\">\n                  {notification.timestamp?.toDate().toLocaleString()}\n                </small>\n              </div>\n              {/* Add read/unread status and mark as read button later */}\n            </ListGroup.Item>\n          ))}\n        </ListGroup>\n      )}\n    </Container>\n  );\n};\n\nexport default MessageCenter;\n"],"names":["collectionName","queryConstraints","arguments","length","undefined","liveUpdate","data","setData","useState","loading","setLoading","error","setError","useEffect","collectionRef","collection","db","q","query","unsubscribe","onSnapshot","querySnapshot","fetchedData","docs","map","doc","id","console","log","err","async","getDocs","fetchData","DivStyledAsH4","divWithClassName","displayName","AlertHeading","React","_ref","ref","className","bsPrefix","as","Component","props","useBootstrapPrefix","_jsx","classNames","AlertLink","Anchor","Alert","uncontrolledProps","show","closeLabel","closeVariant","children","variant","onClose","dismissible","transition","Fade","useUncontrolled","prefix","handleClose","useEventCallback","e","Transition","alert","_jsxs","role","CloseButton","onClick","unmountOnExit","in","Object","assign","Link","Heading","ListGroupItem","active","disabled","eventKey","action","navItemProps","meta","useNavItem","key","makeEventKey","href","handleClick","event","preventDefault","stopPropagation","tabIndex","isActive","ListGroup","initialBsPrefix","horizontal","numbered","controlledProps","activeKey","horizontalVariant","BaseNav","Item","Spinner","animation","size","bsSpinnerPrefix","MessageCenter","user","userLoading","userError","useUser","notificationsQueryConstraints","useMemo","isAnonymous","where","uid","orderBy","notifications","notificationsLoading","notificationsError","useFirestoreCollection","Container","message","notification","_notification$timesta","title","timestamp","toDate","toLocaleString"],"sourceRoot":""}