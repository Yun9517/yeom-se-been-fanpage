"use strict";(self.webpackChunkyeom_se_been_fanpage=self.webpackChunkyeom_se_been_fanpage||[]).push([[81],{457:(e,s,r)=>{r.d(s,{A:()=>k});var t=r(8139),a=r.n(t),n=r(5043),l=r(1969),o=r(7852),i=r(2306);function c(e,s){return Array.isArray(e)?e.includes(s):e===s}const d=n.createContext({});d.displayName="AccordionContext";const m=d;var u=r(579);const x=n.forwardRef((e,s)=>{let{as:r="div",bsPrefix:t,className:l,children:d,eventKey:x,...h}=e;const{activeEventKey:f}=(0,n.useContext)(m);return t=(0,o.oU)(t,"accordion-collapse"),(0,u.jsx)(i.A,{ref:s,in:c(f,x),...h,className:a()(l,t),children:(0,u.jsx)(r,{children:n.Children.only(d)})})});x.displayName="AccordionCollapse";const h=x,f=n.createContext({eventKey:""});f.displayName="AccordionItemContext";const j=f,p=n.forwardRef((e,s)=>{let{as:r="div",bsPrefix:t,className:l,onEnter:i,onEntering:c,onEntered:d,onExit:m,onExiting:x,onExited:f,...p}=e;t=(0,o.oU)(t,"accordion-body");const{eventKey:y}=(0,n.useContext)(j);return(0,u.jsx)(h,{eventKey:y,onEnter:i,onEntering:c,onEntered:d,onExit:m,onExiting:x,onExited:f,children:(0,u.jsx)(r,{ref:s,...p,className:a()(l,t)})})});p.displayName="AccordionBody";const y=p;const v=n.forwardRef((e,s)=>{let{as:r="button",bsPrefix:t,className:l,onClick:i,...d}=e;t=(0,o.oU)(t,"accordion-button");const{eventKey:x}=(0,n.useContext)(j),h=function(e,s){const{activeEventKey:r,onSelect:t,alwaysOpen:a}=(0,n.useContext)(m);return n=>{let l=e===r?null:e;a&&(l=Array.isArray(r)?r.includes(e)?r.filter(s=>s!==e):[...r,e]:[e]),null==t||t(l,n),null==s||s(n)}}(x,i),{activeEventKey:f}=(0,n.useContext)(m);return"button"===r&&(d.type="button"),(0,u.jsx)(r,{ref:s,onClick:h,...d,"aria-expanded":Array.isArray(f)?f.includes(x):x===f,className:a()(l,t,!c(f,x)&&"collapsed")})});v.displayName="AccordionButton";const b=v,N=n.forwardRef((e,s)=>{let{as:r="h2","aria-controls":t,bsPrefix:n,className:l,children:i,onClick:c,...d}=e;return n=(0,o.oU)(n,"accordion-header"),(0,u.jsx)(r,{ref:s,...d,className:a()(l,n),children:(0,u.jsx)(b,{onClick:c,"aria-controls":t,children:i})})});N.displayName="AccordionHeader";const g=N,A=n.forwardRef((e,s)=>{let{as:r="div",bsPrefix:t,className:l,eventKey:i,...c}=e;t=(0,o.oU)(t,"accordion-item");const d=(0,n.useMemo)(()=>({eventKey:i}),[i]);return(0,u.jsx)(j.Provider,{value:d,children:(0,u.jsx)(r,{ref:s,...c,className:a()(l,t)})})});A.displayName="AccordionItem";const w=A,C=n.forwardRef((e,s)=>{const{as:r="div",activeKey:t,bsPrefix:i,className:c,onSelect:d,flush:x,alwaysOpen:h,...f}=(0,l.Zw)(e,{activeKey:"onSelect"}),j=(0,o.oU)(i,"accordion"),p=(0,n.useMemo)(()=>({activeEventKey:t,onSelect:d,alwaysOpen:h}),[t,d,h]);return(0,u.jsx)(m.Provider,{value:p,children:(0,u.jsx)(r,{ref:s,...f,className:a()(c,j,x&&`${j}-flush`)})})});C.displayName="Accordion";const k=Object.assign(C,{Button:b,Collapse:h,Item:w,Header:g,Body:y})},1290:(e,s,r)=>{r.d(s,{A:()=>l});var t=r(5043),a=r(6667),n=r(791);const l=(e,s)=>{const[r,l]=(0,t.useState)(null),[o,i]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null);return(0,t.useEffect)(()=>{(async()=>{i(!0),d(null);try{const r=(0,a.H9)(n.db,e,s),t=await(0,a.x7)(r);t.exists()?(l(t.data()),console.log(`useFirestoreDocument: Fetched data for ${e}/${s}.`)):(l(null),console.log(`useFirestoreDocument: No document found for ${e}/${s}.`))}catch(r){console.error(`useFirestoreDocument: Error fetching document ${e}/${s}:`,r),d(`\u7121\u6cd5\u8f09\u5165 ${e} \u5167\u5bb9\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002`)}finally{i(!1)}})()},[e,s]),{data:r,loading:o,error:c}}},1719:(e,s,r)=>{r.d(s,{A:()=>b});var t=r(8139),a=r.n(t),n=r(5043),l=r(1969),o=r(6618),i=r(7852),c=r(4488),d=r(579);const m=(0,c.A)("h4");m.displayName="DivStyledAsH4";const u=n.forwardRef((e,s)=>{let{className:r,bsPrefix:t,as:n=m,...l}=e;return t=(0,i.oU)(t,"alert-heading"),(0,d.jsx)(n,{ref:s,className:a()(r,t),...l})});u.displayName="AlertHeading";const x=u;var h=r(7071);const f=n.forwardRef((e,s)=>{let{className:r,bsPrefix:t,as:n=h.A,...l}=e;return t=(0,i.oU)(t,"alert-link"),(0,d.jsx)(n,{ref:s,className:a()(r,t),...l})});f.displayName="AlertLink";const j=f;var p=r(8072),y=r(5632);const v=n.forwardRef((e,s)=>{const{bsPrefix:r,show:t=!0,closeLabel:n="Close alert",closeVariant:c,className:m,children:u,variant:x="primary",onClose:h,dismissible:f,transition:j=p.A,...v}=(0,l.Zw)(e,{show:"onClose"}),b=(0,i.oU)(r,"alert"),N=(0,o.A)(e=>{h&&h(!1,e)}),g=!0===j?p.A:j,A=(0,d.jsxs)("div",{role:"alert",...g?void 0:v,ref:s,className:a()(m,b,x&&`${b}-${x}`,f&&`${b}-dismissible`),children:[f&&(0,d.jsx)(y.A,{onClick:N,"aria-label":n,variant:c}),u]});return g?(0,d.jsx)(g,{unmountOnExit:!0,...v,ref:void 0,in:t,children:A}):t?A:null});v.displayName="Alert";const b=Object.assign(v,{Link:j,Heading:x})},4081:(e,s,r)=>{r.r(s),r.d(s,{default:()=>oe});var t=r(5043),a=r(1283),n=r(791),l=r(6667),o=r(8279),i=r(3519),c=r(1719),d=r(1072),m=r(8602),u=r(9437),x=r(8139),h=r.n(x),f=r(7852);const j=t.createContext({});var p=r(579);const y=t.forwardRef((e,s)=>{let{id:r,bsPrefix:a,className:n,type:l="checkbox",isValid:o=!1,isInvalid:i=!1,as:c="input",...d}=e;const{controlId:m}=(0,t.useContext)(j);return a=(0,f.oU)(a,"form-check-input"),(0,p.jsx)(c,{...d,ref:s,type:l,id:r||m,className:h()(n,a,o&&"is-valid",i&&"is-invalid")})});y.displayName="FormCheckInput";const v=y;var b=r(9334);const N=t.forwardRef((e,s)=>{let{className:r,bsPrefix:t,as:a="span",...n}=e;return t=(0,f.oU)(t,"input-group-text"),(0,p.jsx)(a,{ref:s,className:h()(r,t),...n})});N.displayName="InputGroupText";const g=N,A=t.forwardRef((e,s)=>{let{bsPrefix:r,size:a,hasValidation:n,className:l,as:o="div",...i}=e;r=(0,f.oU)(r,"input-group");const c=(0,t.useMemo)(()=>({}),[]);return(0,p.jsx)(b.A.Provider,{value:c,children:(0,p.jsx)(o,{ref:s,...i,className:h()(l,r,a&&`${r}-${a}`,n&&"has-validation")})})});A.displayName="InputGroup";const w=Object.assign(A,{Text:g,Radio:e=>(0,p.jsx)(g,{children:(0,p.jsx)(v,{type:"radio",...e})}),Checkbox:e=>(0,p.jsx)(g,{children:(0,p.jsx)(v,{type:"checkbox",...e})})});var C=r(5173),k=r.n(C);const $={type:k().string,tooltip:k().bool,as:k().elementType},S=t.forwardRef((e,s)=>{let{as:r="div",className:t,type:a="valid",tooltip:n=!1,...l}=e;return(0,p.jsx)(r,{...l,ref:s,className:h()(t,`${a}-${n?"tooltip":"feedback"}`)})});S.displayName="Feedback",S.propTypes=$;const P=S,I=t.forwardRef((e,s)=>{let{bsPrefix:r,className:a,htmlFor:n,...l}=e;const{controlId:o}=(0,t.useContext)(j);return r=(0,f.oU)(r,"form-check-label"),(0,p.jsx)("label",{...l,ref:s,htmlFor:n||o,className:h()(a,r)})});I.displayName="FormCheckLabel";const F=I;const R=t.forwardRef((e,s)=>{let{id:r,bsPrefix:a,bsSwitchPrefix:n,inline:l=!1,reverse:o=!1,disabled:i=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:m=!1,feedback:u,feedbackType:x,className:y,style:b,title:N="",type:g="checkbox",label:A,children:w,as:C="input",...k}=e;a=(0,f.oU)(a,"form-check"),n=(0,f.oU)(n,"form-switch");const{controlId:$}=(0,t.useContext)(j),S=(0,t.useMemo)(()=>({controlId:r||$}),[$,r]),I=!w&&null!=A&&!1!==A||function(e,s){return t.Children.toArray(e).some(e=>t.isValidElement(e)&&e.type===s)}(w,F),R=(0,p.jsx)(v,{...k,type:"switch"===g?"checkbox":g,ref:s,isValid:c,isInvalid:d,disabled:i,as:C});return(0,p.jsx)(j.Provider,{value:S,children:(0,p.jsx)("div",{style:b,className:h()(y,I&&a,l&&`${a}-inline`,o&&`${a}-reverse`,"switch"===g&&n),children:w||(0,p.jsxs)(p.Fragment,{children:[R,I&&(0,p.jsx)(F,{title:N,children:A}),u&&(0,p.jsx)(P,{type:x,tooltip:m,children:u})]})})})});R.displayName="FormCheck";const z=Object.assign(R,{Input:v,Label:F});r(6440);const E=t.forwardRef((e,s)=>{let{bsPrefix:r,type:a,size:n,htmlSize:l,id:o,className:i,isValid:c=!1,isInvalid:d=!1,plaintext:m,readOnly:u,as:x="input",...y}=e;const{controlId:v}=(0,t.useContext)(j);return r=(0,f.oU)(r,"form-control"),(0,p.jsx)(x,{...y,type:a,size:l,ref:s,readOnly:u,id:o||v,className:h()(i,m?`${r}-plaintext`:r,n&&`${r}-${n}`,"color"===a&&`${r}-color`,c&&"is-valid",d&&"is-invalid")})});E.displayName="FormControl";const U=Object.assign(E,{Feedback:P}),T=t.forwardRef((e,s)=>{let{className:r,bsPrefix:t,as:a="div",...n}=e;return t=(0,f.oU)(t,"form-floating"),(0,p.jsx)(a,{ref:s,className:h()(r,t),...n})});T.displayName="FormFloating";const D=T,H=t.forwardRef((e,s)=>{let{controlId:r,as:a="div",...n}=e;const l=(0,t.useMemo)(()=>({controlId:r}),[r]);return(0,p.jsx)(j.Provider,{value:l,children:(0,p.jsx)(a,{...n,ref:s})})});H.displayName="FormGroup";const K=H,L=t.forwardRef((e,s)=>{let{as:r="label",bsPrefix:a,column:n=!1,visuallyHidden:l=!1,className:o,htmlFor:i,...c}=e;const{controlId:d}=(0,t.useContext)(j);a=(0,f.oU)(a,"form-label");let u="col-form-label";"string"===typeof n&&(u=`${u} ${u}-${n}`);const x=h()(o,a,l&&"visually-hidden",n&&u);return i=i||d,n?(0,p.jsx)(m.A,{ref:s,as:"label",className:x,htmlFor:i,...c}):(0,p.jsx)(r,{ref:s,className:x,htmlFor:i,...c})});L.displayName="FormLabel";const O=L,M=t.forwardRef((e,s)=>{let{bsPrefix:r,className:a,id:n,...l}=e;const{controlId:o}=(0,t.useContext)(j);return r=(0,f.oU)(r,"form-range"),(0,p.jsx)("input",{...l,type:"range",ref:s,className:h()(a,r),id:n||o})});M.displayName="FormRange";const _=M,G=t.forwardRef((e,s)=>{let{bsPrefix:r,size:a,htmlSize:n,className:l,isValid:o=!1,isInvalid:i=!1,id:c,...d}=e;const{controlId:m}=(0,t.useContext)(j);return r=(0,f.oU)(r,"form-select"),(0,p.jsx)("select",{...d,size:n,ref:s,className:h()(l,r,a&&`${r}-${a}`,o&&"is-valid",i&&"is-invalid"),id:c||m})});G.displayName="FormSelect";const V=G,Q=t.forwardRef((e,s)=>{let{bsPrefix:r,className:t,as:a="small",muted:n,...l}=e;return r=(0,f.oU)(r,"form-text"),(0,p.jsx)(a,{...l,ref:s,className:h()(t,r,n&&"text-muted")})});Q.displayName="FormText";const B=Q,q=t.forwardRef((e,s)=>(0,p.jsx)(z,{...e,ref:s,type:"switch"}));q.displayName="Switch";const Z=Object.assign(q,{Input:z.Input,Label:z.Label}),J=t.forwardRef((e,s)=>{let{bsPrefix:r,className:t,children:a,controlId:n,label:l,...o}=e;return r=(0,f.oU)(r,"form-floating"),(0,p.jsxs)(K,{ref:s,className:h()(t,r),controlId:n,...o,children:[a,(0,p.jsx)("label",{htmlFor:n,children:l})]})});J.displayName="FloatingLabel";const W=J,X={_ref:k().any,validated:k().bool,as:k().elementType},Y=t.forwardRef((e,s)=>{let{className:r,validated:t,as:a="form",...n}=e;return(0,p.jsx)(a,{...n,ref:s,className:h()(r,t&&"was-validated")})});Y.displayName="Form",Y.propTypes=X;const ee=Object.assign(Y,{Group:K,Control:U,Floating:D,Check:z,Switch:Z,Label:O,Text:B,Range:_,Select:V,FloatingLabel:W});var se=r(4282),re=r(4196),te=r(457),ae=r(6045),ne=r(1290),le=r(184);const oe=()=>{const[e,s]=(0,o.hD)(n.j),r=(0,a.Zp)(),[x,h]=(0,t.useState)([]),[f,j]=(0,t.useState)(!0),[y,v]=(0,t.useState)(null),[b,N]=(0,t.useState)(""),[g,A]=(0,t.useState)("createdAt"),[C,k]=(0,t.useState)("desc"),[$,S]=(0,t.useState)(1),[P,I]=(0,t.useState)(10),[F,R]=(0,t.useState)(null),[z,E]=(0,t.useState)([null]),[U,T]=(0,t.useState)(!1),[D,H]=(0,t.useState)(""),[K,L]=(0,t.useState)(""),[O,M]=(0,t.useState)(""),[_,G]=(0,t.useState)(""),[V,Q]=(0,t.useState)(""),{data:B,loading:q,error:Z}=(0,ne.A)("userAchievements",e?e.uid:null),J=s||q||f,W=Z||y;(0,t.useEffect)(()=>{if(!e){const e=setTimeout(()=>{r("/")},3e3);return h([]),j(!1),v(null),S(1),R(null),E([null]),T(!1),()=>clearTimeout(e)}S(1),R(null),E([null]),T(!1),v(null)},[e,r]),(0,t.useEffect)(()=>{(async()=>{if(!s&&!q&&e){j(!0),console.log("QuizHistory: Starting to fetch quiz history for user:",e.uid);try{let s=(0,l.rJ)(n.db,"scores"),r=(0,l.P)(s,(0,l._M)("userId","==",e.uid));if(_){const e=l.Dc.fromDate(new Date(_+"T00:00:00"));r=(0,l.P)(r,(0,l._M)("createdAt",">=",e))}if(V){const e=l.Dc.fromDate(new Date(V+"T23:59:59"));r=(0,l.P)(r,(0,l._M)("createdAt","<=",e))}r=(0,l.P)(r,(0,l.My)(g,C)),z[$-1]&&(r=(0,l.P)(r,(0,l.HM)(z[$-1]))),r=(0,l.P)(r,(0,l.AB)(P+1));const t=await(0,l.GG)(r),a=t.docs.map(e=>({id:e.id,...e.data()}));T(a.length>P);const o=a.slice(0,P);h(o),R(t.docs[o.length-1]),console.log("QuizHistory: Game history fetched successfully.")}catch(r){console.error("QuizHistory: Error fetching quiz history:",r),v("\u7121\u6cd5\u8f09\u5165\u904a\u6232\u7d00\u9304\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002")}finally{j(!1),console.log("QuizHistory: Finished fetching game history.")}}})()},[e,s,q,g,C,$,P,_,V,z]);const X=e=>{e===g?k("asc"===C?"desc":"asc"):(A(e),k("desc")),S(1),R(null),E([null]),T(!1)},Y=e=>{I(e),S(1),R(null),E([null]),T(!1)},oe=()=>{const e=parseInt(D,10);e>0?Y(e):N("\u8acb\u8f38\u5165\u6709\u6548\u7684\u6578\u5b57\u3002")};if(s)return console.log("QuizHistory: Loading user authentication status..."),(0,p.jsx)(i.A,{className:"mt-5 text-center",children:(0,p.jsx)(ae.A,{loading:!0})});if(J)return console.log("QuizHistory: Loading game history data..."),(0,p.jsx)(i.A,{className:"mt-5 text-center",children:(0,p.jsx)(ae.A,{loading:!0})});if(!e)return(0,p.jsx)(i.A,{className:"mt-5",children:(0,p.jsx)(c.A,{variant:"warning",children:"\u8acb\u767b\u5165\u5f8c\u7e7c\u7e8c\u4f7f\u7528\u6b64\u529f\u80fd"})});if(W)return(0,p.jsx)(i.A,{className:"mt-5",children:(0,p.jsx)(c.A,{variant:"danger",children:W})});if(e.isAnonymous)return(0,p.jsx)(i.A,{className:"mt-5",children:(0,p.jsx)(c.A,{variant:"info",children:"\u60a8\u76ee\u524d\u4ee5\u8a2a\u5ba2\u6a21\u5f0f\u767b\u5165\u3002\u5982\u9700\u67e5\u770b\u4e26\u5132\u5b58\u904a\u6232\u7d00\u9304\uff0c\u8acb\u4f7f\u7528 Google \u5e33\u6236\u767b\u5165\u3002"})});const ie=B.totalQuizSessions||0,ce=x.reduce((e,s)=>Math.max(e,s.score),0),de=x.length>0?(x.reduce((e,s)=>e+s.score,0)/x.length).toFixed(2):0;return(0,p.jsxs)(i.A,{className:"mt-5 leaderboard-container",children:[(0,p.jsx)("h2",{children:"\u6211\u7684\u904a\u6232\u7d00\u9304"}),(0,p.jsx)("div",{className:"p-3 rounded mb-3",style:{backgroundColor:"#343a40"},children:(0,p.jsxs)(d.A,{className:"align-items-center gy-3",children:[" ",(0,p.jsx)(m.A,{md:6,style:{color:"#e9ecef"},children:(0,p.jsxs)(d.A,{children:[(0,p.jsx)(m.A,{xs:12,children:(0,p.jsxs)("p",{className:"mb-1",children:[(0,p.jsx)("strong",{children:"\u7e3d\u904a\u6232\u6b21\u6578:"})," ",ie]})}),(0,p.jsx)(m.A,{xs:12,children:(0,p.jsxs)("p",{className:"mb-1",children:[(0,p.jsx)("strong",{children:"\u672c\u9801\u904a\u6232\u6b21\u6578:"})," ",x.length]})}),(0,p.jsx)(m.A,{xs:12,children:(0,p.jsxs)("p",{className:"mb-1",children:[(0,p.jsx)("strong",{children:"\u6700\u9ad8\u5206\u6578 (\u672c\u9801):"})," ",ce]})}),(0,p.jsx)(m.A,{xs:12,children:(0,p.jsxs)("p",{className:"mb-0",children:[(0,p.jsx)("strong",{children:"\u5e73\u5747\u5206\u6578 (\u672c\u9801):"})," ",de]})})]})}),(0,p.jsx)(m.A,{md:6,className:"filter-controls",children:(0,p.jsxs)("div",{className:"d-flex flex-column",children:[(0,p.jsxs)(u.A,{className:"w-100 mb-2",children:[(0,p.jsxs)(u.A.Toggle,{variant:"primary",id:"dropdown-items-per-page",size:"sm",className:"w-100",children:["\u6bcf\u9801\u986f\u793a: ",P]}),(0,p.jsxs)(u.A.Menu,{className:"w-100",children:[(0,p.jsx)(u.A.Item,{onClick:()=>Y(10),children:"10"}),(0,p.jsx)(u.A.Item,{onClick:()=>Y(20),children:"20"}),(0,p.jsx)(u.A.Item,{onClick:()=>Y(50),children:"50"}),(0,p.jsx)(u.A.Divider,{}),(0,p.jsx)(u.A.Item,{as:"div",onClick:e=>e.stopPropagation(),children:(0,p.jsxs)(w,{size:"sm",className:"p-2",children:[(0,p.jsx)(ee.Control,{type:"number",placeholder:"\u81ea\u8a02",value:D,onChange:e=>H(e.target.value),onKeyPress:e=>{"Enter"===e.key&&oe()}}),(0,p.jsx)(se.A,{variant:"outline-secondary",onClick:oe,children:"\u8a2d\u5b9a"})]})})]})]}),(0,p.jsxs)(w,{size:"sm",className:"mb-2",children:[(0,p.jsx)(w.Text,{children:"\u958b\u59cb"}),(0,p.jsx)(ee.Control,{type:"date",value:K,onChange:e=>L(e.target.value),max:(new Date).toISOString().split("T")[0]})]}),(0,p.jsxs)(w,{size:"sm",className:"mb-2",children:[(0,p.jsx)(w.Text,{children:"\u7d50\u675f"}),(0,p.jsx)(ee.Control,{type:"date",value:O,onChange:e=>M(e.target.value),max:(new Date).toISOString().split("T")[0]})]}),(0,p.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,p.jsx)(se.A,{onClick:()=>{N(""),K||O?K&&O&&new Date(K)>new Date(O)?N("\u958b\u59cb\u65e5\u671f\u4e0d\u80fd\u665a\u65bc\u7d50\u675f\u65e5\u671f\u3002"):(G(K),Q(O),S(1),R(null),E([null]),T(!1)):N("\u8acb\u81f3\u5c11\u9078\u64c7\u4e00\u500b\u958b\u59cb\u6216\u7d50\u675f\u65e5\u671f\u3002")},className:"me-2 btn-theme-gradient",size:"sm",children:"\u7be9\u9078"}),(0,p.jsx)(se.A,{variant:"outline-secondary",onClick:()=>{L(""),M(""),G(""),Q(""),N(""),S(1),R(null),E([null]),T(!1)},size:"sm",children:"\u6e05\u9664"})]})]})})]})}),b&&(0,p.jsx)(c.A,{variant:"warning",onClose:()=>N(""),dismissible:!0,children:b}),0!==x.length||J?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(re.A,{striped:!0,bordered:!0,hover:!0,responsive:!0,variant:"dark",style:{tableLayout:"fixed",wordWrap:"break-word"},children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsxs)("th",{onClick:()=>X("createdAt"),style:{cursor:"pointer",width:"25%"},children:["\u65e5\u671f ","createdAt"===g&&("asc"===C?"\u25b2":"\u25bc")]}),(0,p.jsxs)("th",{onClick:()=>X("score"),style:{cursor:"pointer",width:"20%"},children:["\u5206\u6578 ","score"===g&&("asc"===C?"\u25b2":"\u25bc")]}),(0,p.jsx)("th",{style:{width:"55%"},children:"\u4f5c\u7b54\u7d50\u679c"})]})}),(0,p.jsx)("tbody",{children:x.map(e=>{var s;return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:null===(s=e.createdAt)||void 0===s?void 0:s.toDate().toLocaleDateString()}),(0,p.jsx)("td",{children:e.score}),(0,p.jsx)("td",{children:(0,p.jsx)(te.A,{className:"quiz-history-accordion",children:(0,p.jsxs)(te.A.Item,{eventKey:"0",children:[(0,p.jsx)(te.A.Header,{children:"\u67e5\u770b\u8a73\u60c5"}),(0,p.jsx)(te.A.Body,{children:e.userAnswers&&e.userAnswers.length>0?e.userAnswers.map((e,s)=>(0,p.jsxs)("div",{className:"mb-2 p-2 border rounded",children:[(0,p.jsxs)("p",{children:[(0,p.jsx)("strong",{children:"\u554f\u984c:"})," ",e.question]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("strong",{children:"\u4f60\u7684\u7b54\u6848:"})," ",(0,p.jsxs)("span",{style:{color:e.isCorrect?"#28a745":"#dc3545"},children:[e.userAnswer," ",e.isCorrect?(0,p.jsx)(le.A7C,{color:"#28a745"}):(0,p.jsx)(le._Hm,{color:"#dc3545"})]})]}),!e.isCorrect&&(0,p.jsxs)("p",{children:[(0,p.jsx)("strong",{children:"\u6b63\u78ba\u7b54\u6848:"})," ",(0,p.jsx)("span",{style:{color:"#28a745"},children:e.correctAnswer})]})]},s)):(0,p.jsx)("p",{children:"\u7121\u8a73\u7d30\u4f5c\u7b54\u7d50\u679c\u3002"})})]})})})]},e.id)})})]}),(0,p.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[$>1&&(0,p.jsx)(se.A,{onClick:()=>{if($>1){S(e=>e-1);const e=[...z];e.pop(),E(e),R(e[e.length-1])}},disabled:J,variant:"secondary",children:"\u4e0a\u4e00\u9801"}),U&&(0,p.jsx)(se.A,{onClick:()=>{U&&(S(e=>e+1),E(e=>[...e,F]))},disabled:J,variant:"secondary",className:"ms-auto",children:"\u4e0b\u4e00\u9801"})]})]}):(0,p.jsx)(c.A,{variant:"info",children:"\u60a8\u9084\u6c92\u6709\u4efb\u4f55\u904a\u6232\u7d00\u9304\u3002"})]})}},4196:(e,s,r)=>{r.d(s,{A:()=>c});var t=r(8139),a=r.n(t),n=r(5043),l=r(7852),o=r(579);const i=n.forwardRef((e,s)=>{let{bsPrefix:r,className:t,striped:n,bordered:i,borderless:c,hover:d,size:m,variant:u,responsive:x,...h}=e;const f=(0,l.oU)(r,"table"),j=a()(t,f,u&&`${f}-${u}`,m&&`${f}-${m}`,n&&`${f}-${"string"===typeof n?`striped-${n}`:"striped"}`,i&&`${f}-bordered`,c&&`${f}-borderless`,d&&`${f}-hover`),p=(0,o.jsx)("table",{...h,className:j,ref:s});if(x){let e=`${f}-responsive`;return"string"===typeof x&&(e=`${e}-${x}`),(0,o.jsx)("div",{className:e,children:p})}return p});i.displayName="Table";const c=i}}]);
//# sourceMappingURL=81.a018cb89.chunk.js.map