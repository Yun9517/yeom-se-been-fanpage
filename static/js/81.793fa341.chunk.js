"use strict";(self.webpackChunkyeom_se_been_fanpage=self.webpackChunkyeom_se_been_fanpage||[]).push([[81],{457:(e,s,r)=>{r.d(s,{A:()=>k});var t=r(8139),a=r.n(t),n=r(5043),l=r(1969),o=r(7852),i=r(2306);function c(e,s){return Array.isArray(e)?e.includes(s):e===s}const d=n.createContext({});d.displayName="AccordionContext";const m=d;var u=r(579);const x=n.forwardRef((e,s)=>{let{as:r="div",bsPrefix:t,className:l,children:d,eventKey:x,...h}=e;const{activeEventKey:f}=(0,n.useContext)(m);return t=(0,o.oU)(t,"accordion-collapse"),(0,u.jsx)(i.A,{ref:s,in:c(f,x),...h,className:a()(l,t),children:(0,u.jsx)(r,{children:n.Children.only(d)})})});x.displayName="AccordionCollapse";const h=x,f=n.createContext({eventKey:""});f.displayName="AccordionItemContext";const j=f,p=n.forwardRef((e,s)=>{let{as:r="div",bsPrefix:t,className:l,onEnter:i,onEntering:c,onEntered:d,onExit:m,onExiting:x,onExited:f,...p}=e;t=(0,o.oU)(t,"accordion-body");const{eventKey:y}=(0,n.useContext)(j);return(0,u.jsx)(h,{eventKey:y,onEnter:i,onEntering:c,onEntered:d,onExit:m,onExiting:x,onExited:f,children:(0,u.jsx)(r,{ref:s,...p,className:a()(l,t)})})});p.displayName="AccordionBody";const y=p;const v=n.forwardRef((e,s)=>{let{as:r="button",bsPrefix:t,className:l,onClick:i,...d}=e;t=(0,o.oU)(t,"accordion-button");const{eventKey:x}=(0,n.useContext)(j),h=function(e,s){const{activeEventKey:r,onSelect:t,alwaysOpen:a}=(0,n.useContext)(m);return n=>{let l=e===r?null:e;a&&(l=Array.isArray(r)?r.includes(e)?r.filter(s=>s!==e):[...r,e]:[e]),null==t||t(l,n),null==s||s(n)}}(x,i),{activeEventKey:f}=(0,n.useContext)(m);return"button"===r&&(d.type="button"),(0,u.jsx)(r,{ref:s,onClick:h,...d,"aria-expanded":Array.isArray(f)?f.includes(x):x===f,className:a()(l,t,!c(f,x)&&"collapsed")})});v.displayName="AccordionButton";const b=v,N=n.forwardRef((e,s)=>{let{as:r="h2","aria-controls":t,bsPrefix:n,className:l,children:i,onClick:c,...d}=e;return n=(0,o.oU)(n,"accordion-header"),(0,u.jsx)(r,{ref:s,...d,className:a()(l,n),children:(0,u.jsx)(b,{onClick:c,"aria-controls":t,children:i})})});N.displayName="AccordionHeader";const g=N,A=n.forwardRef((e,s)=>{let{as:r="div",bsPrefix:t,className:l,eventKey:i,...c}=e;t=(0,o.oU)(t,"accordion-item");const d=(0,n.useMemo)(()=>({eventKey:i}),[i]);return(0,u.jsx)(j.Provider,{value:d,children:(0,u.jsx)(r,{ref:s,...c,className:a()(l,t)})})});A.displayName="AccordionItem";const w=A,C=n.forwardRef((e,s)=>{const{as:r="div",activeKey:t,bsPrefix:i,className:c,onSelect:d,flush:x,alwaysOpen:h,...f}=(0,l.Zw)(e,{activeKey:"onSelect"}),j=(0,o.oU)(i,"accordion"),p=(0,n.useMemo)(()=>({activeEventKey:t,onSelect:d,alwaysOpen:h}),[t,d,h]);return(0,u.jsx)(m.Provider,{value:p,children:(0,u.jsx)(r,{ref:s,...f,className:a()(c,j,x&&`${j}-flush`)})})});C.displayName="Accordion";const k=Object.assign(C,{Button:b,Collapse:h,Item:w,Header:g,Body:y})},1290:(e,s,r)=>{r.d(s,{A:()=>l});var t=r(5043),a=r(6667),n=r(791);const l=(e,s)=>{const[r,l]=(0,t.useState)(null),[o,i]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null);return(0,t.useEffect)(()=>{(async()=>{i(!0),d(null);try{const r=(0,a.H9)(n.db,e,s),t=await(0,a.x7)(r);t.exists()?(l(t.data()),console.log(`useFirestoreDocument: Fetched data for ${e}/${s}.`)):(l(null),console.log(`useFirestoreDocument: No document found for ${e}/${s}.`))}catch(r){console.error(`useFirestoreDocument: Error fetching document ${e}/${s}:`,r),d(`\u7121\u6cd5\u8f09\u5165 ${e} \u5167\u5bb9\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002`)}finally{i(!1)}})()},[e,s]),{data:r,loading:o,error:c}}},1719:(e,s,r)=>{r.d(s,{A:()=>b});var t=r(8139),a=r.n(t),n=r(5043),l=r(1969),o=r(6618),i=r(7852),c=r(4488),d=r(579);const m=(0,c.A)("h4");m.displayName="DivStyledAsH4";const u=n.forwardRef((e,s)=>{let{className:r,bsPrefix:t,as:n=m,...l}=e;return t=(0,i.oU)(t,"alert-heading"),(0,d.jsx)(n,{ref:s,className:a()(r,t),...l})});u.displayName="AlertHeading";const x=u;var h=r(7071);const f=n.forwardRef((e,s)=>{let{className:r,bsPrefix:t,as:n=h.A,...l}=e;return t=(0,i.oU)(t,"alert-link"),(0,d.jsx)(n,{ref:s,className:a()(r,t),...l})});f.displayName="AlertLink";const j=f;var p=r(8072),y=r(5632);const v=n.forwardRef((e,s)=>{const{bsPrefix:r,show:t=!0,closeLabel:n="Close alert",closeVariant:c,className:m,children:u,variant:x="primary",onClose:h,dismissible:f,transition:j=p.A,...v}=(0,l.Zw)(e,{show:"onClose"}),b=(0,i.oU)(r,"alert"),N=(0,o.A)(e=>{h&&h(!1,e)}),g=!0===j?p.A:j,A=(0,d.jsxs)("div",{role:"alert",...g?void 0:v,ref:s,className:a()(m,b,x&&`${b}-${x}`,f&&`${b}-dismissible`),children:[f&&(0,d.jsx)(y.A,{onClick:N,"aria-label":n,variant:c}),u]});return g?(0,d.jsx)(g,{unmountOnExit:!0,...v,ref:void 0,in:t,children:A}):t?A:null});v.displayName="Alert";const b=Object.assign(v,{Link:j,Heading:x})},4081:(e,s,r)=>{r.r(s),r.d(s,{default:()=>le});var t=r(5043),a=r(791),n=r(6667),l=r(8279),o=r(3519),i=r(1719),c=r(1072),d=r(8602),m=r(9437),u=r(8139),x=r.n(u),h=r(7852);const f=t.createContext({});var j=r(579);const p=t.forwardRef((e,s)=>{let{id:r,bsPrefix:a,className:n,type:l="checkbox",isValid:o=!1,isInvalid:i=!1,as:c="input",...d}=e;const{controlId:m}=(0,t.useContext)(f);return a=(0,h.oU)(a,"form-check-input"),(0,j.jsx)(c,{...d,ref:s,type:l,id:r||m,className:x()(n,a,o&&"is-valid",i&&"is-invalid")})});p.displayName="FormCheckInput";const y=p;var v=r(9334);const b=t.forwardRef((e,s)=>{let{className:r,bsPrefix:t,as:a="span",...n}=e;return t=(0,h.oU)(t,"input-group-text"),(0,j.jsx)(a,{ref:s,className:x()(r,t),...n})});b.displayName="InputGroupText";const N=b,g=t.forwardRef((e,s)=>{let{bsPrefix:r,size:a,hasValidation:n,className:l,as:o="div",...i}=e;r=(0,h.oU)(r,"input-group");const c=(0,t.useMemo)(()=>({}),[]);return(0,j.jsx)(v.A.Provider,{value:c,children:(0,j.jsx)(o,{ref:s,...i,className:x()(l,r,a&&`${r}-${a}`,n&&"has-validation")})})});g.displayName="InputGroup";const A=Object.assign(g,{Text:N,Radio:e=>(0,j.jsx)(N,{children:(0,j.jsx)(y,{type:"radio",...e})}),Checkbox:e=>(0,j.jsx)(N,{children:(0,j.jsx)(y,{type:"checkbox",...e})})});var w=r(5173),C=r.n(w);const k={type:C().string,tooltip:C().bool,as:C().elementType},$=t.forwardRef((e,s)=>{let{as:r="div",className:t,type:a="valid",tooltip:n=!1,...l}=e;return(0,j.jsx)(r,{...l,ref:s,className:x()(t,`${a}-${n?"tooltip":"feedback"}`)})});$.displayName="Feedback",$.propTypes=k;const S=$,P=t.forwardRef((e,s)=>{let{bsPrefix:r,className:a,htmlFor:n,...l}=e;const{controlId:o}=(0,t.useContext)(f);return r=(0,h.oU)(r,"form-check-label"),(0,j.jsx)("label",{...l,ref:s,htmlFor:n||o,className:x()(a,r)})});P.displayName="FormCheckLabel";const I=P;const F=t.forwardRef((e,s)=>{let{id:r,bsPrefix:a,bsSwitchPrefix:n,inline:l=!1,reverse:o=!1,disabled:i=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:m=!1,feedback:u,feedbackType:p,className:v,style:b,title:N="",type:g="checkbox",label:A,children:w,as:C="input",...k}=e;a=(0,h.oU)(a,"form-check"),n=(0,h.oU)(n,"form-switch");const{controlId:$}=(0,t.useContext)(f),P=(0,t.useMemo)(()=>({controlId:r||$}),[$,r]),F=!w&&null!=A&&!1!==A||function(e,s){return t.Children.toArray(e).some(e=>t.isValidElement(e)&&e.type===s)}(w,I),R=(0,j.jsx)(y,{...k,type:"switch"===g?"checkbox":g,ref:s,isValid:c,isInvalid:d,disabled:i,as:C});return(0,j.jsx)(f.Provider,{value:P,children:(0,j.jsx)("div",{style:b,className:x()(v,F&&a,l&&`${a}-inline`,o&&`${a}-reverse`,"switch"===g&&n),children:w||(0,j.jsxs)(j.Fragment,{children:[R,F&&(0,j.jsx)(I,{title:N,children:A}),u&&(0,j.jsx)(S,{type:p,tooltip:m,children:u})]})})})});F.displayName="FormCheck";const R=Object.assign(F,{Input:y,Label:I});r(6440);const z=t.forwardRef((e,s)=>{let{bsPrefix:r,type:a,size:n,htmlSize:l,id:o,className:i,isValid:c=!1,isInvalid:d=!1,plaintext:m,readOnly:u,as:p="input",...y}=e;const{controlId:v}=(0,t.useContext)(f);return r=(0,h.oU)(r,"form-control"),(0,j.jsx)(p,{...y,type:a,size:l,ref:s,readOnly:u,id:o||v,className:x()(i,m?`${r}-plaintext`:r,n&&`${r}-${n}`,"color"===a&&`${r}-color`,c&&"is-valid",d&&"is-invalid")})});z.displayName="FormControl";const E=Object.assign(z,{Feedback:S}),U=t.forwardRef((e,s)=>{let{className:r,bsPrefix:t,as:a="div",...n}=e;return t=(0,h.oU)(t,"form-floating"),(0,j.jsx)(a,{ref:s,className:x()(r,t),...n})});U.displayName="FormFloating";const D=U,T=t.forwardRef((e,s)=>{let{controlId:r,as:a="div",...n}=e;const l=(0,t.useMemo)(()=>({controlId:r}),[r]);return(0,j.jsx)(f.Provider,{value:l,children:(0,j.jsx)(a,{...n,ref:s})})});T.displayName="FormGroup";const H=T,K=t.forwardRef((e,s)=>{let{as:r="label",bsPrefix:a,column:n=!1,visuallyHidden:l=!1,className:o,htmlFor:i,...c}=e;const{controlId:m}=(0,t.useContext)(f);a=(0,h.oU)(a,"form-label");let u="col-form-label";"string"===typeof n&&(u=`${u} ${u}-${n}`);const p=x()(o,a,l&&"visually-hidden",n&&u);return i=i||m,n?(0,j.jsx)(d.A,{ref:s,as:"label",className:p,htmlFor:i,...c}):(0,j.jsx)(r,{ref:s,className:p,htmlFor:i,...c})});K.displayName="FormLabel";const L=K,O=t.forwardRef((e,s)=>{let{bsPrefix:r,className:a,id:n,...l}=e;const{controlId:o}=(0,t.useContext)(f);return r=(0,h.oU)(r,"form-range"),(0,j.jsx)("input",{...l,type:"range",ref:s,className:x()(a,r),id:n||o})});O.displayName="FormRange";const M=O,_=t.forwardRef((e,s)=>{let{bsPrefix:r,size:a,htmlSize:n,className:l,isValid:o=!1,isInvalid:i=!1,id:c,...d}=e;const{controlId:m}=(0,t.useContext)(f);return r=(0,h.oU)(r,"form-select"),(0,j.jsx)("select",{...d,size:n,ref:s,className:x()(l,r,a&&`${r}-${a}`,o&&"is-valid",i&&"is-invalid"),id:c||m})});_.displayName="FormSelect";const G=_,V=t.forwardRef((e,s)=>{let{bsPrefix:r,className:t,as:a="small",muted:n,...l}=e;return r=(0,h.oU)(r,"form-text"),(0,j.jsx)(a,{...l,ref:s,className:x()(t,r,n&&"text-muted")})});V.displayName="FormText";const Q=V,B=t.forwardRef((e,s)=>(0,j.jsx)(R,{...e,ref:s,type:"switch"}));B.displayName="Switch";const q=Object.assign(B,{Input:R.Input,Label:R.Label}),Z=t.forwardRef((e,s)=>{let{bsPrefix:r,className:t,children:a,controlId:n,label:l,...o}=e;return r=(0,h.oU)(r,"form-floating"),(0,j.jsxs)(H,{ref:s,className:x()(t,r),controlId:n,...o,children:[a,(0,j.jsx)("label",{htmlFor:n,children:l})]})});Z.displayName="FloatingLabel";const J=Z,W={_ref:C().any,validated:C().bool,as:C().elementType},X=t.forwardRef((e,s)=>{let{className:r,validated:t,as:a="form",...n}=e;return(0,j.jsx)(a,{...n,ref:s,className:x()(r,t&&"was-validated")})});X.displayName="Form",X.propTypes=W;const Y=Object.assign(X,{Group:H,Control:E,Floating:D,Check:R,Switch:q,Label:L,Text:Q,Range:M,Select:G,FloatingLabel:J});var ee=r(4282),se=r(4196),re=r(457),te=r(6045),ae=r(1290),ne=r(184);const le=()=>{const[e,s]=(0,l.hD)(a.j),[r,u]=(0,t.useState)([]),[x,h]=(0,t.useState)(!0),[f,p]=(0,t.useState)(null),[y,v]=(0,t.useState)(""),[b,N]=(0,t.useState)("createdAt"),[g,w]=(0,t.useState)("desc"),[C,k]=(0,t.useState)(1),[$,S]=(0,t.useState)(10),[P,I]=(0,t.useState)(null),[F,R]=(0,t.useState)([null]),[z,E]=(0,t.useState)(!1),[U,D]=(0,t.useState)(""),[T,H]=(0,t.useState)(""),[K,L]=(0,t.useState)(""),[O,M]=(0,t.useState)(""),[_,G]=(0,t.useState)(""),{data:V,loading:Q,error:B}=(0,ae.A)("userAchievements",e?e.uid:null),q=s||Q||x,Z=B||f;(0,t.useEffect)(()=>{e?(k(1),I(null),R([null]),E(!1),p(null)):(u([]),h(!1),p("\u8acb\u5148\u767b\u5165\u4ee5\u67e5\u770b\u904a\u6232\u7d00\u9304\u3002"),k(1),I(null),R([null]),E(!1))},[e]),(0,t.useEffect)(()=>{(async()=>{if(!s&&!Q&&e){h(!0),console.log("QuizHistory: Starting to fetch quiz history for user:",e.uid);try{let s=(0,n.rJ)(a.db,"scores"),r=(0,n.P)(s,(0,n._M)("userId","==",e.uid));if(O){const e=n.Dc.fromDate(new Date(O+"T00:00:00"));r=(0,n.P)(r,(0,n._M)("createdAt",">=",e))}if(_){const e=n.Dc.fromDate(new Date(_+"T23:59:59"));r=(0,n.P)(r,(0,n._M)("createdAt","<=",e))}r=(0,n.P)(r,(0,n.My)(b,g)),F[C-1]&&(r=(0,n.P)(r,(0,n.HM)(F[C-1]))),r=(0,n.P)(r,(0,n.AB)($+1));const t=await(0,n.GG)(r),l=t.docs.map(e=>({id:e.id,...e.data()}));E(l.length>$);const o=l.slice(0,$);u(o),I(t.docs[o.length-1]),console.log("QuizHistory: Game history fetched successfully.")}catch(r){console.error("QuizHistory: Error fetching quiz history:",r),p("\u7121\u6cd5\u8f09\u5165\u904a\u6232\u7d00\u9304\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002")}finally{h(!1),console.log("QuizHistory: Finished fetching game history.")}}})()},[e,s,Q,b,g,C,$,O,_,F]);const J=e=>{e===b?w("asc"===g?"desc":"asc"):(N(e),w("desc")),k(1),I(null),R([null]),E(!1)},W=e=>{S(e),k(1),I(null),R([null]),E(!1)},X=()=>{const e=parseInt(U,10);e>0?W(e):v("\u8acb\u8f38\u5165\u6709\u6548\u7684\u6578\u5b57\u3002")};if(s)return console.log("QuizHistory: Loading user authentication status..."),(0,j.jsx)(o.A,{className:"mt-5 text-center",children:(0,j.jsx)(te.A,{loading:!0})});if(q)return console.log("QuizHistory: Loading game history data..."),(0,j.jsx)(o.A,{className:"mt-5 text-center",children:(0,j.jsx)(te.A,{loading:!0})});if(Z)return(0,j.jsx)(o.A,{className:"mt-5",children:(0,j.jsx)(i.A,{variant:"danger",children:Z})});if(!e)return(0,j.jsx)(o.A,{className:"mt-5",children:(0,j.jsx)(i.A,{variant:"info",children:"\u8acb\u767b\u5165\u4ee5\u67e5\u770b\u60a8\u7684\u904a\u6232\u7d00\u9304\u3002"})});if(e.isAnonymous)return(0,j.jsx)(o.A,{className:"mt-5",children:(0,j.jsx)(i.A,{variant:"info",children:"\u60a8\u76ee\u524d\u4ee5\u8a2a\u5ba2\u6a21\u5f0f\u767b\u5165\u3002\u5982\u9700\u67e5\u770b\u4e26\u5132\u5b58\u904a\u6232\u7d00\u9304\uff0c\u8acb\u4f7f\u7528 Google \u5e33\u6236\u767b\u5165\u3002"})});const le=V.totalQuizSessions||0,oe=r.reduce((e,s)=>Math.max(e,s.score),0),ie=r.length>0?(r.reduce((e,s)=>e+s.score,0)/r.length).toFixed(2):0;return(0,j.jsxs)(o.A,{className:"mt-5 leaderboard-container",children:[(0,j.jsx)("h2",{children:"\u6211\u7684\u904a\u6232\u7d00\u9304"}),(0,j.jsx)("div",{className:"p-3 rounded mb-3",style:{backgroundColor:"#343a40"},children:(0,j.jsxs)(c.A,{className:"align-items-center gy-3",children:[" ",(0,j.jsx)(d.A,{md:6,style:{color:"#e9ecef"},children:(0,j.jsxs)(c.A,{children:[(0,j.jsx)(d.A,{xs:12,children:(0,j.jsxs)("p",{className:"mb-1",children:[(0,j.jsx)("strong",{children:"\u7e3d\u904a\u6232\u6b21\u6578:"})," ",le]})}),(0,j.jsx)(d.A,{xs:12,children:(0,j.jsxs)("p",{className:"mb-1",children:[(0,j.jsx)("strong",{children:"\u672c\u9801\u904a\u6232\u6b21\u6578:"})," ",r.length]})}),(0,j.jsx)(d.A,{xs:12,children:(0,j.jsxs)("p",{className:"mb-1",children:[(0,j.jsx)("strong",{children:"\u6700\u9ad8\u5206\u6578 (\u672c\u9801):"})," ",oe]})}),(0,j.jsx)(d.A,{xs:12,children:(0,j.jsxs)("p",{className:"mb-0",children:[(0,j.jsx)("strong",{children:"\u5e73\u5747\u5206\u6578 (\u672c\u9801):"})," ",ie]})})]})}),(0,j.jsx)(d.A,{md:6,className:"filter-controls",children:(0,j.jsxs)("div",{className:"d-flex flex-column",children:[(0,j.jsxs)(m.A,{className:"w-100 mb-2",children:[(0,j.jsxs)(m.A.Toggle,{variant:"primary",id:"dropdown-items-per-page",size:"sm",className:"w-100",children:["\u6bcf\u9801\u986f\u793a: ",$]}),(0,j.jsxs)(m.A.Menu,{className:"w-100",children:[(0,j.jsx)(m.A.Item,{onClick:()=>W(10),children:"10"}),(0,j.jsx)(m.A.Item,{onClick:()=>W(20),children:"20"}),(0,j.jsx)(m.A.Item,{onClick:()=>W(50),children:"50"}),(0,j.jsx)(m.A.Divider,{}),(0,j.jsx)(m.A.Item,{as:"div",onClick:e=>e.stopPropagation(),children:(0,j.jsxs)(A,{size:"sm",className:"p-2",children:[(0,j.jsx)(Y.Control,{type:"number",placeholder:"\u81ea\u8a02",value:U,onChange:e=>D(e.target.value),onKeyPress:e=>{"Enter"===e.key&&X()}}),(0,j.jsx)(ee.A,{variant:"outline-secondary",onClick:X,children:"\u8a2d\u5b9a"})]})})]})]}),(0,j.jsxs)(A,{size:"sm",className:"mb-2",children:[(0,j.jsx)(A.Text,{children:"\u958b\u59cb"}),(0,j.jsx)(Y.Control,{type:"date",value:T,onChange:e=>H(e.target.value),max:(new Date).toISOString().split("T")[0]})]}),(0,j.jsxs)(A,{size:"sm",className:"mb-2",children:[(0,j.jsx)(A.Text,{children:"\u7d50\u675f"}),(0,j.jsx)(Y.Control,{type:"date",value:K,onChange:e=>L(e.target.value),max:(new Date).toISOString().split("T")[0]})]}),(0,j.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,j.jsx)(ee.A,{onClick:()=>{v(""),T||K?T&&K&&new Date(T)>new Date(K)?v("\u958b\u59cb\u65e5\u671f\u4e0d\u80fd\u665a\u65bc\u7d50\u675f\u65e5\u671f\u3002"):(M(T),G(K),k(1),I(null),R([null]),E(!1)):v("\u8acb\u81f3\u5c11\u9078\u64c7\u4e00\u500b\u958b\u59cb\u6216\u7d50\u675f\u65e5\u671f\u3002")},className:"me-2 btn-theme-gradient",size:"sm",children:"\u7be9\u9078"}),(0,j.jsx)(ee.A,{variant:"outline-secondary",onClick:()=>{H(""),L(""),M(""),G(""),v(""),k(1),I(null),R([null]),E(!1)},size:"sm",children:"\u6e05\u9664"})]})]})})]})}),y&&(0,j.jsx)(i.A,{variant:"warning",onClose:()=>v(""),dismissible:!0,children:y}),0!==r.length||q?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(se.A,{striped:!0,bordered:!0,hover:!0,responsive:!0,variant:"dark",style:{tableLayout:"fixed",wordWrap:"break-word"},children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsxs)("th",{onClick:()=>J("createdAt"),style:{cursor:"pointer",width:"25%"},children:["\u65e5\u671f ","createdAt"===b&&("asc"===g?"\u25b2":"\u25bc")]}),(0,j.jsxs)("th",{onClick:()=>J("score"),style:{cursor:"pointer",width:"20%"},children:["\u5206\u6578 ","score"===b&&("asc"===g?"\u25b2":"\u25bc")]}),(0,j.jsx)("th",{style:{width:"55%"},children:"\u4f5c\u7b54\u7d50\u679c"})]})}),(0,j.jsx)("tbody",{children:r.map(e=>{var s;return(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:null===(s=e.createdAt)||void 0===s?void 0:s.toDate().toLocaleDateString()}),(0,j.jsx)("td",{children:e.score}),(0,j.jsx)("td",{children:(0,j.jsx)(re.A,{className:"quiz-history-accordion",children:(0,j.jsxs)(re.A.Item,{eventKey:"0",children:[(0,j.jsx)(re.A.Header,{children:"\u67e5\u770b\u8a73\u60c5"}),(0,j.jsx)(re.A.Body,{children:e.userAnswers&&e.userAnswers.length>0?e.userAnswers.map((e,s)=>(0,j.jsxs)("div",{className:"mb-2 p-2 border rounded",children:[(0,j.jsxs)("p",{children:[(0,j.jsx)("strong",{children:"\u554f\u984c:"})," ",e.question]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("strong",{children:"\u4f60\u7684\u7b54\u6848:"})," ",(0,j.jsxs)("span",{style:{color:e.isCorrect?"#28a745":"#dc3545"},children:[e.userAnswer," ",e.isCorrect?(0,j.jsx)(ne.A7C,{color:"#28a745"}):(0,j.jsx)(ne._Hm,{color:"#dc3545"})]})]}),!e.isCorrect&&(0,j.jsxs)("p",{children:[(0,j.jsx)("strong",{children:"\u6b63\u78ba\u7b54\u6848:"})," ",(0,j.jsx)("span",{style:{color:"#28a745"},children:e.correctAnswer})]})]},s)):(0,j.jsx)("p",{children:"\u7121\u8a73\u7d30\u4f5c\u7b54\u7d50\u679c\u3002"})})]})})})]},e.id)})})]}),(0,j.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[C>1&&(0,j.jsx)(ee.A,{onClick:()=>{if(C>1){k(e=>e-1);const e=[...F];e.pop(),R(e),I(e[e.length-1])}},disabled:q,variant:"secondary",children:"\u4e0a\u4e00\u9801"}),z&&(0,j.jsx)(ee.A,{onClick:()=>{z&&(k(e=>e+1),R(e=>[...e,P]))},disabled:q,variant:"secondary",className:"ms-auto",children:"\u4e0b\u4e00\u9801"})]})]}):(0,j.jsx)(i.A,{variant:"info",children:"\u60a8\u9084\u6c92\u6709\u4efb\u4f55\u904a\u6232\u7d00\u9304\u3002"})]})}},4196:(e,s,r)=>{r.d(s,{A:()=>c});var t=r(8139),a=r.n(t),n=r(5043),l=r(7852),o=r(579);const i=n.forwardRef((e,s)=>{let{bsPrefix:r,className:t,striped:n,bordered:i,borderless:c,hover:d,size:m,variant:u,responsive:x,...h}=e;const f=(0,l.oU)(r,"table"),j=a()(t,f,u&&`${f}-${u}`,m&&`${f}-${m}`,n&&`${f}-${"string"===typeof n?`striped-${n}`:"striped"}`,i&&`${f}-bordered`,c&&`${f}-borderless`,d&&`${f}-hover`),p=(0,o.jsx)("table",{...h,className:j,ref:s});if(x){let e=`${f}-responsive`;return"string"===typeof x&&(e=`${e}-${x}`),(0,o.jsx)("div",{className:e,children:p})}return p});i.displayName="Table";const c=i}}]);
//# sourceMappingURL=81.793fa341.chunk.js.map