{"version":3,"file":"static/js/840.822c8ec0.chunk.js","mappings":"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","sources":["../node_modules/react-bootstrap/esm/AccordionContext.js","../node_modules/react-bootstrap/esm/AccordionCollapse.js","../node_modules/react-bootstrap/esm/AccordionItemContext.js","../node_modules/react-bootstrap/esm/AccordionBody.js","../node_modules/react-bootstrap/esm/AccordionButton.js","../node_modules/react-bootstrap/esm/AccordionHeader.js","../node_modules/react-bootstrap/esm/AccordionItem.js","../node_modules/react-bootstrap/esm/Accordion.js","hooks/useFirestoreDocument.js","../node_modules/react-bootstrap/esm/AlertHeading.js","../node_modules/react-bootstrap/esm/AlertLink.js","../node_modules/react-bootstrap/esm/Alert.js","../node_modules/react-bootstrap/esm/ElementChildren.js","../node_modules/react-bootstrap/esm/Table.js","../node_modules/react-bootstrap/esm/FormContext.js","../node_modules/react-bootstrap/esm/FormCheckInput.js","../node_modules/react-bootstrap/esm/InputGroupText.js","../node_modules/react-bootstrap/esm/InputGroup.js","../node_modules/react-bootstrap/esm/Feedback.js","../node_modules/react-bootstrap/esm/FormCheckLabel.js","../node_modules/react-bootstrap/esm/FormCheck.js","../node_modules/react-bootstrap/esm/FormControl.js","../node_modules/react-bootstrap/esm/FormFloating.js","../node_modules/react-bootstrap/esm/FormGroup.js","../node_modules/react-bootstrap/esm/FormLabel.js","../node_modules/react-bootstrap/esm/FormRange.js","../node_modules/react-bootstrap/esm/FormSelect.js","../node_modules/react-bootstrap/esm/FormText.js","../node_modules/react-bootstrap/esm/Switch.js","../node_modules/react-bootstrap/esm/FloatingLabel.js","../node_modules/react-bootstrap/esm/Form.js","components/QuizHistory.js"],"sourcesContent":["\"use client\";\n\nimport * as React from 'react';\nexport function isAccordionItemSelected(activeEventKey, eventKey) {\n  return Array.isArray(activeEventKey) ? activeEventKey.includes(eventKey) : activeEventKey === eventKey;\n}\nconst context = /*#__PURE__*/React.createContext({});\ncontext.displayName = 'AccordionContext';\nexport default context;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport Collapse from './Collapse';\nimport AccordionContext, { isAccordionItemSelected } from './AccordionContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * This component accepts all of [`Collapse`'s props](/docs/utilities/transitions#collapse-1).\n */\nconst AccordionCollapse = /*#__PURE__*/React.forwardRef(({\n  as: Component = 'div',\n  bsPrefix,\n  className,\n  children,\n  eventKey,\n  ...props\n}, ref) => {\n  const {\n    activeEventKey\n  } = useContext(AccordionContext);\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'accordion-collapse');\n  return /*#__PURE__*/_jsx(Collapse, {\n    ref: ref,\n    in: isAccordionItemSelected(activeEventKey, eventKey),\n    ...props,\n    className: classNames(className, bsPrefix),\n    children: /*#__PURE__*/_jsx(Component, {\n      children: React.Children.only(children)\n    })\n  });\n});\nAccordionCollapse.displayName = 'AccordionCollapse';\nexport default AccordionCollapse;","\"use client\";\n\nimport * as React from 'react';\nconst context = /*#__PURE__*/React.createContext({\n  eventKey: ''\n});\ncontext.displayName = 'AccordionItemContext';\nexport default context;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport AccordionCollapse from './AccordionCollapse';\nimport AccordionItemContext from './AccordionItemContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst AccordionBody = /*#__PURE__*/React.forwardRef(({\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  bsPrefix,\n  className,\n  onEnter,\n  onEntering,\n  onEntered,\n  onExit,\n  onExiting,\n  onExited,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'accordion-body');\n  const {\n    eventKey\n  } = useContext(AccordionItemContext);\n  return /*#__PURE__*/_jsx(AccordionCollapse, {\n    eventKey: eventKey,\n    onEnter: onEnter,\n    onEntering: onEntering,\n    onEntered: onEntered,\n    onExit: onExit,\n    onExiting: onExiting,\n    onExited: onExited,\n    children: /*#__PURE__*/_jsx(Component, {\n      ref: ref,\n      ...props,\n      className: classNames(className, bsPrefix)\n    })\n  });\n});\nAccordionBody.displayName = 'AccordionBody';\nexport default AccordionBody;","\"use client\";\n\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport classNames from 'classnames';\nimport AccordionContext, { isAccordionItemSelected } from './AccordionContext';\nimport AccordionItemContext from './AccordionItemContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function useAccordionButton(eventKey, onClick) {\n  const {\n    activeEventKey,\n    onSelect,\n    alwaysOpen\n  } = useContext(AccordionContext);\n  return e => {\n    /*\n      Compare the event key in context with the given event key.\n      If they are the same, then collapse the component.\n    */\n    let eventKeyPassed = eventKey === activeEventKey ? null : eventKey;\n    if (alwaysOpen) {\n      if (Array.isArray(activeEventKey)) {\n        if (activeEventKey.includes(eventKey)) {\n          eventKeyPassed = activeEventKey.filter(k => k !== eventKey);\n        } else {\n          eventKeyPassed = [...activeEventKey, eventKey];\n        }\n      } else {\n        // activeEventKey is undefined.\n        eventKeyPassed = [eventKey];\n      }\n    }\n    onSelect == null || onSelect(eventKeyPassed, e);\n    onClick == null || onClick(e);\n  };\n}\nconst AccordionButton = /*#__PURE__*/React.forwardRef(({\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'button',\n  bsPrefix,\n  className,\n  onClick,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'accordion-button');\n  const {\n    eventKey\n  } = useContext(AccordionItemContext);\n  const accordionOnClick = useAccordionButton(eventKey, onClick);\n  const {\n    activeEventKey\n  } = useContext(AccordionContext);\n  if (Component === 'button') {\n    props.type = 'button';\n  }\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    onClick: accordionOnClick,\n    ...props,\n    \"aria-expanded\": Array.isArray(activeEventKey) ? activeEventKey.includes(eventKey) : eventKey === activeEventKey,\n    className: classNames(className, bsPrefix, !isAccordionItemSelected(activeEventKey, eventKey) && 'collapsed')\n  });\n});\nAccordionButton.displayName = 'AccordionButton';\nexport default AccordionButton;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport AccordionButton from './AccordionButton';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst AccordionHeader = /*#__PURE__*/React.forwardRef(({\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'h2',\n  'aria-controls': ariaControls,\n  bsPrefix,\n  className,\n  children,\n  onClick,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'accordion-header');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(className, bsPrefix),\n    children: /*#__PURE__*/_jsx(AccordionButton, {\n      onClick: onClick,\n      \"aria-controls\": ariaControls,\n      children: children\n    })\n  });\n});\nAccordionHeader.displayName = 'AccordionHeader';\nexport default AccordionHeader;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport AccordionItemContext from './AccordionItemContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst AccordionItem = /*#__PURE__*/React.forwardRef(({\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  bsPrefix,\n  className,\n  eventKey,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'accordion-item');\n  const contextValue = useMemo(() => ({\n    eventKey\n  }), [eventKey]);\n  return /*#__PURE__*/_jsx(AccordionItemContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(Component, {\n      ref: ref,\n      ...props,\n      className: classNames(className, bsPrefix)\n    })\n  });\n});\nAccordionItem.displayName = 'AccordionItem';\nexport default AccordionItem;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport { useUncontrolled } from 'uncontrollable';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport AccordionBody from './AccordionBody';\nimport AccordionButton from './AccordionButton';\nimport AccordionCollapse from './AccordionCollapse';\nimport AccordionContext from './AccordionContext';\nimport AccordionHeader from './AccordionHeader';\nimport AccordionItem from './AccordionItem';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Accordion = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n    as: Component = 'div',\n    activeKey,\n    bsPrefix,\n    className,\n    onSelect,\n    flush,\n    alwaysOpen,\n    ...controlledProps\n  } = useUncontrolled(props, {\n    activeKey: 'onSelect'\n  });\n  const prefix = useBootstrapPrefix(bsPrefix, 'accordion');\n  const contextValue = useMemo(() => ({\n    activeEventKey: activeKey,\n    onSelect,\n    alwaysOpen\n  }), [activeKey, onSelect, alwaysOpen]);\n  return /*#__PURE__*/_jsx(AccordionContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(Component, {\n      ref: ref,\n      ...controlledProps,\n      className: classNames(className, prefix, flush && `${prefix}-flush`)\n    })\n  });\n});\nAccordion.displayName = 'Accordion';\nexport default Object.assign(Accordion, {\n  Button: AccordionButton,\n  Collapse: AccordionCollapse,\n  Item: AccordionItem,\n  Header: AccordionHeader,\n  Body: AccordionBody\n});","import { useState, useEffect } from 'react';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../firebase';\n\nconst useFirestoreDocument = (collectionName, documentId) => {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const docRef = doc(db, collectionName, documentId);\n        const docSnap = await getDoc(docRef);\n\n        if (docSnap.exists()) {\n          setData(docSnap.data());\n          console.log(`useFirestoreDocument: Fetched data for ${collectionName}/${documentId}.`);\n        } else {\n          setData(null);\n          console.log(`useFirestoreDocument: No document found for ${collectionName}/${documentId}.`);\n        }\n      } catch (err) {\n        console.error(`useFirestoreDocument: Error fetching document ${collectionName}/${documentId}:`, err);\n        setError(`無法載入 ${collectionName} 內容，請稍後再試。`);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [collectionName, documentId]);\n\n  return { data, loading, error };\n};\n\nexport default useFirestoreDocument;\n","\"use client\";\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport divWithClassName from './divWithClassName';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst DivStyledAsH4 = divWithClassName('h4');\nDivStyledAsH4.displayName = 'DivStyledAsH4';\nconst AlertHeading = /*#__PURE__*/React.forwardRef(({\n  className,\n  bsPrefix,\n  as: Component = DivStyledAsH4,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'alert-heading');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    className: classNames(className, bsPrefix),\n    ...props\n  });\n});\nAlertHeading.displayName = 'AlertHeading';\nexport default AlertHeading;","\"use client\";\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport Anchor from '@restart/ui/Anchor';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst AlertLink = /*#__PURE__*/React.forwardRef(({\n  className,\n  bsPrefix,\n  as: Component = Anchor,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'alert-link');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    className: classNames(className, bsPrefix),\n    ...props\n  });\n});\nAlertLink.displayName = 'AlertLink';\nexport default AlertLink;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useUncontrolled } from 'uncontrollable';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport AlertHeading from './AlertHeading';\nimport AlertLink from './AlertLink';\nimport Fade from './Fade';\nimport CloseButton from './CloseButton';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst Alert = /*#__PURE__*/React.forwardRef((uncontrolledProps, ref) => {\n  const {\n    bsPrefix,\n    show = true,\n    closeLabel = 'Close alert',\n    closeVariant,\n    className,\n    children,\n    variant = 'primary',\n    onClose,\n    dismissible,\n    transition = Fade,\n    ...props\n  } = useUncontrolled(uncontrolledProps, {\n    show: 'onClose'\n  });\n  const prefix = useBootstrapPrefix(bsPrefix, 'alert');\n  const handleClose = useEventCallback(e => {\n    if (onClose) {\n      onClose(false, e);\n    }\n  });\n  const Transition = transition === true ? Fade : transition;\n  const alert = /*#__PURE__*/_jsxs(\"div\", {\n    role: \"alert\",\n    ...(!Transition ? props : undefined),\n    ref: ref,\n    className: classNames(className, prefix, variant && `${prefix}-${variant}`, dismissible && `${prefix}-dismissible`),\n    children: [dismissible && /*#__PURE__*/_jsx(CloseButton, {\n      onClick: handleClose,\n      \"aria-label\": closeLabel,\n      variant: closeVariant\n    }), children]\n  });\n  if (!Transition) return show ? alert : null;\n  return /*#__PURE__*/_jsx(Transition, {\n    unmountOnExit: true,\n    ...props,\n    ref: undefined,\n    in: show,\n    children: alert\n  });\n});\nAlert.displayName = 'Alert';\nexport default Object.assign(Alert, {\n  Link: AlertLink,\n  Heading: AlertHeading\n});","import * as React from 'react';\n\n/**\n * Iterates through children that are typically specified as `props.children`,\n * but only maps over children that are \"valid elements\".\n *\n * The mapFunction provided index will be normalised to the components mapped,\n * so an invalid component would not increase the index.\n *\n */\nfunction map(children, func) {\n  let index = 0;\n  return React.Children.map(children, child => /*#__PURE__*/React.isValidElement(child) ? func(child, index++) : child);\n}\n\n/**\n * Iterates through children that are \"valid elements\".\n *\n * The provided forEachFunc(child, index) will be called for each\n * leaf child with the index reflecting the position relative to \"valid components\".\n */\nfunction forEach(children, func) {\n  let index = 0;\n  React.Children.forEach(children, child => {\n    if ( /*#__PURE__*/React.isValidElement(child)) func(child, index++);\n  });\n}\n\n/**\n * Finds whether a component's `children` prop includes a React element of the\n * specified type.\n */\nfunction hasChildOfType(children, type) {\n  return React.Children.toArray(children).some(child => /*#__PURE__*/React.isValidElement(child) && child.type === type);\n}\nexport { map, forEach, hasChildOfType };","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Table = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  striped,\n  bordered,\n  borderless,\n  hover,\n  size,\n  variant,\n  responsive,\n  ...props\n}, ref) => {\n  const decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  const classes = classNames(className, decoratedBsPrefix, variant && `${decoratedBsPrefix}-${variant}`, size && `${decoratedBsPrefix}-${size}`, striped && `${decoratedBsPrefix}-${typeof striped === 'string' ? `striped-${striped}` : 'striped'}`, bordered && `${decoratedBsPrefix}-bordered`, borderless && `${decoratedBsPrefix}-borderless`, hover && `${decoratedBsPrefix}-hover`);\n  const table = /*#__PURE__*/_jsx(\"table\", {\n    ...props,\n    className: classes,\n    ref: ref\n  });\n  if (responsive) {\n    let responsiveClass = `${decoratedBsPrefix}-responsive`;\n    if (typeof responsive === 'string') {\n      responsiveClass = `${responsiveClass}-${responsive}`;\n    }\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: responsiveClass,\n      children: table\n    });\n  }\n  return table;\n});\nTable.displayName = 'Table';\nexport default Table;","\"use client\";\n\nimport * as React from 'react';\n\n// TODO\n\nconst FormContext = /*#__PURE__*/React.createContext({});\nexport default FormContext;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst FormCheckInput = /*#__PURE__*/React.forwardRef(({\n  id,\n  bsPrefix,\n  className,\n  type = 'checkbox',\n  isValid = false,\n  isInvalid = false,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'input',\n  ...props\n}, ref) => {\n  const {\n    controlId\n  } = useContext(FormContext);\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form-check-input');\n  return /*#__PURE__*/_jsx(Component, {\n    ...props,\n    ref: ref,\n    type: type,\n    id: id || controlId,\n    className: classNames(className, bsPrefix, isValid && 'is-valid', isInvalid && 'is-invalid')\n  });\n});\nFormCheckInput.displayName = 'FormCheckInput';\nexport default FormCheckInput;","\"use client\";\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst InputGroupText = /*#__PURE__*/React.forwardRef(({\n  className,\n  bsPrefix,\n  as: Component = 'span',\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'input-group-text');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    className: classNames(className, bsPrefix),\n    ...props\n  });\n});\nInputGroupText.displayName = 'InputGroupText';\nexport default InputGroupText;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport FormCheckInput from './FormCheckInput';\nimport InputGroupContext from './InputGroupContext';\nimport InputGroupText from './InputGroupText';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst InputGroupCheckbox = props => /*#__PURE__*/_jsx(InputGroupText, {\n  children: /*#__PURE__*/_jsx(FormCheckInput, {\n    type: \"checkbox\",\n    ...props\n  })\n});\nconst InputGroupRadio = props => /*#__PURE__*/_jsx(InputGroupText, {\n  children: /*#__PURE__*/_jsx(FormCheckInput, {\n    type: \"radio\",\n    ...props\n  })\n});\nconst InputGroup = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  size,\n  hasValidation,\n  className,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'input-group');\n\n  // Intentionally an empty object. Used in detecting if a dropdown\n  // exists under an input group.\n  const contextValue = useMemo(() => ({}), []);\n  return /*#__PURE__*/_jsx(InputGroupContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(Component, {\n      ref: ref,\n      ...props,\n      className: classNames(className, bsPrefix, size && `${bsPrefix}-${size}`, hasValidation && 'has-validation')\n    })\n  });\n});\nInputGroup.displayName = 'InputGroup';\nexport default Object.assign(InputGroup, {\n  Text: InputGroupText,\n  Radio: InputGroupRadio,\n  Checkbox: InputGroupCheckbox\n});","import classNames from 'classnames';\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst propTypes = {\n  /**\n   * Specify whether the feedback is for valid or invalid fields\n   *\n   * @type {('valid'|'invalid')}\n   */\n  type: PropTypes.string,\n  /** Display feedback as a tooltip. */\n  tooltip: PropTypes.bool,\n  as: PropTypes.elementType\n};\nconst Feedback = /*#__PURE__*/React.forwardRef(\n// Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n({\n  as: Component = 'div',\n  className,\n  type = 'valid',\n  tooltip = false,\n  ...props\n}, ref) => /*#__PURE__*/_jsx(Component, {\n  ...props,\n  ref: ref,\n  className: classNames(className, `${type}-${tooltip ? 'tooltip' : 'feedback'}`)\n}));\nFeedback.displayName = 'Feedback';\nFeedback.propTypes = propTypes;\nexport default Feedback;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst FormCheckLabel = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  htmlFor,\n  ...props\n}, ref) => {\n  const {\n    controlId\n  } = useContext(FormContext);\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form-check-label');\n  return /*#__PURE__*/_jsx(\"label\", {\n    ...props,\n    ref: ref,\n    htmlFor: htmlFor || controlId,\n    className: classNames(className, bsPrefix)\n  });\n});\nFormCheckLabel.displayName = 'FormCheckLabel';\nexport default FormCheckLabel;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useContext, useMemo } from 'react';\nimport Feedback from './Feedback';\nimport FormCheckInput from './FormCheckInput';\nimport FormCheckLabel from './FormCheckLabel';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { hasChildOfType } from './ElementChildren';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst FormCheck = /*#__PURE__*/React.forwardRef(({\n  id,\n  bsPrefix,\n  bsSwitchPrefix,\n  inline = false,\n  reverse = false,\n  disabled = false,\n  isValid = false,\n  isInvalid = false,\n  feedbackTooltip = false,\n  feedback,\n  feedbackType,\n  className,\n  style,\n  title = '',\n  type = 'checkbox',\n  label,\n  children,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as = 'input',\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form-check');\n  bsSwitchPrefix = useBootstrapPrefix(bsSwitchPrefix, 'form-switch');\n  const {\n    controlId\n  } = useContext(FormContext);\n  const innerFormContext = useMemo(() => ({\n    controlId: id || controlId\n  }), [controlId, id]);\n  const hasLabel = !children && label != null && label !== false || hasChildOfType(children, FormCheckLabel);\n  const input = /*#__PURE__*/_jsx(FormCheckInput, {\n    ...props,\n    type: type === 'switch' ? 'checkbox' : type,\n    ref: ref,\n    isValid: isValid,\n    isInvalid: isInvalid,\n    disabled: disabled,\n    as: as\n  });\n  return /*#__PURE__*/_jsx(FormContext.Provider, {\n    value: innerFormContext,\n    children: /*#__PURE__*/_jsx(\"div\", {\n      style: style,\n      className: classNames(className, hasLabel && bsPrefix, inline && `${bsPrefix}-inline`, reverse && `${bsPrefix}-reverse`, type === 'switch' && bsSwitchPrefix),\n      children: children || /*#__PURE__*/_jsxs(_Fragment, {\n        children: [input, hasLabel && /*#__PURE__*/_jsx(FormCheckLabel, {\n          title: title,\n          children: label\n        }), feedback && /*#__PURE__*/_jsx(Feedback, {\n          type: feedbackType,\n          tooltip: feedbackTooltip,\n          children: feedback\n        })]\n      })\n    })\n  });\n});\nFormCheck.displayName = 'FormCheck';\nexport default Object.assign(FormCheck, {\n  Input: FormCheckInput,\n  Label: FormCheckLabel\n});","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport warning from 'warning';\nimport Feedback from './Feedback';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst FormControl = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  type,\n  size,\n  htmlSize,\n  id,\n  className,\n  isValid = false,\n  isInvalid = false,\n  plaintext,\n  readOnly,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'input',\n  ...props\n}, ref) => {\n  const {\n    controlId\n  } = useContext(FormContext);\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form-control');\n  process.env.NODE_ENV !== \"production\" ? warning(controlId == null || !id, '`controlId` is ignored on `<FormControl>` when `id` is specified.') : void 0;\n  return /*#__PURE__*/_jsx(Component, {\n    ...props,\n    type: type,\n    size: htmlSize,\n    ref: ref,\n    readOnly: readOnly,\n    id: id || controlId,\n    className: classNames(className, plaintext ? `${bsPrefix}-plaintext` : bsPrefix, size && `${bsPrefix}-${size}`, type === 'color' && `${bsPrefix}-color`, isValid && 'is-valid', isInvalid && 'is-invalid')\n  });\n});\nFormControl.displayName = 'FormControl';\nexport default Object.assign(FormControl, {\n  Feedback\n});","\"use client\";\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst FormFloating = /*#__PURE__*/React.forwardRef(({\n  className,\n  bsPrefix,\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form-floating');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    className: classNames(className, bsPrefix),\n    ...props\n  });\n});\nFormFloating.displayName = 'FormFloating';\nexport default FormFloating;","import * as React from 'react';\nimport { useMemo } from 'react';\nimport FormContext from './FormContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst FormGroup = /*#__PURE__*/React.forwardRef(({\n  controlId,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  const context = useMemo(() => ({\n    controlId\n  }), [controlId]);\n  return /*#__PURE__*/_jsx(FormContext.Provider, {\n    value: context,\n    children: /*#__PURE__*/_jsx(Component, {\n      ...props,\n      ref: ref\n    })\n  });\n});\nFormGroup.displayName = 'FormGroup';\nexport default FormGroup;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport warning from 'warning';\nimport Col from './Col';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst FormLabel = /*#__PURE__*/React.forwardRef(({\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'label',\n  bsPrefix,\n  column = false,\n  visuallyHidden = false,\n  className,\n  htmlFor,\n  ...props\n}, ref) => {\n  const {\n    controlId\n  } = useContext(FormContext);\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form-label');\n  let columnClass = 'col-form-label';\n  if (typeof column === 'string') columnClass = `${columnClass} ${columnClass}-${column}`;\n  const classes = classNames(className, bsPrefix, visuallyHidden && 'visually-hidden', column && columnClass);\n  process.env.NODE_ENV !== \"production\" ? warning(controlId == null || !htmlFor, '`controlId` is ignored on `<FormLabel>` when `htmlFor` is specified.') : void 0;\n  htmlFor = htmlFor || controlId;\n  if (column) return /*#__PURE__*/_jsx(Col, {\n    ref: ref,\n    as: \"label\",\n    className: classes,\n    htmlFor: htmlFor,\n    ...props\n  });\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    className: classes,\n    htmlFor: htmlFor,\n    ...props\n  });\n});\nFormLabel.displayName = 'FormLabel';\nexport default FormLabel;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport FormContext from './FormContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst FormRange = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  id,\n  ...props\n}, ref) => {\n  const {\n    controlId\n  } = useContext(FormContext);\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form-range');\n  return /*#__PURE__*/_jsx(\"input\", {\n    ...props,\n    type: \"range\",\n    ref: ref,\n    className: classNames(className, bsPrefix),\n    id: id || controlId\n  });\n});\nFormRange.displayName = 'FormRange';\nexport default FormRange;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport FormContext from './FormContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst FormSelect = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  size,\n  htmlSize,\n  className,\n  isValid = false,\n  isInvalid = false,\n  id,\n  ...props\n}, ref) => {\n  const {\n    controlId\n  } = useContext(FormContext);\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form-select');\n  return /*#__PURE__*/_jsx(\"select\", {\n    ...props,\n    size: htmlSize,\n    ref: ref,\n    className: classNames(className, bsPrefix, size && `${bsPrefix}-${size}`, isValid && `is-valid`, isInvalid && `is-invalid`),\n    id: id || controlId\n  });\n});\nFormSelect.displayName = 'FormSelect';\nexport default FormSelect;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst FormText = /*#__PURE__*/React.forwardRef(\n// Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n({\n  bsPrefix,\n  className,\n  as: Component = 'small',\n  muted,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form-text');\n  return /*#__PURE__*/_jsx(Component, {\n    ...props,\n    ref: ref,\n    className: classNames(className, bsPrefix, muted && 'text-muted')\n  });\n});\nFormText.displayName = 'FormText';\nexport default FormText;","import * as React from 'react';\nimport FormCheck from './FormCheck';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Switch = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/_jsx(FormCheck, {\n  ...props,\n  ref: ref,\n  type: \"switch\"\n}));\nSwitch.displayName = 'Switch';\nexport default Object.assign(Switch, {\n  Input: FormCheck.Input,\n  Label: FormCheck.Label\n});","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport FormGroup from './FormGroup';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst FloatingLabel = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  children,\n  controlId,\n  label,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form-floating');\n  return /*#__PURE__*/_jsxs(FormGroup, {\n    ref: ref,\n    className: classNames(className, bsPrefix),\n    controlId: controlId,\n    ...props,\n    children: [children, /*#__PURE__*/_jsx(\"label\", {\n      htmlFor: controlId,\n      children: label\n    })]\n  });\n});\nFloatingLabel.displayName = 'FloatingLabel';\nexport default FloatingLabel;","import classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport FormCheck from './FormCheck';\nimport FormControl from './FormControl';\nimport FormFloating from './FormFloating';\nimport FormGroup from './FormGroup';\nimport FormLabel from './FormLabel';\nimport FormRange from './FormRange';\nimport FormSelect from './FormSelect';\nimport FormText from './FormText';\nimport Switch from './Switch';\nimport FloatingLabel from './FloatingLabel';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst propTypes = {\n  /**\n   * The Form `ref` will be forwarded to the underlying element,\n   * which means, unless it's rendered `as` a composite component,\n   * it will be a DOM node, when resolved.\n   *\n   * @type {ReactRef}\n   * @alias ref\n   */\n  _ref: PropTypes.any,\n  /**\n   * Mark a form as having been validated. Setting it to `true` will\n   * toggle any validation styles on the forms elements.\n   */\n  validated: PropTypes.bool,\n  as: PropTypes.elementType\n};\nconst Form = /*#__PURE__*/React.forwardRef(({\n  className,\n  validated,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'form',\n  ...props\n}, ref) => /*#__PURE__*/_jsx(Component, {\n  ...props,\n  ref: ref,\n  className: classNames(className, validated && 'was-validated')\n}));\nForm.displayName = 'Form';\nForm.propTypes = propTypes;\nexport default Object.assign(Form, {\n  Group: FormGroup,\n  Control: FormControl,\n  Floating: FormFloating,\n  Check: FormCheck,\n  Switch,\n  Label: FormLabel,\n  Text: FormText,\n  Range: FormRange,\n  Select: FormSelect,\n  FloatingLabel\n});","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { db, auth } from '../firebase';\nimport { collection, query, where, orderBy, getDocs, limit, startAfter, Timestamp } from 'firebase/firestore';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { Container, Alert, Table, Accordion, Button, Dropdown, Form, InputGroup, Row, Col } from 'react-bootstrap';\nimport LoadingSpinner from './LoadingSpinner';\nimport useFirestoreDocument from '../hooks/useFirestoreDocument';\nimport { FaCheckCircle, FaTimesCircle } from 'react-icons/fa';\nimport './QuizHistory.css';\n\nconst QuizHistory = () => {\n  const [user, authLoading] = useAuthState(auth);\n  const navigate = useNavigate();\n  const [history, setHistory] = useState([]);\n  const [loadingHistory, setLoadingHistory] = useState(true); // Separate loading for history data\n  const [errorHistory, setErrorHistory] = useState(null); // Separate error for history data\n  const [dateError, setDateError] = useState(''); // State for date validation error\n  const [sortField, setSortField] = useState('createdAt');\n  const [sortOrder, setSortOrder] = useState('desc');\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage, setItemsPerPage] = useState(10);\n  const [lastVisible, setLastVisible] = useState(null);\n  const [pageHistory, setPageHistory] = useState([null]);\n  const [hasMore, setHasMore] = useState(false);\n  const [customItemsPerPage, setCustomItemsPerPage] = useState('');\n\n  const [startDateInput, setStartDateInput] = useState('');\n  const [endDateInput, setEndDateInput] = useState('');\n\n  const [filterStartDate, setFilterStartDate] = useState('');\n  const [filterEndDate, setFilterEndDate] = useState('');\n\n  // Fetch user achievements data using useFirestoreDocument\n  const { data: userAchievementsData, loading: userAchievementsLoading, error: userAchievementsError } = useFirestoreDocument(\n    \"userAchievements\",\n    user ? user.uid : null\n  );\n\n  // Combine loading and error states for the component\n  const loading = authLoading || userAchievementsLoading || loadingHistory;\n  const error = userAchievementsError || errorHistory;\n\n  useEffect(() => {\n    if (user) {\n      setCurrentPage(1);\n      setLastVisible(null);\n      setPageHistory([null]);\n      setHasMore(false);\n      setErrorHistory(null);\n    } else {\n      // Redirect on logout\n      const timer = setTimeout(() => {\n        navigate('/');\n      }, 3000);\n\n      // Reset state\n      setHistory([]);\n      setLoadingHistory(false);\n      setErrorHistory(null); // Clear error on logout\n      setCurrentPage(1);\n      setLastVisible(null);\n      setPageHistory([null]);\n      setHasMore(false);\n\n      return () => clearTimeout(timer);\n    }\n  }, [user, navigate]);\n\n  useEffect(() => {\n    const fetchQuizHistory = async () => {\n      if (authLoading || userAchievementsLoading) return; // Wait for auth and user achievements to load\n      if (!user) return;\n\n      setLoadingHistory(true);\n      console.log(\"QuizHistory: Starting to fetch quiz history for user:\", user.uid);\n\n      try {\n        let baseQuery = collection(db, \"scores\");\n        let q = query(baseQuery, where(\"userId\", \"==\", user.uid));\n\n        if (filterStartDate) {\n          const startTimestamp = Timestamp.fromDate(new Date(filterStartDate + 'T00:00:00'));\n          q = query(q, where(\"createdAt\", \">=\", startTimestamp));\n        }\n        if (filterEndDate) {\n          const endTimestamp = Timestamp.fromDate(new Date(filterEndDate + 'T23:59:59'));\n          q = query(q, where(\"createdAt\", \"<=\", endTimestamp));\n        }\n\n        q = query(q, orderBy(sortField, sortOrder));\n\n        if (pageHistory[currentPage - 1]) {\n          q = query(q, startAfter(pageHistory[currentPage - 1]));\n        }\n\n        q = query(q, limit(itemsPerPage + 1));\n\n        const querySnapshot = await getDocs(q);\n        const fetchedHistory = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n\n        setHasMore(fetchedHistory.length > itemsPerPage);\n        const currentItems = fetchedHistory.slice(0, itemsPerPage);\n        setHistory(currentItems);\n        setLastVisible(querySnapshot.docs[currentItems.length - 1]);\n        console.log(\"QuizHistory: Game history fetched successfully.\");\n\n      } catch (err) {\n        console.error(\"QuizHistory: Error fetching quiz history:\", err);\n        setErrorHistory(\"無法載入遊戲紀錄，請稍後再試。\");\n      } finally {\n        setLoadingHistory(false);\n        console.log(\"QuizHistory: Finished fetching game history.\");\n      }\n    };\n\n    fetchQuizHistory();\n\n  }, [user, authLoading, userAchievementsLoading, sortField, sortOrder, currentPage, itemsPerPage, filterStartDate, filterEndDate, pageHistory]);\n\n  const handleNextPage = () => {\n    if (hasMore) {\n      setCurrentPage(prevPage => prevPage + 1);\n      setPageHistory(prevHistory => [...prevHistory, lastVisible]);\n    }\n  };\n\n  const handlePreviousPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(prevPage => prevPage - 1);\n      const newPageHistory = [...pageHistory];\n      newPageHistory.pop();\n      setPageHistory(newPageHistory);\n      setLastVisible(newPageHistory[newPageHistory.length - 1]);\n    }\n  };\n\n  const handleSort = (field) => {\n    if (field === sortField) {\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortField(field);\n      setSortOrder('desc');\n    }\n    setCurrentPage(1);\n    setLastVisible(null);\n    setPageHistory([null]);\n    setHasMore(false);\n  };\n\n  const handleFilter = () => {\n    setDateError(''); // Clear previous errors\n\n    if (!startDateInput && !endDateInput) {\n      setDateError('請至少選擇一個開始或結束日期。');\n      return;\n    }\n\n    if (startDateInput && endDateInput && new Date(startDateInput) > new Date(endDateInput)) {\n      setDateError('開始日期不能晚於結束日期。');\n      return;\n    }\n\n    setFilterStartDate(startDateInput);\n    setFilterEndDate(endDateInput);\n    setCurrentPage(1);\n    setLastVisible(null);\n    setPageHistory([null]);\n    setHasMore(false);\n  };\n\n  const handleClearFilter = () => {\n    setStartDateInput('');\n    setEndDateInput('');\n    setFilterStartDate('');\n    setFilterEndDate('');\n    setDateError(''); // Also clear date error\n    setCurrentPage(1);\n    setLastVisible(null);\n    setPageHistory([null]);\n    setHasMore(false);\n  };\n\n  const handleItemsPerPageChange = (num) => {\n    setItemsPerPage(num);\n    setCurrentPage(1);\n    setLastVisible(null);\n    setPageHistory([null]);\n    setHasMore(false);\n  };\n\n  const handleCustomItemsPerPageSubmit = () => {\n    const num = parseInt(customItemsPerPage, 10);\n    if (num > 0) {\n      handleItemsPerPageChange(num);\n    } else {\n      setDateError('請輸入有效的數字。');\n    }\n  };\n\n  if (authLoading) {\n    console.log(\"QuizHistory: Loading user authentication status...\");\n    return (\n      <Container className=\"mt-5 text-center\">\n        <LoadingSpinner loading={true} />\n      </Container>\n    );\n  }\n\n  if (loading) {\n    console.log(\"QuizHistory: Loading game history data...\");\n    return (\n      <Container className=\"mt-5 text-center\">\n        <LoadingSpinner loading={true} />\n      </Container>\n    );\n  }\n\n  if (!user) {\n    return (\n      <Container className=\"mt-5\">\n        <Alert variant=\"warning\">請登入後繼續使用此功能</Alert>\n      </Container>\n    );\n  }\n\n  if (error) {\n    return (\n      <Container className=\"mt-5\">\n        <Alert variant=\"danger\">{error}</Alert>\n      </Container>\n    );\n  }\n\n  if (user.isAnonymous) {\n    return (\n      <Container className=\"mt-5\">\n        <Alert variant=\"info\">您目前以訪客模式登入。如需查看並儲存遊戲紀錄，請使用 Google 帳戶登入。</Alert>\n      </Container>\n    );\n  }\n\n  const totalGamesOverall = userAchievementsData.totalQuizSessions || 0;\n  const highestScore = history.reduce((max, record) => Math.max(max, record.score), 0);\n  const averageScore = history.length > 0 ? (history.reduce((sum, record) => sum + record.score, 0) / history.length).toFixed(2) : 0;\n\n  return (\n    <Container className=\"mt-5 leaderboard-container\">\n      <h2>我的遊戲紀錄</h2>\n      {/* The main container with a unified background */}\n      <div className=\"p-3 rounded mb-3\" style={{ backgroundColor: '#343a40' }}>\n        <Row className=\"align-items-center gy-3\"> {/* gy-3 adds vertical gap on mobile */}\n          {/* Left Column: Stats */}\n          <Col md={6} style={{ color: '#e9ecef' }}>\n            {/* Use a responsive grid for better alignment across all devices */}\n            <Row>\n              <Col xs={12}><p className=\"mb-1\"><strong>總遊戲次數:</strong> {totalGamesOverall}</p></Col>\n              <Col xs={12}><p className=\"mb-1\"><strong>本頁遊戲次數:</strong> {history.length}</p></Col>\n              <Col xs={12}><p className=\"mb-1\"><strong>最高分數 (本頁):</strong> {highestScore}</p></Col>\n              <Col xs={12}><p className=\"mb-0\"><strong>平均分數 (本頁):</strong> {averageScore}</p></Col>\n            </Row>\n          </Col>\n\n          {/* Right Column: Filters - now with a vertical layout */}\n          <Col md={6} className=\"filter-controls\">\n            <div className=\"d-flex flex-column\">\n              {/* Items per page dropdown - full width */}\n              <Dropdown className=\"w-100 mb-2\">\n                <Dropdown.Toggle variant=\"primary\" id=\"dropdown-items-per-page\" size=\"sm\" className=\"w-100\">\n                  每頁顯示: {itemsPerPage}\n                </Dropdown.Toggle>\n                <Dropdown.Menu className=\"w-100\">\n                  <Dropdown.Item onClick={() => handleItemsPerPageChange(10)}>10</Dropdown.Item>\n                  <Dropdown.Item onClick={() => handleItemsPerPageChange(20)}>20</Dropdown.Item>\n                  <Dropdown.Item onClick={() => handleItemsPerPageChange(50)}>50</Dropdown.Item>\n                  <Dropdown.Divider />\n                  <Dropdown.Item as=\"div\" onClick={(e) => e.stopPropagation()}>\n                    <InputGroup size=\"sm\" className=\"p-2\">\n                      <Form.Control\n                        type=\"number\"\n                        placeholder=\"自訂\"\n                        value={customItemsPerPage}\n                        onChange={(e) => setCustomItemsPerPage(e.target.value)}\n                        onKeyPress={(e) => {\n                          if (e.key === 'Enter') handleCustomItemsPerPageSubmit();\n                        }}\n                      />\n                      <Button variant=\"outline-secondary\" onClick={handleCustomItemsPerPageSubmit}>\n                        設定\n                      </Button>\n                    </InputGroup>\n                  </Dropdown.Item>\n                </Dropdown.Menu>\n              </Dropdown>\n\n              {/* Date filters - each on its own line */}\n              <InputGroup size=\"sm\" className=\"mb-2\">\n                <InputGroup.Text>開始</InputGroup.Text>\n                <Form.Control\n                  type=\"date\"\n                  value={startDateInput}\n                  onChange={(e) => setStartDateInput(e.target.value)}\n                  max={new Date().toISOString().split('T')[0]}\n                />\n              </InputGroup>\n              <InputGroup size=\"sm\" className=\"mb-2\">\n                <InputGroup.Text>結束</InputGroup.Text>\n                <Form.Control\n                  type=\"date\"\n                  value={endDateInput}\n                  onChange={(e) => setEndDateInput(e.target.value)}\n                  max={new Date().toISOString().split('T')[0]}\n                />\n              </InputGroup>\n\n              {/* Filter buttons - grouped on one line and aligned to the right */}\n              <div className=\"d-flex justify-content-end\">\n                <Button onClick={handleFilter} className=\"me-2 btn-theme-gradient\" size=\"sm\">\n                  篩選\n                </Button>\n                <Button variant=\"outline-secondary\" onClick={handleClearFilter} size=\"sm\">\n                  清除\n                </Button>\n              </div>\n            </div>\n          </Col>\n        </Row>\n      </div>\n      {dateError && (\n        <Alert variant=\"warning\" onClose={() => setDateError('')} dismissible>\n          {dateError}\n        </Alert>\n      )}\n      {history.length === 0 && !loading ? (\n        <Alert variant=\"info\">您還沒有任何遊戲紀錄。</Alert>\n      ) : (\n        <>\n          <Table striped bordered hover responsive variant=\"dark\" style={{ tableLayout: 'fixed', wordWrap: 'break-word' }}>\n            <thead>\n              <tr>\n                <th onClick={() => handleSort('createdAt')} style={{ cursor: 'pointer', width: '25%' }}>\n                  日期 {sortField === 'createdAt' && (sortOrder === 'asc' ? '▲' : '▼')}\n                </th>\n                <th onClick={() => handleSort('score')} style={{ cursor: 'pointer', width: '20%' }}>\n                  分數 {sortField === 'score' && (sortOrder === 'asc' ? '▲' : '▼')}\n                </th>\n                <th style={{ width: '55%' }}>作答結果</th>\n              </tr>\n            </thead>\n            <tbody>\n              {history.map((record) => (\n                <tr key={record.id}>\n                  <td>{record.createdAt?.toDate().toLocaleDateString()}</td>\n                  <td>{record.score}</td>\n                  <td>\n                    <Accordion className=\"quiz-history-accordion\">\n                      <Accordion.Item eventKey=\"0\">\n                        <Accordion.Header>查看詳情</Accordion.Header>\n                        <Accordion.Body>\n                          {record.userAnswers && record.userAnswers.length > 0 ? (\n                            record.userAnswers.map((answer, idx) => (\n                              <div key={idx} className=\"mb-2 p-2 border rounded\">\n                                <p><strong>問題:</strong> {answer.question}</p>\n                                <p><strong>你的答案:</strong> <span style={{ color: answer.isCorrect ? '#28a745' : '#dc3545' }}>\n                                  {answer.userAnswer} {answer.isCorrect ? <FaCheckCircle color=\"#28a745\" /> : <FaTimesCircle color=\"#dc3545\" />}\n                                </span></p>\n                                {!answer.isCorrect && (\n                                  <p><strong>正確答案:</strong> <span style={{ color: '#28a745' }}>{answer.correctAnswer}</span></p>\n                                )}\n                              </div>\n                            ))\n                          ) : (\n                            <p>無詳細作答結果。</p>\n                          )}\n                        </Accordion.Body>\n                      </Accordion.Item>\n                    </Accordion>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n          <div className=\"d-flex justify-content-between mt-3\">\n            {currentPage > 1 && (\n              <Button onClick={handlePreviousPage} disabled={loading} variant=\"secondary\">\n                上一頁\n              </Button>\n            )}\n            {hasMore && (\n              <Button onClick={handleNextPage} disabled={loading} variant=\"secondary\" className=\"ms-auto\">\n                下一頁\n              </Button>\n            )}\n          </div>\n        </>\n      )}\n    </Container>\n  );\n};\n\nexport default QuizHistory;\n"],"names":["isAccordionItemSelected","activeEventKey","eventKey","Array","isArray","includes","context","React","displayName","AccordionCollapse","_ref","ref","as","Component","bsPrefix","className","children","props","useContext","AccordionContext","useBootstrapPrefix","_jsx","Collapse","in","classNames","only","AccordionBody","onEnter","onEntering","onEntered","onExit","onExiting","onExited","AccordionItemContext","AccordionButton","onClick","accordionOnClick","onSelect","alwaysOpen","e","eventKeyPassed","filter","k","useAccordionButton","type","AccordionHeader","ariaControls","AccordionItem","contextValue","useMemo","Provider","value","Accordion","activeKey","flush","controlledProps","useUncontrolled","prefix","Object","assign","Button","Item","Header","Body","useFirestoreDocument","collectionName","documentId","data","setData","useState","loading","setLoading","error","setError","useEffect","async","docRef","doc","db","docSnap","getDoc","exists","console","log","err","fetchData","DivStyledAsH4","divWithClassName","AlertHeading","AlertLink","Anchor","Alert","uncontrolledProps","show","closeLabel","closeVariant","variant","onClose","dismissible","transition","Fade","handleClose","useEventCallback","Transition","alert","_jsxs","role","undefined","CloseButton","unmountOnExit","Link","Heading","map","func","index","child","forEach","hasChildOfType","toArray","some","Table","striped","bordered","borderless","hover","size","responsive","decoratedBsPrefix","classes","table","responsiveClass","FormCheckInput","id","isValid","isInvalid","controlId","FormContext","InputGroupText","InputGroup","hasValidation","InputGroupContext","Text","Radio","Checkbox","propTypes","PropTypes","tooltip","Feedback","FormCheckLabel","htmlFor","FormCheck","bsSwitchPrefix","inline","reverse","disabled","feedbackTooltip","feedback","feedbackType","style","title","label","innerFormContext","hasLabel","input","_Fragment","Input","Label","FormControl","htmlSize","plaintext","readOnly","FormFloating","FormGroup","FormLabel","column","visuallyHidden","columnClass","Col","FormRange","FormSelect","FormText","muted","Switch","FloatingLabel","validated","Form","Group","Control","Floating","Check","Range","Select","QuizHistory","user","authLoading","useAuthState","auth","navigate","useNavigate","history","setHistory","loadingHistory","setLoadingHistory","errorHistory","setErrorHistory","dateError","setDateError","sortField","setSortField","sortOrder","setSortOrder","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","lastVisible","setLastVisible","pageHistory","setPageHistory","hasMore","setHasMore","customItemsPerPage","setCustomItemsPerPage","startDateInput","setStartDateInput","endDateInput","setEndDateInput","filterStartDate","setFilterStartDate","filterEndDate","setFilterEndDate","userAchievementsData","userAchievementsLoading","userAchievementsError","uid","timer","setTimeout","clearTimeout","baseQuery","collection","q","query","where","startTimestamp","Timestamp","fromDate","Date","endTimestamp","orderBy","startAfter","limit","querySnapshot","getDocs","fetchedHistory","docs","length","currentItems","slice","fetchQuizHistory","handleSort","field","handleItemsPerPageChange","num","handleCustomItemsPerPageSubmit","parseInt","Container","LoadingSpinner","isAnonymous","totalGamesOverall","totalQuizSessions","highestScore","reduce","max","record","Math","score","averageScore","sum","toFixed","backgroundColor","Row","md","color","xs","Dropdown","Toggle","Menu","Divider","stopPropagation","placeholder","onChange","target","onKeyPress","key","toISOString","split","handleFilter","handleClearFilter","tableLayout","wordWrap","cursor","width","_record$createdAt","createdAt","toDate","toLocaleDateString","userAnswers","answer","idx","question","isCorrect","userAnswer","FaCheckCircle","FaTimesCircle","correctAnswer","handlePreviousPage","prevPage","newPageHistory","pop","handleNextPage","prevHistory"],"sourceRoot":""}