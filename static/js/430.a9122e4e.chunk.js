"use strict";(self.webpackChunkyeom_se_been_fanpage=self.webpackChunkyeom_se_been_fanpage||[]).push([[430],{457:(e,s,t)=>{t.d(s,{A:()=>k});var r=t(8139),n=t.n(r),a=t(5043),l=t(1969),o=t(7852),i=t(2306);function c(e,s){return Array.isArray(e)?e.includes(s):e===s}const d=a.createContext({});d.displayName="AccordionContext";const m=d;var u=t(579);const x=a.forwardRef((e,s)=>{let{as:t="div",bsPrefix:r,className:l,children:d,eventKey:x,...h}=e;const{activeEventKey:f}=(0,a.useContext)(m);return r=(0,o.oU)(r,"accordion-collapse"),(0,u.jsx)(i.A,{ref:s,in:c(f,x),...h,className:n()(l,r),children:(0,u.jsx)(t,{children:a.Children.only(d)})})});x.displayName="AccordionCollapse";const h=x,f=a.createContext({eventKey:""});f.displayName="AccordionItemContext";const j=f,p=a.forwardRef((e,s)=>{let{as:t="div",bsPrefix:r,className:l,onEnter:i,onEntering:c,onEntered:d,onExit:m,onExiting:x,onExited:f,...p}=e;r=(0,o.oU)(r,"accordion-body");const{eventKey:y}=(0,a.useContext)(j);return(0,u.jsx)(h,{eventKey:y,onEnter:i,onEntering:c,onEntered:d,onExit:m,onExiting:x,onExited:f,children:(0,u.jsx)(t,{ref:s,...p,className:n()(l,r)})})});p.displayName="AccordionBody";const y=p;const v=a.forwardRef((e,s)=>{let{as:t="button",bsPrefix:r,className:l,onClick:i,...d}=e;r=(0,o.oU)(r,"accordion-button");const{eventKey:x}=(0,a.useContext)(j),h=function(e,s){const{activeEventKey:t,onSelect:r,alwaysOpen:n}=(0,a.useContext)(m);return a=>{let l=e===t?null:e;n&&(l=Array.isArray(t)?t.includes(e)?t.filter(s=>s!==e):[...t,e]:[e]),null==r||r(l,a),null==s||s(a)}}(x,i),{activeEventKey:f}=(0,a.useContext)(m);return"button"===t&&(d.type="button"),(0,u.jsx)(t,{ref:s,onClick:h,...d,"aria-expanded":Array.isArray(f)?f.includes(x):x===f,className:n()(l,r,!c(f,x)&&"collapsed")})});v.displayName="AccordionButton";const b=v,A=a.forwardRef((e,s)=>{let{as:t="h2","aria-controls":r,bsPrefix:a,className:l,children:i,onClick:c,...d}=e;return a=(0,o.oU)(a,"accordion-header"),(0,u.jsx)(t,{ref:s,...d,className:n()(l,a),children:(0,u.jsx)(b,{onClick:c,"aria-controls":r,children:i})})});A.displayName="AccordionHeader";const N=A,g=a.forwardRef((e,s)=>{let{as:t="div",bsPrefix:r,className:l,eventKey:i,...c}=e;r=(0,o.oU)(r,"accordion-item");const d=(0,a.useMemo)(()=>({eventKey:i}),[i]);return(0,u.jsx)(j.Provider,{value:d,children:(0,u.jsx)(t,{ref:s,...c,className:n()(l,r)})})});g.displayName="AccordionItem";const w=g,C=a.forwardRef((e,s)=>{const{as:t="div",activeKey:r,bsPrefix:i,className:c,onSelect:d,flush:x,alwaysOpen:h,...f}=(0,l.Zw)(e,{activeKey:"onSelect"}),j=(0,o.oU)(i,"accordion"),p=(0,a.useMemo)(()=>({activeEventKey:r,onSelect:d,alwaysOpen:h}),[r,d,h]);return(0,u.jsx)(m.Provider,{value:p,children:(0,u.jsx)(t,{ref:s,...f,className:n()(c,j,x&&`${j}-flush`)})})});C.displayName="Accordion";const k=Object.assign(C,{Button:b,Collapse:h,Item:w,Header:N,Body:y})},1068:(e,s,t)=>{t.d(s,{A:()=>d});var r=t(8139),n=t.n(r),a=t(5043),l=t(5673),o=t(7852),i=t(579);const c=a.forwardRef((e,s)=>{let{id:t,bsPrefix:r,className:c,type:d="checkbox",isValid:m=!1,isInvalid:u=!1,as:x="input",...h}=e;const{controlId:f}=(0,a.useContext)(l.A);return r=(0,o.oU)(r,"form-check-input"),(0,i.jsx)(x,{...h,ref:s,type:d,id:t||f,className:n()(c,r,m&&"is-valid",u&&"is-invalid")})});c.displayName="FormCheckInput";const d=c},1290:(e,s,t)=>{t.d(s,{A:()=>l});var r=t(5043),n=t(6667),a=t(791);const l=(e,s)=>{const[t,l]=(0,r.useState)(null),[o,i]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{i(!0),d(null);try{const t=(0,n.H9)(a.db,e,s),r=await(0,n.x7)(t);r.exists()?(l(r.data()),console.log(`useFirestoreDocument: Fetched data for ${e}/${s}.`)):(l(null),console.log(`useFirestoreDocument: No document found for ${e}/${s}.`))}catch(t){console.error(`useFirestoreDocument: Error fetching document ${e}/${s}:`,t),d(`\u7121\u6cd5\u8f09\u5165 ${e} \u5167\u5bb9\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002`)}finally{i(!1)}})()},[e,s]),{data:t,loading:o,error:c}}},1719:(e,s,t)=>{t.d(s,{A:()=>b});var r=t(8139),n=t.n(r),a=t(5043),l=t(1969),o=t(6618),i=t(7852),c=t(4488),d=t(579);const m=(0,c.A)("h4");m.displayName="DivStyledAsH4";const u=a.forwardRef((e,s)=>{let{className:t,bsPrefix:r,as:a=m,...l}=e;return r=(0,i.oU)(r,"alert-heading"),(0,d.jsx)(a,{ref:s,className:n()(t,r),...l})});u.displayName="AlertHeading";const x=u;var h=t(7071);const f=a.forwardRef((e,s)=>{let{className:t,bsPrefix:r,as:a=h.A,...l}=e;return r=(0,i.oU)(r,"alert-link"),(0,d.jsx)(a,{ref:s,className:n()(t,r),...l})});f.displayName="AlertLink";const j=f;var p=t(8072),y=t(5632);const v=a.forwardRef((e,s)=>{const{bsPrefix:t,show:r=!0,closeLabel:a="Close alert",closeVariant:c,className:m,children:u,variant:x="primary",onClose:h,dismissible:f,transition:j=p.A,...v}=(0,l.Zw)(e,{show:"onClose"}),b=(0,i.oU)(t,"alert"),A=(0,o.A)(e=>{h&&h(!1,e)}),N=!0===j?p.A:j,g=(0,d.jsxs)("div",{role:"alert",...N?void 0:v,ref:s,className:n()(m,b,x&&`${b}-${x}`,f&&`${b}-dismissible`),children:[f&&(0,d.jsx)(y.A,{onClick:A,"aria-label":a,variant:c}),u]});return N?(0,d.jsx)(N,{unmountOnExit:!0,...v,ref:void 0,in:r,children:g}):r?g:null});v.displayName="Alert";const b=Object.assign(v,{Link:j,Heading:x})},2663:(e,s,t)=>{t.d(s,{Tj:()=>n,jJ:()=>a,mf:()=>l});var r=t(5043);function n(e,s){let t=0;return r.Children.map(e,e=>r.isValidElement(e)?s(e,t++):e)}function a(e,s){let t=0;r.Children.forEach(e,e=>{r.isValidElement(e)&&s(e,t++)})}function l(e,s){return r.Children.toArray(e).some(e=>r.isValidElement(e)&&e.type===s)}},3722:(e,s,t)=>{t.d(s,{A:()=>O});var r=t(8139),n=t.n(r),a=t(5173),l=t.n(a),o=t(5043),i=t(579);const c={type:l().string,tooltip:l().bool,as:l().elementType},d=o.forwardRef((e,s)=>{let{as:t="div",className:r,type:a="valid",tooltip:l=!1,...o}=e;return(0,i.jsx)(t,{...o,ref:s,className:n()(r,`${a}-${l?"tooltip":"feedback"}`)})});d.displayName="Feedback",d.propTypes=c;const m=d;var u=t(1068),x=t(5673),h=t(7852);const f=o.forwardRef((e,s)=>{let{bsPrefix:t,className:r,htmlFor:a,...l}=e;const{controlId:c}=(0,o.useContext)(x.A);return t=(0,h.oU)(t,"form-check-label"),(0,i.jsx)("label",{...l,ref:s,htmlFor:a||c,className:n()(r,t)})});f.displayName="FormCheckLabel";const j=f;var p=t(2663);const y=o.forwardRef((e,s)=>{let{id:t,bsPrefix:r,bsSwitchPrefix:a,inline:l=!1,reverse:c=!1,disabled:d=!1,isValid:f=!1,isInvalid:y=!1,feedbackTooltip:v=!1,feedback:b,feedbackType:A,className:N,style:g,title:w="",type:C="checkbox",label:k,children:$,as:S="input",...P}=e;r=(0,h.oU)(r,"form-check"),a=(0,h.oU)(a,"form-switch");const{controlId:I}=(0,o.useContext)(x.A),F=(0,o.useMemo)(()=>({controlId:t||I}),[I,t]),R=!$&&null!=k&&!1!==k||(0,p.mf)($,j),E=(0,i.jsx)(u.A,{...P,type:"switch"===C?"checkbox":C,ref:s,isValid:f,isInvalid:y,disabled:d,as:S});return(0,i.jsx)(x.A.Provider,{value:F,children:(0,i.jsx)("div",{style:g,className:n()(N,R&&r,l&&`${r}-inline`,c&&`${r}-reverse`,"switch"===C&&a),children:$||(0,i.jsxs)(i.Fragment,{children:[E,R&&(0,i.jsx)(j,{title:w,children:k}),b&&(0,i.jsx)(m,{type:A,tooltip:v,children:b})]})})})});y.displayName="FormCheck";const v=Object.assign(y,{Input:u.A,Label:j});t(6440);const b=o.forwardRef((e,s)=>{let{bsPrefix:t,type:r,size:a,htmlSize:l,id:c,className:d,isValid:m=!1,isInvalid:u=!1,plaintext:f,readOnly:j,as:p="input",...y}=e;const{controlId:v}=(0,o.useContext)(x.A);return t=(0,h.oU)(t,"form-control"),(0,i.jsx)(p,{...y,type:r,size:l,ref:s,readOnly:j,id:c||v,className:n()(d,f?`${t}-plaintext`:t,a&&`${t}-${a}`,"color"===r&&`${t}-color`,m&&"is-valid",u&&"is-invalid")})});b.displayName="FormControl";const A=Object.assign(b,{Feedback:m}),N=o.forwardRef((e,s)=>{let{className:t,bsPrefix:r,as:a="div",...l}=e;return r=(0,h.oU)(r,"form-floating"),(0,i.jsx)(a,{ref:s,className:n()(t,r),...l})});N.displayName="FormFloating";const g=N,w=o.forwardRef((e,s)=>{let{controlId:t,as:r="div",...n}=e;const a=(0,o.useMemo)(()=>({controlId:t}),[t]);return(0,i.jsx)(x.A.Provider,{value:a,children:(0,i.jsx)(r,{...n,ref:s})})});w.displayName="FormGroup";const C=w;var k=t(8602);const $=o.forwardRef((e,s)=>{let{as:t="label",bsPrefix:r,column:a=!1,visuallyHidden:l=!1,className:c,htmlFor:d,...m}=e;const{controlId:u}=(0,o.useContext)(x.A);r=(0,h.oU)(r,"form-label");let f="col-form-label";"string"===typeof a&&(f=`${f} ${f}-${a}`);const j=n()(c,r,l&&"visually-hidden",a&&f);return d=d||u,a?(0,i.jsx)(k.A,{ref:s,as:"label",className:j,htmlFor:d,...m}):(0,i.jsx)(t,{ref:s,className:j,htmlFor:d,...m})});$.displayName="FormLabel";const S=$,P=o.forwardRef((e,s)=>{let{bsPrefix:t,className:r,id:a,...l}=e;const{controlId:c}=(0,o.useContext)(x.A);return t=(0,h.oU)(t,"form-range"),(0,i.jsx)("input",{...l,type:"range",ref:s,className:n()(r,t),id:a||c})});P.displayName="FormRange";const I=P,F=o.forwardRef((e,s)=>{let{bsPrefix:t,size:r,htmlSize:a,className:l,isValid:c=!1,isInvalid:d=!1,id:m,...u}=e;const{controlId:f}=(0,o.useContext)(x.A);return t=(0,h.oU)(t,"form-select"),(0,i.jsx)("select",{...u,size:a,ref:s,className:n()(l,t,r&&`${t}-${r}`,c&&"is-valid",d&&"is-invalid"),id:m||f})});F.displayName="FormSelect";const R=F,E=o.forwardRef((e,s)=>{let{bsPrefix:t,className:r,as:a="small",muted:l,...o}=e;return t=(0,h.oU)(t,"form-text"),(0,i.jsx)(a,{...o,ref:s,className:n()(r,t,l&&"text-muted")})});E.displayName="FormText";const z=E,U=o.forwardRef((e,s)=>(0,i.jsx)(v,{...e,ref:s,type:"switch"}));U.displayName="Switch";const T=Object.assign(U,{Input:v.Input,Label:v.Label}),D=o.forwardRef((e,s)=>{let{bsPrefix:t,className:r,children:a,controlId:l,label:o,...c}=e;return t=(0,h.oU)(t,"form-floating"),(0,i.jsxs)(C,{ref:s,className:n()(r,t),controlId:l,...c,children:[a,(0,i.jsx)("label",{htmlFor:l,children:o})]})});D.displayName="FloatingLabel";const H=D,K={_ref:l().any,validated:l().bool,as:l().elementType},L=o.forwardRef((e,s)=>{let{className:t,validated:r,as:a="form",...l}=e;return(0,i.jsx)(a,{...l,ref:s,className:n()(t,r&&"was-validated")})});L.displayName="Form",L.propTypes=K;const O=Object.assign(L,{Group:C,Control:A,Floating:g,Check:v,Switch:T,Label:S,Text:z,Range:I,Select:R,FloatingLabel:H})},4196:(e,s,t)=>{t.d(s,{A:()=>c});var r=t(8139),n=t.n(r),a=t(5043),l=t(7852),o=t(579);const i=a.forwardRef((e,s)=>{let{bsPrefix:t,className:r,striped:a,bordered:i,borderless:c,hover:d,size:m,variant:u,responsive:x,...h}=e;const f=(0,l.oU)(t,"table"),j=n()(r,f,u&&`${f}-${u}`,m&&`${f}-${m}`,a&&`${f}-${"string"===typeof a?`striped-${a}`:"striped"}`,i&&`${f}-bordered`,c&&`${f}-borderless`,d&&`${f}-hover`),p=(0,o.jsx)("table",{...h,className:j,ref:s});if(x){let e=`${f}-responsive`;return"string"===typeof x&&(e=`${e}-${x}`),(0,o.jsx)("div",{className:e,children:p})}return p});i.displayName="Table";const c=i},5430:(e,s,t)=>{t.r(s),t.d(s,{default:()=>I});var r=t(5043),n=t(1283),a=t(791),l=t(6667),o=t(8279),i=t(3519),c=t(1719),d=t(1072),m=t(8602),u=t(5258),x=t(8139),h=t.n(x),f=t(7852),j=t(1068),p=t(9334),y=t(579);const v=r.forwardRef((e,s)=>{let{className:t,bsPrefix:r,as:n="span",...a}=e;return r=(0,f.oU)(r,"input-group-text"),(0,y.jsx)(n,{ref:s,className:h()(t,r),...a})});v.displayName="InputGroupText";const b=v,A=r.forwardRef((e,s)=>{let{bsPrefix:t,size:n,hasValidation:a,className:l,as:o="div",...i}=e;t=(0,f.oU)(t,"input-group");const c=(0,r.useMemo)(()=>({}),[]);return(0,y.jsx)(p.A.Provider,{value:c,children:(0,y.jsx)(o,{ref:s,...i,className:h()(l,t,n&&`${t}-${n}`,a&&"has-validation")})})});A.displayName="InputGroup";const N=Object.assign(A,{Text:b,Radio:e=>(0,y.jsx)(b,{children:(0,y.jsx)(j.A,{type:"radio",...e})}),Checkbox:e=>(0,y.jsx)(b,{children:(0,y.jsx)(j.A,{type:"checkbox",...e})})});var g=t(3722),w=t(4282),C=t(4196),k=t(457),$=t(6045),S=t(1290),P=t(184);const I=()=>{const[e,s]=(0,o.hD)(a.j),t=(0,n.Zp)(),[x,h]=(0,r.useState)([]),[f,j]=(0,r.useState)(!0),[p,v]=(0,r.useState)(null),[b,A]=(0,r.useState)(""),[I,F]=(0,r.useState)("createdAt"),[R,E]=(0,r.useState)("desc"),[z,U]=(0,r.useState)(1),[T,D]=(0,r.useState)(10),[H,K]=(0,r.useState)(null),[L,O]=(0,r.useState)([null]),[M,_]=(0,r.useState)(!1),[V,G]=(0,r.useState)(""),[Q,B]=(0,r.useState)(""),[q,Z]=(0,r.useState)(""),[J,W]=(0,r.useState)(""),[X,Y]=(0,r.useState)(""),{data:ee,loading:se,error:te}=(0,S.A)("userAchievements",e?e.uid:null),re=s||se||f,ne=te||p;(0,r.useEffect)(()=>{if(!e){const e=setTimeout(()=>{t("/")},3e3);return h([]),j(!1),v(null),U(1),K(null),O([null]),_(!1),()=>clearTimeout(e)}U(1),K(null),O([null]),_(!1),v(null)},[e,t]),(0,r.useEffect)(()=>{(async()=>{if(!s&&!se&&e){j(!0),console.log("QuizHistory: Starting to fetch quiz history for user:",e.uid);try{let s=(0,l.rJ)(a.db,"scores"),t=(0,l.P)(s,(0,l._M)("userId","==",e.uid));if(J){const e=l.Dc.fromDate(new Date(J+"T00:00:00"));t=(0,l.P)(t,(0,l._M)("createdAt",">=",e))}if(X){const e=l.Dc.fromDate(new Date(X+"T23:59:59"));t=(0,l.P)(t,(0,l._M)("createdAt","<=",e))}t=(0,l.P)(t,(0,l.My)(I,R)),L[z-1]&&(t=(0,l.P)(t,(0,l.HM)(L[z-1]))),t=(0,l.P)(t,(0,l.AB)(T+1));const r=await(0,l.GG)(t),n=r.docs.map(e=>({id:e.id,...e.data()}));_(n.length>T);const o=n.slice(0,T);h(o),K(r.docs[o.length-1]),console.log("QuizHistory: Game history fetched successfully.")}catch(t){console.error("QuizHistory: Error fetching quiz history:",t),v("\u7121\u6cd5\u8f09\u5165\u904a\u6232\u7d00\u9304\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002")}finally{j(!1),console.log("QuizHistory: Finished fetching game history.")}}})()},[e,s,se,I,R,z,T,J,X,L]);const ae=e=>{e===I?E("asc"===R?"desc":"asc"):(F(e),E("desc")),U(1),K(null),O([null]),_(!1)},le=e=>{D(e),U(1),K(null),O([null]),_(!1)},oe=()=>{const e=parseInt(V,10);e>0?le(e):A("\u8acb\u8f38\u5165\u6709\u6548\u7684\u6578\u5b57\u3002")};if(s)return console.log("QuizHistory: Loading user authentication status..."),(0,y.jsx)(i.A,{className:"mt-5 text-center",children:(0,y.jsx)($.A,{loading:!0})});if(re)return console.log("QuizHistory: Loading game history data..."),(0,y.jsx)(i.A,{className:"mt-5 text-center",children:(0,y.jsx)($.A,{loading:!0})});if(!e)return(0,y.jsx)(i.A,{className:"mt-5",children:(0,y.jsx)(c.A,{variant:"warning",children:"\u8acb\u767b\u5165\u5f8c\u7e7c\u7e8c\u4f7f\u7528\u6b64\u529f\u80fd"})});if(ne)return(0,y.jsx)(i.A,{className:"mt-5",children:(0,y.jsx)(c.A,{variant:"danger",children:ne})});if(e.isAnonymous)return(0,y.jsx)(i.A,{className:"mt-5",children:(0,y.jsx)(c.A,{variant:"info",children:"\u60a8\u76ee\u524d\u4ee5\u8a2a\u5ba2\u6a21\u5f0f\u767b\u5165\u3002\u5982\u9700\u67e5\u770b\u4e26\u5132\u5b58\u904a\u6232\u7d00\u9304\uff0c\u8acb\u4f7f\u7528 Google \u5e33\u6236\u767b\u5165\u3002"})});const ie=ee&&ee.totalQuizSessions||0,ce=x.reduce((e,s)=>Math.max(e,s.score),0),de=x.length>0?(x.reduce((e,s)=>e+s.score,0)/x.length).toFixed(2):0;return(0,y.jsxs)(i.A,{className:"mt-5 leaderboard-container",children:[(0,y.jsx)("h2",{children:"\u6211\u7684\u904a\u6232\u7d00\u9304"}),(0,y.jsx)("div",{className:"p-3 rounded mb-3",style:{backgroundColor:"#343a40"},children:(0,y.jsxs)(d.A,{className:"align-items-center gy-3",children:[" ",(0,y.jsx)(m.A,{md:6,style:{color:"#e9ecef"},children:(0,y.jsxs)(d.A,{children:[(0,y.jsx)(m.A,{xs:12,children:(0,y.jsxs)("p",{className:"mb-1",children:[(0,y.jsx)("strong",{children:"\u7e3d\u904a\u6232\u6b21\u6578:"})," ",ie]})}),(0,y.jsx)(m.A,{xs:12,children:(0,y.jsxs)("p",{className:"mb-1",children:[(0,y.jsx)("strong",{children:"\u672c\u9801\u904a\u6232\u6b21\u6578:"})," ",x.length]})}),(0,y.jsx)(m.A,{xs:12,children:(0,y.jsxs)("p",{className:"mb-1",children:[(0,y.jsx)("strong",{children:"\u6700\u9ad8\u5206\u6578 (\u672c\u9801):"})," ",ce]})}),(0,y.jsx)(m.A,{xs:12,children:(0,y.jsxs)("p",{className:"mb-0",children:[(0,y.jsx)("strong",{children:"\u5e73\u5747\u5206\u6578 (\u672c\u9801):"})," ",de]})})]})}),(0,y.jsx)(m.A,{md:6,className:"filter-controls",children:(0,y.jsxs)("div",{className:"d-flex flex-column",children:[(0,y.jsxs)(u.A,{className:"w-100 mb-2",children:[(0,y.jsxs)(u.A.Toggle,{variant:"primary",id:"dropdown-items-per-page",size:"sm",className:"w-100",children:["\u6bcf\u9801\u986f\u793a: ",T]}),(0,y.jsxs)(u.A.Menu,{className:"w-100",children:[(0,y.jsx)(u.A.Item,{onClick:()=>le(10),children:"10"}),(0,y.jsx)(u.A.Item,{onClick:()=>le(20),children:"20"}),(0,y.jsx)(u.A.Item,{onClick:()=>le(50),children:"50"}),(0,y.jsx)(u.A.Divider,{}),(0,y.jsx)(u.A.Item,{as:"div",onClick:e=>e.stopPropagation(),children:(0,y.jsxs)(N,{size:"sm",className:"p-2",children:[(0,y.jsx)(g.A.Control,{type:"number",placeholder:"\u81ea\u8a02",value:V,onChange:e=>G(e.target.value),onKeyPress:e=>{"Enter"===e.key&&oe()}}),(0,y.jsx)(w.A,{variant:"outline-secondary",onClick:oe,children:"\u8a2d\u5b9a"})]})})]})]}),(0,y.jsxs)(N,{size:"sm",className:"mb-2",children:[(0,y.jsx)(N.Text,{children:"\u958b\u59cb"}),(0,y.jsx)(g.A.Control,{type:"date",value:Q,onChange:e=>B(e.target.value),max:(new Date).toISOString().split("T")[0]})]}),(0,y.jsxs)(N,{size:"sm",className:"mb-2",children:[(0,y.jsx)(N.Text,{children:"\u7d50\u675f"}),(0,y.jsx)(g.A.Control,{type:"date",value:q,onChange:e=>Z(e.target.value),max:(new Date).toISOString().split("T")[0]})]}),(0,y.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,y.jsx)(w.A,{onClick:()=>{A(""),Q||q?Q&&q&&new Date(Q)>new Date(q)?A("\u958b\u59cb\u65e5\u671f\u4e0d\u80fd\u665a\u65bc\u7d50\u675f\u65e5\u671f\u3002"):(W(Q),Y(q),U(1),K(null),O([null]),_(!1)):A("\u8acb\u81f3\u5c11\u9078\u64c7\u4e00\u500b\u958b\u59cb\u6216\u7d50\u675f\u65e5\u671f\u3002")},className:"me-2 btn-theme-gradient",size:"sm",children:"\u7be9\u9078"}),(0,y.jsx)(w.A,{variant:"outline-secondary",onClick:()=>{B(""),Z(""),W(""),Y(""),A(""),U(1),K(null),O([null]),_(!1)},size:"sm",children:"\u6e05\u9664"})]})]})})]})}),b&&(0,y.jsx)(c.A,{variant:"warning",onClose:()=>A(""),dismissible:!0,children:b}),0!==x.length||re?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(C.A,{striped:!0,bordered:!0,hover:!0,responsive:!0,variant:"dark",style:{tableLayout:"fixed",wordWrap:"break-word"},children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsxs)("th",{onClick:()=>ae("createdAt"),style:{cursor:"pointer",width:"25%"},children:["\u65e5\u671f ","createdAt"===I&&("asc"===R?"\u25b2":"\u25bc")]}),(0,y.jsxs)("th",{onClick:()=>ae("score"),style:{cursor:"pointer",width:"20%"},children:["\u5206\u6578 ","score"===I&&("asc"===R?"\u25b2":"\u25bc")]}),(0,y.jsx)("th",{style:{width:"55%"},children:"\u4f5c\u7b54\u7d50\u679c"})]})}),(0,y.jsx)("tbody",{children:x.map(e=>{var s;return(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:null===(s=e.createdAt)||void 0===s?void 0:s.toDate().toLocaleDateString()}),(0,y.jsx)("td",{children:e.score}),(0,y.jsx)("td",{children:(0,y.jsx)(k.A,{className:"quiz-history-accordion",children:(0,y.jsxs)(k.A.Item,{eventKey:"0",children:[(0,y.jsx)(k.A.Header,{children:"\u67e5\u770b\u8a73\u60c5"}),(0,y.jsx)(k.A.Body,{children:e.userAnswers&&e.userAnswers.length>0?e.userAnswers.map((e,s)=>(0,y.jsxs)("div",{className:"mb-2 p-2 border rounded",children:[(0,y.jsxs)("p",{children:[(0,y.jsx)("strong",{children:"\u554f\u984c:"})," ",e.question]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("strong",{children:"\u4f60\u7684\u7b54\u6848:"})," ",(0,y.jsxs)("span",{style:{color:e.isCorrect?"#28a745":"#dc3545"},children:[e.userAnswer," ",e.isCorrect?(0,y.jsx)(P.A7C,{color:"#28a745"}):(0,y.jsx)(P._Hm,{color:"#dc3545"})]})]}),!e.isCorrect&&(0,y.jsxs)("p",{children:[(0,y.jsx)("strong",{children:"\u6b63\u78ba\u7b54\u6848:"})," ",(0,y.jsx)("span",{style:{color:"#28a745"},children:e.correctAnswer})]})]},s)):(0,y.jsx)("p",{children:"\u7121\u8a73\u7d30\u4f5c\u7b54\u7d50\u679c\u3002"})})]})})})]},e.id)})})]}),(0,y.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[z>1&&(0,y.jsx)(w.A,{onClick:()=>{if(z>1){U(e=>e-1);const e=[...L];e.pop(),O(e),K(e[e.length-1])}},disabled:re,variant:"secondary",children:"\u4e0a\u4e00\u9801"}),M&&(0,y.jsx)(w.A,{onClick:()=>{M&&(U(e=>e+1),O(e=>[...e,H]))},disabled:re,variant:"secondary",className:"ms-auto",children:"\u4e0b\u4e00\u9801"})]})]}):(0,y.jsx)(c.A,{variant:"info",children:"\u60a8\u9084\u6c92\u6709\u4efb\u4f55\u904a\u6232\u7d00\u9304\u3002"})]})}},5673:(e,s,t)=>{t.d(s,{A:()=>r});const r=t(5043).createContext({})}}]);
//# sourceMappingURL=430.a9122e4e.chunk.js.map