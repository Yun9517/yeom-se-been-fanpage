"use strict";(self.webpackChunkyeom_se_been_fanpage=self.webpackChunkyeom_se_been_fanpage||[]).push([[652],{1652:(e,n,t)=>{t.r(n),t.d(n,{default:()=>oe});var s=t(5043),r=t(2678),a=t(3519),i=t(8139),o=t.n(i),l=t(7852),d=t(579);const c=s.forwardRef((e,n)=>{let{bsPrefix:t,variant:s,animation:r="border",size:a,as:i="div",className:c,...m}=e;t=(0,l.oU)(t,"spinner");const u=`${t}-${r}`;return(0,d.jsx)(i,{ref:n,...m,className:o()(c,u,a&&`${u}-${a}`,s&&`text-${s}`)})});c.displayName="Spinner";const m=c;var u=t(1719),x=t(1969),f=t(6350),v=t(60),h=t(8466),b=t(5901),j=t(8187);const y=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],N=["activeKey","getControlledId","getControllerId"],E=["as"];function p(e,n){if(null==e)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(n.indexOf(s)>=0)continue;t[s]=e[s]}return t}function g(e){let{active:n,eventKey:t,mountOnEnter:r,transition:a,unmountOnExit:i,role:o="tabpanel",onEnter:l,onEntering:d,onEntered:c,onExit:m,onExiting:u,onExited:x}=e,f=p(e,y);const v=(0,s.useContext)(h.A);if(!v)return[Object.assign({},f,{role:o}),{eventKey:t,isActive:n,mountOnEnter:r,transition:a,unmountOnExit:i,onEnter:l,onEntering:d,onEntered:c,onExit:m,onExiting:u,onExited:x}];const{activeKey:j,getControlledId:E,getControllerId:g}=v,A=p(v,N),C=(0,b.u)(t);return[Object.assign({},f,{role:o,id:E(t),"aria-labelledby":g(t)}),{eventKey:t,isActive:null==n&&null!=C?(0,b.u)(j)===C:n,transition:a||A.transition,mountOnEnter:null!=r?r:A.mountOnEnter,unmountOnExit:null!=i?i:A.unmountOnExit,onEnter:l,onEntering:d,onEntered:c,onExit:m,onExiting:u,onExited:x}]}const A=s.forwardRef((e,n)=>{let{as:t="div"}=e,s=p(e,E);const[r,{isActive:a,onEnter:i,onEntering:o,onEntered:l,onExit:c,onExiting:m,onExited:u,mountOnEnter:x,unmountOnExit:f,transition:v=j.A}]=g(s);return(0,d.jsx)(h.A.Provider,{value:null,children:(0,d.jsx)(b.A.Provider,{value:null,children:(0,d.jsx)(v,{in:a,onEnter:i,onEntering:o,onEntered:l,onExit:c,onExiting:m,onExited:u,mountOnEnter:x,unmountOnExit:f,children:(0,d.jsx)(t,Object.assign({},r,{ref:n,hidden:!a,"aria-hidden":!a}))})})})});A.displayName="TabPanel";const C=e=>{const{id:n,generateChildId:t,onSelect:r,activeKey:a,defaultActiveKey:i,transition:o,mountOnEnter:l,unmountOnExit:c,children:m}=e,[u,x]=(0,f.iC)(a,i,r),j=(0,v.Cc)(n),y=(0,s.useMemo)(()=>t||((e,n)=>j?`${j}-${n}-${e}`:null),[j,t]),N=(0,s.useMemo)(()=>({onSelect:x,activeKey:u,transition:o,mountOnEnter:l||!1,unmountOnExit:c||!1,getControlledId:e=>y(e,"tabpane"),getControllerId:e=>y(e,"tab")}),[x,u,o,l,c,y]);return(0,d.jsx)(h.A.Provider,{value:N,children:(0,d.jsx)(b.A.Provider,{value:x||null,children:m})})};C.Panel=A;const w=C;var O=t(7909),P=t(4541),$=t(4522);const T=s.forwardRef((e,n)=>{let{className:t,bsPrefix:s,as:r="div",...a}=e;return s=(0,l.oU)(s,"tab-content"),(0,d.jsx)(r,{ref:n,className:o()(t,s),...a})});T.displayName="TabContent";const k=T;var K=t(8072);function R(e){return"boolean"===typeof e?e?K.A:j.A:e}const I=s.forwardRef((e,n)=>{let{bsPrefix:t,transition:s,...r}=e;const[{className:a,as:i="div",...c},{isActive:m,onEnter:u,onEntering:x,onEntered:f,onExit:v,onExiting:j,onExited:y,mountOnEnter:N,unmountOnExit:E,transition:p=K.A}]=g({...r,transition:R(s)}),A=(0,l.oU)(t,"tab-pane");return(0,d.jsx)(h.A.Provider,{value:null,children:(0,d.jsx)(b.A.Provider,{value:null,children:(0,d.jsx)(p,{in:m,onEnter:u,onEntering:x,onEntered:f,onExit:v,onExiting:j,onExited:y,mountOnEnter:N,unmountOnExit:E,children:(0,d.jsx)(i,{...c,ref:n,className:o()(a,A,m&&"active")})})})})});I.displayName="TabPane";const U=I;var S=t(2663);function B(e){let n;return(0,S.jJ)(e,e=>{null==n&&(n=e.props.eventKey)}),n}function L(e){const{title:n,eventKey:t,disabled:s,tabClassName:r,tabAttrs:a,id:i}=e.props;return null==n?null:(0,d.jsx)($.A,{as:"li",role:"presentation",children:(0,d.jsx)(P.A,{as:"button",type:"button",eventKey:t,disabled:s,id:i,className:r,...a,children:n})})}const M=e=>{const{id:n,onSelect:t,transition:s,mountOnEnter:r=!1,unmountOnExit:a=!1,variant:i="tabs",children:o,activeKey:l=B(o),...c}=(0,x.Zw)(e,{activeKey:"onSelect"});return(0,d.jsxs)(w,{id:n,activeKey:l,onSelect:t,transition:R(s),mountOnEnter:r,unmountOnExit:a,children:[(0,d.jsx)(O.A,{id:n,...c,role:"tablist",as:"ul",variant:i,children:(0,S.Tj)(o,L)}),(0,d.jsx)(k,{children:(0,S.Tj)(o,e=>{const n={...e.props};return delete n.title,delete n.disabled,delete n.tabClassName,delete n.tabAttrs,(0,d.jsx)(U,{...n})})})]})};M.displayName="Tabs";const H=M;var z=t(5173),_=t.n(z);const G=e=>{let{transition:n,...t}=e;return(0,d.jsx)(w,{...t,transition:R(n)})};G.displayName="TabContainer";const V=G,D={eventKey:_().oneOfType([_().string,_().number]),title:_().node.isRequired,disabled:_().bool,tabClassName:_().string,tabAttrs:_().object},F=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};F.propTypes=D;const J=Object.assign(F,{Container:V,Content:k,Pane:U});var Z=t(1072),W=t(8602),q=t(8628),Q=t(4282),X=(t(6440),t(927)),Y=t(6618),ee=t(2644);const ne=s.forwardRef((e,n)=>{let{bsPrefix:t,active:s,disabled:r,eventKey:a,className:i,variant:c,action:m,as:u,...x}=e;t=(0,l.oU)(t,"list-group-item");const[f,v]=(0,ee.M)({key:(0,b.u)(a,x.href),active:s,...x}),h=(0,Y.A)(e=>{if(r)return e.preventDefault(),void e.stopPropagation();f.onClick(e)});r&&void 0===x.tabIndex&&(x.tabIndex=-1,x["aria-disabled"]=!0);const j=u||(m?x.href?"a":"button":"div");return(0,d.jsx)(j,{ref:n,...x,...f,onClick:h,className:o()(i,t,v.isActive&&"active",r&&"disabled",c&&`${t}-${c}`,m&&`${t}-action`)})});ne.displayName="ListGroupItem";const te=ne,se=s.forwardRef((e,n)=>{const{className:t,bsPrefix:s,variant:r,horizontal:a,numbered:i,as:c="div",...m}=(0,x.Zw)(e,{activeKey:"onSelect"}),u=(0,l.oU)(s,"list-group");let f;return a&&(f=!0===a?"horizontal":`horizontal-${a}`),(0,d.jsx)(X.A,{ref:n,...m,as:c,className:o()(t,u,r&&`${u}-${r}`,f&&`${u}-${f}`,i&&`${u}-numbered`)})});se.displayName="ListGroup";const re=Object.assign(se,{Item:te});var ae=t(6481),ie=t(184);t(8736);const oe=()=>{const{user:e,points:n,userAchievements:t,redemptionHistory:i,loading:o,error:l,redeemItem:c}=(0,r.J)(),[x,f]=(0,s.useState)(null),[v,h]=(0,s.useState)("store"),[b,j]=(0,s.useState)(""),y=(0,s.useMemo)(()=>ae.vd.filter(e=>e.redeemable).sort((e,n)=>{var t,s;return((null===(t=ae.Bc[e.tier])||void 0===t?void 0:t.order)||99)-((null===(s=ae.Bc[n.tier])||void 0===s?void 0:s.order)||99)}),[]),N=(0,s.useMemo)(()=>y.find(e=>e.isMaster),[y]),E=(0,s.useMemo)(()=>y.filter(e=>!e.isMaster),[y]),p=(0,s.useMemo)(()=>!(!e||e.isAnonymous)&&E.every(e=>t[e.id]),[e,t,E]),g=async s=>{if(!(!e||n<s.cost||t[s.id])){f(s.id),j("");try{await c(s)}catch(r){console.error("Error redeeming item: ",r),j("\u514c\u63db\u5931\u6557\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002")}finally{f(null)}}};if(o)return(0,d.jsx)(a.A,{className:"mt-5 text-center",children:(0,d.jsx)(m,{animation:"border"})});if(!e||e.isAnonymous)return(0,d.jsx)(a.A,{className:"mt-5",children:(0,d.jsx)(u.A,{variant:"warning",children:"\u8acb\u767b\u5165\u4ee5\u4f7f\u7528\u9ede\u6578\u5546\u5e97\u3002"})});const A=b||l;return(0,d.jsxs)(a.A,{className:"mt-5",children:[(0,d.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,d.jsx)("h2",{children:"\u9ede\u6578\u5546\u5e97"}),(0,d.jsxs)(u.A,{variant:"success",className:"mb-0",children:[(0,d.jsx)(ie.cEG,{className:"me-2"})," \u60a8\u76ee\u524d\u64c1\u6709\uff1a",(0,d.jsx)("strong",{children:n})," \u9ede"]})]}),A&&(0,d.jsx)(u.A,{variant:"danger",dismissible:!0,onClose:()=>j(""),children:A}),(0,d.jsxs)(H,{id:"redemption-store-tabs",activeKey:v,onSelect:e=>h(e),className:"mb-3 redemption-tabs",children:[(0,d.jsx)(J,{eventKey:"store",title:"\u514c\u63db\u5546\u5e97",children:(0,d.jsxs)(Z.A,{xs:2,md:3,lg:5,className:"g-4",children:[E.map(e=>{const s=t[e.id],r=n>=e.cost,a=ae.Bc[e.tier];return(0,d.jsx)(W.A,{children:(0,d.jsx)(q.A,{className:`achievement-card redeem-card-override h-100 ${s?"unlocked":"locked"} tier-${e.tier.toLowerCase()}`,children:(0,d.jsxs)(q.A.Body,{className:"d-flex flex-column",children:[(0,d.jsx)(q.A.Title,{children:e.name}),(0,d.jsx)(q.A.Text,{children:e.description}),(0,d.jsxs)("div",{className:"mt-auto",children:[(0,d.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,d.jsxs)("span",{children:["\u7b49\u7d1a: ",a.name]}),(0,d.jsxs)("span",{style:{color:a.color,fontWeight:"bold"},children:[(0,d.jsx)(ie.cEG,{className:"me-1"})," ",e.cost]})]}),(0,d.jsx)(Q.A,{variant:"primary",className:"w-100 btn-theme-gradient",disabled:s||!r||x===e.id,onClick:()=>g(e),children:x===e.id?(0,d.jsx)(m,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):s?"\u5df2\u64c1\u6709":r?"\u514c\u63db":"\u9ede\u6578\u4e0d\u8db3"})]})]})})},e.id)}),N&&(0,d.jsx)(W.A,{children:p?(0,d.jsx)(q.A,{className:`achievement-card redeem-card-override h-100 ${t[N.id]?"unlocked":"locked"} tier-${N.tier.toLowerCase()}`,children:(0,d.jsxs)(q.A.Body,{className:"d-flex flex-column",children:[(0,d.jsx)(q.A.Title,{children:N.name}),(0,d.jsx)(q.A.Text,{children:N.description}),(0,d.jsxs)("div",{className:"mt-auto",children:[(0,d.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,d.jsxs)("span",{children:["\u7b49\u7d1a: ",ae.Bc[N.tier].name]}),(0,d.jsxs)("span",{style:{color:ae.Bc[N.tier].color,fontWeight:"bold"},children:[(0,d.jsx)(ie.cEG,{className:"me-1"})," ",N.cost]})]}),(0,d.jsx)(Q.A,{variant:"primary",className:"w-100 btn-theme-gradient",disabled:t[N.id]||n<N.cost||x===N.id,onClick:()=>g(N),children:x===N.id?(0,d.jsx)(m,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):t[N.id]?"\u5df2\u64c1\u6709":n<N.cost?"\u9ede\u6578\u4e0d\u8db3":"\u514c\u63db"})]})]})}):(0,d.jsx)(q.A,{className:"achievement-card redeem-card-override h-100 locked tier-master-mystery",children:(0,d.jsxs)(q.A.Body,{className:"d-flex flex-column justify-content-center align-items-center",children:[(0,d.jsx)(q.A.Title,{className:"mystery-title",children:"???"}),(0,d.jsx)(q.A.Text,{className:"mystery-text",children:"\u89e3\u9396\u6240\u6709\u5176\u4ed6\u5546\u5e97\u7269\u54c1\u4ee5\u63ed\u66c9"})]})})})]})}),(0,d.jsx)(J,{eventKey:"history",title:"\u514c\u63db\u7d00\u9304",children:i.length>0?(0,d.jsx)(re,{children:i.map((e,n)=>{var t;return(0,d.jsxs)(re.Item,{className:"d-flex justify-content-between align-items-center",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:e.itemName}),(0,d.jsx)("small",{className:"d-block text-muted",children:null===(t=e.redeemedAt)||void 0===t?void 0:t.toDate().toLocaleString()})]}),(0,d.jsxs)("span",{className:"text-danger",children:["-",e.pointsSpent," \u9ede"]})]},n)})}):(0,d.jsx)(u.A,{variant:"info",children:"\u60a8\u76ee\u524d\u6c92\u6709\u4efb\u4f55\u514c\u63db\u7d00\u9304\u3002"})})]})]})}},1719:(e,n,t)=>{t.d(n,{A:()=>N});var s=t(8139),r=t.n(s),a=t(5043),i=t(1969),o=t(6618),l=t(7852),d=t(4488),c=t(579);const m=(0,d.A)("h4");m.displayName="DivStyledAsH4";const u=a.forwardRef((e,n)=>{let{className:t,bsPrefix:s,as:a=m,...i}=e;return s=(0,l.oU)(s,"alert-heading"),(0,c.jsx)(a,{ref:n,className:r()(t,s),...i})});u.displayName="AlertHeading";const x=u;var f=t(7071);const v=a.forwardRef((e,n)=>{let{className:t,bsPrefix:s,as:a=f.A,...i}=e;return s=(0,l.oU)(s,"alert-link"),(0,c.jsx)(a,{ref:n,className:r()(t,s),...i})});v.displayName="AlertLink";const h=v;var b=t(8072),j=t(5632);const y=a.forwardRef((e,n)=>{const{bsPrefix:t,show:s=!0,closeLabel:a="Close alert",closeVariant:d,className:m,children:u,variant:x="primary",onClose:f,dismissible:v,transition:h=b.A,...y}=(0,i.Zw)(e,{show:"onClose"}),N=(0,l.oU)(t,"alert"),E=(0,o.A)(e=>{f&&f(!1,e)}),p=!0===h?b.A:h,g=(0,c.jsxs)("div",{role:"alert",...p?void 0:y,ref:n,className:r()(m,N,x&&`${N}-${x}`,v&&`${N}-dismissible`),children:[v&&(0,c.jsx)(j.A,{onClick:E,"aria-label":a,variant:d}),u]});return p?(0,c.jsx)(p,{unmountOnExit:!0,...y,ref:void 0,in:s,children:g}):s?g:null});y.displayName="Alert";const N=Object.assign(y,{Link:h,Heading:x})},2663:(e,n,t)=>{t.d(n,{Tj:()=>r,jJ:()=>a,mf:()=>i});var s=t(5043);function r(e,n){let t=0;return s.Children.map(e,e=>s.isValidElement(e)?n(e,t++):e)}function a(e,n){let t=0;s.Children.forEach(e,e=>{s.isValidElement(e)&&n(e,t++)})}function i(e,n){return s.Children.toArray(e).some(e=>s.isValidElement(e)&&e.type===n)}},8628:(e,n,t)=>{t.d(n,{A:()=>k});var s=t(8139),r=t.n(s),a=t(5043),i=t(7852),o=t(579);const l=a.forwardRef((e,n)=>{let{className:t,bsPrefix:s,as:a="div",...l}=e;return s=(0,i.oU)(s,"card-body"),(0,o.jsx)(a,{ref:n,className:r()(t,s),...l})});l.displayName="CardBody";const d=l,c=a.forwardRef((e,n)=>{let{className:t,bsPrefix:s,as:a="div",...l}=e;return s=(0,i.oU)(s,"card-footer"),(0,o.jsx)(a,{ref:n,className:r()(t,s),...l})});c.displayName="CardFooter";const m=c;var u=t(1778);const x=a.forwardRef((e,n)=>{let{bsPrefix:t,className:s,as:l="div",...d}=e;const c=(0,i.oU)(t,"card-header"),m=(0,a.useMemo)(()=>({cardHeaderBsPrefix:c}),[c]);return(0,o.jsx)(u.A.Provider,{value:m,children:(0,o.jsx)(l,{ref:n,...d,className:r()(s,c)})})});x.displayName="CardHeader";const f=x,v=a.forwardRef((e,n)=>{let{bsPrefix:t,className:s,variant:a,as:l="img",...d}=e;const c=(0,i.oU)(t,"card-img");return(0,o.jsx)(l,{ref:n,className:r()(a?`${c}-${a}`:c,s),...d})});v.displayName="CardImg";const h=v,b=a.forwardRef((e,n)=>{let{className:t,bsPrefix:s,as:a="div",...l}=e;return s=(0,i.oU)(s,"card-img-overlay"),(0,o.jsx)(a,{ref:n,className:r()(t,s),...l})});b.displayName="CardImgOverlay";const j=b,y=a.forwardRef((e,n)=>{let{className:t,bsPrefix:s,as:a="a",...l}=e;return s=(0,i.oU)(s,"card-link"),(0,o.jsx)(a,{ref:n,className:r()(t,s),...l})});y.displayName="CardLink";const N=y;var E=t(4488);const p=(0,E.A)("h6"),g=a.forwardRef((e,n)=>{let{className:t,bsPrefix:s,as:a=p,...l}=e;return s=(0,i.oU)(s,"card-subtitle"),(0,o.jsx)(a,{ref:n,className:r()(t,s),...l})});g.displayName="CardSubtitle";const A=g,C=a.forwardRef((e,n)=>{let{className:t,bsPrefix:s,as:a="p",...l}=e;return s=(0,i.oU)(s,"card-text"),(0,o.jsx)(a,{ref:n,className:r()(t,s),...l})});C.displayName="CardText";const w=C,O=(0,E.A)("h5"),P=a.forwardRef((e,n)=>{let{className:t,bsPrefix:s,as:a=O,...l}=e;return s=(0,i.oU)(s,"card-title"),(0,o.jsx)(a,{ref:n,className:r()(t,s),...l})});P.displayName="CardTitle";const $=P,T=a.forwardRef((e,n)=>{let{bsPrefix:t,className:s,bg:a,text:l,border:c,body:m=!1,children:u,as:x="div",...f}=e;const v=(0,i.oU)(t,"card");return(0,o.jsx)(x,{ref:n,...f,className:r()(s,v,a&&`bg-${a}`,l&&`text-${l}`,c&&`border-${c}`),children:m?(0,o.jsx)(d,{children:u}):u})});T.displayName="Card";const k=Object.assign(T,{Img:h,Title:$,Subtitle:A,Body:d,Link:N,Text:w,Header:f,Footer:m,ImgOverlay:j})},8736:()=>{}}]);
//# sourceMappingURL=652.02c94c9f.chunk.js.map