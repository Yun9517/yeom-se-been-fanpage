"use strict";(self.webpackChunkyeom_se_been_fanpage=self.webpackChunkyeom_se_been_fanpage||[]).push([[884],{706:(e,n,t)=>{t.d(n,{A:()=>c});var i=t(5043),a=t(8139),r=t.n(a),s=t(7852),o=t(579);const l=i.forwardRef((e,n)=>{let{className:t,bsPrefix:i,as:a="div",...l}=e;return i=(0,s.oU)(i,"tab-content"),(0,o.jsx)(a,{ref:n,className:r()(t,i),...l})});l.displayName="TabContent";const c=l},1131:(e,n,t)=>{t.d(n,{A:()=>s});var i=t(5043),a=t(6667),r=t(791);const s=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const[s,o]=(0,i.useState)([]),[l,c]=(0,i.useState)(!0),[d,u]=(0,i.useState)(null);return(0,i.useEffect)(()=>{c(!0),u(null);const i=(0,a.rJ)(r.db,e);let s=(0,a.P)(i,...n);let l=null;return t?l=(0,a.aQ)(s,n=>{const t=n.docs.map(e=>({id:e.id,...e.data()}));o(t),c(!1),u(null),console.log(`useFirestoreCollection: Live update from ${e}.`)},n=>{console.error(`useFirestoreCollection: Live update error for ${e}:`,n),u(`\u5373\u6642\u66f4\u65b0 ${e} \u8cc7\u6599\u5931\u6557\u3002`),c(!1)}):(async()=>{try{const n=(await(0,a.GG)(s)).docs.map(e=>({id:e.id,...e.data()}));o(n),console.log(`useFirestoreCollection: Fetched data from ${e}.`)}catch(n){console.error(`useFirestoreCollection: Error fetching data from ${e}:`,n),u(`\u7121\u6cd5\u8f09\u5165 ${e} \u8cc7\u6599\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002`)}finally{c(!1)}})(),()=>{l&&l()}},[e,n,t]),{data:s,loading:l,error:d}}},1719:(e,n,t)=>{t.d(n,{A:()=>A});var i=t(8139),a=t.n(i),r=t(5043),s=t(1969),o=t(6618),l=t(7852),c=t(4488),d=t(579);const u=(0,c.A)("h4");u.displayName="DivStyledAsH4";const m=r.forwardRef((e,n)=>{let{className:t,bsPrefix:i,as:r=u,...s}=e;return i=(0,l.oU)(i,"alert-heading"),(0,d.jsx)(r,{ref:n,className:a()(t,i),...s})});m.displayName="AlertHeading";const x=m;var v=t(7071);const h=r.forwardRef((e,n)=>{let{className:t,bsPrefix:i,as:r=v.A,...s}=e;return i=(0,l.oU)(i,"alert-link"),(0,d.jsx)(r,{ref:n,className:a()(t,i),...s})});h.displayName="AlertLink";const g=h;var f=t(8072),E=t(5632);const b=r.forwardRef((e,n)=>{const{bsPrefix:t,show:i=!0,closeLabel:r="Close alert",closeVariant:c,className:u,children:m,variant:x="primary",onClose:v,dismissible:h,transition:g=f.A,...b}=(0,s.Zw)(e,{show:"onClose"}),A=(0,l.oU)(t,"alert"),p=(0,o.A)(e=>{v&&v(!1,e)}),j=!0===g?f.A:g,y=(0,d.jsxs)("div",{role:"alert",...j?void 0:b,ref:n,className:a()(u,A,x&&`${A}-${x}`,h&&`${A}-dismissible`),children:[h&&(0,d.jsx)(E.A,{onClick:p,"aria-label":r,variant:c}),m]});return j?(0,d.jsx)(j,{unmountOnExit:!0,...b,ref:void 0,in:i,children:y}):i?y:null});b.displayName="Alert";const A=Object.assign(b,{Link:g,Heading:x})},2223:(e,n,t)=>{t.d(n,{A:()=>g});var i=t(8139),a=t.n(i),r=t(5043),s=(t(6440),t(1969)),o=t(927),l=t(7852),c=t(6618),d=t(2644),u=t(5901),m=t(579);const x=r.forwardRef((e,n)=>{let{bsPrefix:t,active:i,disabled:r,eventKey:s,className:o,variant:x,action:v,as:h,...g}=e;t=(0,l.oU)(t,"list-group-item");const[f,E]=(0,d.M)({key:(0,u.u)(s,g.href),active:i,...g}),b=(0,c.A)(e=>{if(r)return e.preventDefault(),void e.stopPropagation();f.onClick(e)});r&&void 0===g.tabIndex&&(g.tabIndex=-1,g["aria-disabled"]=!0);const A=h||(v?g.href?"a":"button":"div");return(0,m.jsx)(A,{ref:n,...g,...f,onClick:b,className:a()(o,t,E.isActive&&"active",r&&"disabled",x&&`${t}-${x}`,v&&`${t}-action`)})});x.displayName="ListGroupItem";const v=x,h=r.forwardRef((e,n)=>{const{className:t,bsPrefix:i,variant:r,horizontal:c,numbered:d,as:u="div",...x}=(0,s.Zw)(e,{activeKey:"onSelect"}),v=(0,l.oU)(i,"list-group");let h;return c&&(h=!0===c?"horizontal":`horizontal-${c}`),(0,m.jsx)(o.A,{ref:n,...x,as:u,className:a()(t,v,r&&`${v}-${r}`,h&&`${v}-${h}`,d&&`${v}-numbered`)})});h.displayName="ListGroup";const g=Object.assign(h,{Item:v})},3599:(e,n,t)=>{t.d(n,{A:()=>r});var i=t(8187),a=t(8072);function r(e){return"boolean"===typeof e?e?a.A:i.A:e}},3612:(e,n,t)=>{t.d(n,{A:()=>u});var i=t(5043),a=t(6350),r=t(60),s=t(8466),o=t(5901),l=t(5763),c=t(579);const d=e=>{const{id:n,generateChildId:t,onSelect:l,activeKey:d,defaultActiveKey:u,transition:m,mountOnEnter:x,unmountOnExit:v,children:h}=e,[g,f]=(0,a.iC)(d,u,l),E=(0,r.Cc)(n),b=(0,i.useMemo)(()=>t||((e,n)=>E?`${E}-${n}-${e}`:null),[E,t]),A=(0,i.useMemo)(()=>({onSelect:f,activeKey:g,transition:m,mountOnEnter:x||!1,unmountOnExit:v||!1,getControlledId:e=>b(e,"tabpane"),getControllerId:e=>b(e,"tab")}),[f,g,m,x,v,b]);return(0,c.jsx)(s.A.Provider,{value:A,children:(0,c.jsx)(o.A.Provider,{value:f||null,children:h})})};d.Panel=l.A;const u=d},5328:(e,n,t)=>{t.d(n,{A:()=>v});var i=t(5173),a=t.n(i),r=t(3612),s=t(3599),o=t(579);const l=e=>{let{transition:n,...t}=e;return(0,o.jsx)(r.A,{...t,transition:(0,s.A)(n)})};l.displayName="TabContainer";const c=l;var d=t(706),u=t(6429);const m={eventKey:a().oneOfType([a().string,a().number]),title:a().node.isRequired,disabled:a().bool,tabClassName:a().string,tabAttrs:a().object},x=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};x.propTypes=m;const v=Object.assign(x,{Container:c,Content:d.A,Pane:u.A})},5763:(e,n,t)=>{t.d(n,{A:()=>v,J:()=>m});var i=t(5043),a=t(8466),r=t(5901),s=t(8187),o=t(579);const l=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],c=["activeKey","getControlledId","getControllerId"],d=["as"];function u(e,n){if(null==e)return{};var t={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(n.indexOf(i)>=0)continue;t[i]=e[i]}return t}function m(e){let{active:n,eventKey:t,mountOnEnter:s,transition:o,unmountOnExit:d,role:m="tabpanel",onEnter:x,onEntering:v,onEntered:h,onExit:g,onExiting:f,onExited:E}=e,b=u(e,l);const A=(0,i.useContext)(a.A);if(!A)return[Object.assign({},b,{role:m}),{eventKey:t,isActive:n,mountOnEnter:s,transition:o,unmountOnExit:d,onEnter:x,onEntering:v,onEntered:h,onExit:g,onExiting:f,onExited:E}];const{activeKey:p,getControlledId:j,getControllerId:y}=A,N=u(A,c),C=(0,r.u)(t);return[Object.assign({},b,{role:m,id:j(t),"aria-labelledby":y(t)}),{eventKey:t,isActive:null==n&&null!=C?(0,r.u)(p)===C:n,transition:o||N.transition,mountOnEnter:null!=s?s:N.mountOnEnter,unmountOnExit:null!=d?d:N.unmountOnExit,onEnter:x,onEntering:v,onEntered:h,onExit:g,onExiting:f,onExited:E}]}const x=i.forwardRef((e,n)=>{let{as:t="div"}=e,i=u(e,d);const[l,{isActive:c,onEnter:x,onEntering:v,onEntered:h,onExit:g,onExiting:f,onExited:E,mountOnEnter:b,unmountOnExit:A,transition:p=s.A}]=m(i);return(0,o.jsx)(a.A.Provider,{value:null,children:(0,o.jsx)(r.A.Provider,{value:null,children:(0,o.jsx)(p,{in:c,onEnter:x,onEntering:v,onEntered:h,onExit:g,onExiting:f,onExited:E,mountOnEnter:b,unmountOnExit:A,children:(0,o.jsx)(t,Object.assign({},l,{ref:n,hidden:!c,"aria-hidden":!c}))})})})});x.displayName="TabPanel";const v=x},5884:(e,n,t)=>{t.r(n),t.d(n,{default:()=>h});var i=t(5043),a=t(3519),r=t(7417),s=t(1719),o=t(5328),l=t(7909),c=t(2223),d=t(2678),u=t(1131),m=t(6667),x=t(579);const v=e=>{let{itemsPerPage:n,totalItems:t,currentPage:i,onPageChange:a}=e;const r=[],s=Math.ceil(t/n);if(s<=1)return null;for(let o=1;o<=s;o++)r.push(o);return(0,x.jsx)("nav",{children:(0,x.jsxs)("ul",{className:"pagination",children:[(0,x.jsx)("li",{className:"page-item "+(1===i?"disabled":""),children:(0,x.jsx)("button",{onClick:()=>a(i-1),className:"page-link",children:"\xab"})}),r.map(e=>(0,x.jsx)("li",{className:"page-item "+(i===e?"active":""),children:(0,x.jsx)("button",{onClick:()=>a(e),className:"page-link",children:e})},e)),(0,x.jsx)("li",{className:"page-item "+(i===s?"disabled":""),children:(0,x.jsx)("button",{onClick:()=>a(i+1),className:"page-link",children:"\xbb"})})]})})};t(8736);const h=()=>{const{user:e,loading:n,error:t}=(0,d.J)(),[h,g]=(0,i.useState)("all"),[f,E]=(0,i.useState)(1),b=(0,i.useMemo)(()=>{if(!e||e.isAnonymous)return[];const n=[(0,m._M)("userId","==",e.uid)];return"all"!==h&&n.push((0,m._M)("source","==",h)),n.push((0,m.My)("timestamp","desc")),n},[e,h]),{data:A,loading:p,error:j}=(0,u.A)("notifications",b),y=15*f,N=y-15,C=A.slice(N,y),O={all:"\u5168\u90e8",daily_login:"\u6bcf\u65e5",achievement:"\u6210\u5c31",redemption:"\u514c\u63db"};return n||p?(0,x.jsx)(a.A,{className:"mt-5 text-center",children:(0,x.jsx)(r.A,{animation:"border"})}):t||j?(0,x.jsx)(a.A,{className:"mt-5",children:(0,x.jsxs)(s.A,{variant:"danger",children:["\u7121\u6cd5\u8f09\u5165\u8a0a\u606f\uff1a",(null===t||void 0===t?void 0:t.message)||(null===j||void 0===j?void 0:j.message)]})}):!e||e.isAnonymous?(0,x.jsx)(a.A,{className:"mt-5",children:(0,x.jsx)(s.A,{variant:"warning",children:"\u8acb\u767b\u5165\u4ee5\u67e5\u770b\u60a8\u7684\u8a0a\u606f\u3002"})}):(0,x.jsxs)(a.A,{className:"mt-5",children:[(0,x.jsx)("h2",{children:"\u8a0a\u606f\u4e2d\u5fc3"}),(0,x.jsxs)(o.A.Container,{id:"message-center-tabs",activeKey:h,onSelect:e=>{g(e),E(1)},children:[(0,x.jsx)(l.A,{variant:"tabs",className:"mb-3 redemption-tabs",children:["all","daily_login","achievement","redemption"].map(e=>(0,x.jsx)(l.A.Item,{children:(0,x.jsx)(l.A.Link,{eventKey:e,children:O[e]})},e))}),(0,x.jsx)(o.A.Content,{children:0===A.length?(0,x.jsx)(s.A,{variant:"info",children:"\u6b64\u5206\u985e\u4e2d\u6c92\u6709\u4efb\u4f55\u8a0a\u606f\u3002"}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(c.A,{children:C.map(e=>{var n;return(0,x.jsx)(c.A.Item,{className:"d-flex justify-content-between align-items-center",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("strong",{children:e.title}),(0,x.jsx)("small",{className:"d-block text-muted",children:e.message}),(0,x.jsx)("small",{className:"d-block text-muted",children:null===(n=e.timestamp)||void 0===n?void 0:n.toDate().toLocaleString()})]})},e.id)})}),(0,x.jsx)(v,{itemsPerPage:15,totalItems:A.length,currentPage:f,onPageChange:e=>{E(e)}})]})})]})]})}},6429:(e,n,t)=>{t.d(n,{A:()=>v});var i=t(8139),a=t.n(i),r=t(5043),s=t(5901),o=t(8466),l=t(5763),c=t(7852),d=t(8072),u=t(3599),m=t(579);const x=r.forwardRef((e,n)=>{let{bsPrefix:t,transition:i,...r}=e;const[{className:x,as:v="div",...h},{isActive:g,onEnter:f,onEntering:E,onEntered:b,onExit:A,onExiting:p,onExited:j,mountOnEnter:y,unmountOnExit:N,transition:C=d.A}]=(0,l.J)({...r,transition:(0,u.A)(i)}),O=(0,c.oU)(t,"tab-pane");return(0,m.jsx)(o.A.Provider,{value:null,children:(0,m.jsx)(s.A.Provider,{value:null,children:(0,m.jsx)(C,{in:g,onEnter:f,onEntering:E,onEntered:b,onExit:A,onExiting:p,onExited:j,mountOnEnter:y,unmountOnExit:N,children:(0,m.jsx)(v,{...h,ref:n,className:a()(x,O,g&&"active")})})})})});x.displayName="TabPane";const v=x},7417:(e,n,t)=>{t.d(n,{A:()=>c});var i=t(8139),a=t.n(i),r=t(5043),s=t(7852),o=t(579);const l=r.forwardRef((e,n)=>{let{bsPrefix:t,variant:i,animation:r="border",size:l,as:c="div",className:d,...u}=e;t=(0,s.oU)(t,"spinner");const m=`${t}-${r}`;return(0,o.jsx)(c,{ref:n,...u,className:a()(d,m,l&&`${m}-${l}`,i&&`text-${i}`)})});l.displayName="Spinner";const c=l},8736:()=>{}}]);
//# sourceMappingURL=884.1322d4b3.chunk.js.map