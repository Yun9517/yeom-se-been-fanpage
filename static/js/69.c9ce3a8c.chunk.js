"use strict";(self.webpackChunkyeom_se_been_fanpage=self.webpackChunkyeom_se_been_fanpage||[]).push([[69],{5069:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var n=s(5043),a=s(9367),o=s(5200),r=s(184),i=s(7417),c=s(1719),l=s(5399),d=s(6667),m=s(579);const h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return[...e].sort(()=>.5-Math.random()).slice(0,t)};const u=function(){var e,t;const[s,u]=(0,n.useState)([]),[p,x]=(0,n.useState)([]),[g,j]=(0,n.useState)(0),[b,v]=(0,n.useState)(0),[f,y]=(0,n.useState)(!1),[w,N]=(0,n.useState)(!0),[k,q]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{const e=(await(0,d.GG)((0,d.rJ)(l.db,"quizzes"))).docs.map(e=>e.data());u(e),x(h(e)),N(!1)}catch(e){console.error("Error fetching questions from Firestore:",e),q("\u7121\u6cd5\u8f09\u5165\u984c\u76ee\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002"),N(!1)}})()},[]);const C=(0,n.useCallback)(()=>{j(0),v(0),y(!1),x(h(s))},[s]),_=()=>({shareText:`\u6211\u5728 \uc5fc\uc138\ube48 \u7c89\u7d72\u5c0f\u904a\u6232\u4e2d\u7372\u5f97\u4e86 ${b} \u5206\uff01\u5feb\u4f86\u6311\u6230\u770b\u770b\u4f60\u7684\u5206\u6578\uff01`,shareUrl:window.location.href}),S="yeomsebeen_field.jpg";return(0,m.jsxs)("div",{className:"fan-quiz-container",children:[(0,m.jsxs)(a.mg,{children:[(0,m.jsx)("title",{children:"\uc5fc\uc138\ube48 \u7c89\u7d72\u5c0f\u904a\u6232\uff01"}),(0,m.jsx)("meta",{property:"og:title",content:"\uc5fc\uc138\ube48 \u7c89\u7d72\u5c0f\u904a\u6232\uff01"}),(0,m.jsx)("meta",{property:"og:description",content:"\u5feb\u4f86\u6311\u6230\u770b\u770b\u4f60\u5c0d\u5ec9\u4e16\u5f6c\u7684\u4e86\u89e3\u7a0b\u5ea6\uff01"}),(0,m.jsx)("meta",{property:"og:image",content:`https://storage.googleapis.com/yeom-se-been-fanpage-assets/${S}`}),(0,m.jsx)("meta",{property:"og:url",content:window.location.href}),(0,m.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,m.jsx)("meta",{name:"twitter:image",content:`https://storage.googleapis.com/yeom-se-been-fanpage-assets/${S}`})]}),(0,m.jsx)("h2",{children:"\uc5fc\uc138\ube48 \u7c89\u7d72\u5c0f\u904a\u6232\uff01"}),w&&(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsx)(i.A,{animation:"border",variant:"light"}),(0,m.jsx)("p",{className:"text-white-50 mt-2",children:"\u8f09\u5165\u4e2d..."})]}),k&&(0,m.jsx)(c.A,{variant:"danger",children:k}),!w&&!k&&(f?(0,m.jsxs)("div",{className:"score-section",children:[(0,m.jsxs)("div",{className:"score-text",children:["\u4f60\u7372\u5f97\u4e86 ",b," \u5206\uff0c\u7e3d\u5206 ",p.length," \u5206\uff01"]}),(0,m.jsxs)("div",{className:"score-buttons",children:[(0,m.jsx)("button",{onClick:()=>{const{shareText:e,shareUrl:t}=_(),s=`${e} ${t}`;navigator.clipboard.writeText(s).then(()=>{alert("\u5206\u4eab\u9023\u7d50\u5df2\u8907\u88fd\u5230\u526a\u8cbc\u7c3f\uff01")}).catch(e=>{console.error("\u7121\u6cd5\u8907\u88fd\u5206\u4eab\u9023\u7d50:",e)})},className:"quiz-button share-link-button",children:(0,m.jsx)(o.ayE,{})}),(0,m.jsx)("button",{onClick:C,className:"quiz-button play-again-button",children:(0,m.jsx)(o.wO2,{})}),(0,m.jsx)("button",{onClick:()=>{const{shareText:e,shareUrl:t}=_(),s=`https://line.me/R/msg/text/?${encodeURIComponent(`${e} ${t}`)}`;window.open(s,"_blank")},className:"quiz-button share-line-button",children:(0,m.jsx)(r.y16,{})})]})]}):p.length>0&&(0,m.jsxs)("div",{className:"question-section",children:[(0,m.jsxs)("div",{className:"question-count",children:[(0,m.jsxs)("span",{children:["\u554f\u984c ",g+1]}),"/",p.length]}),(0,m.jsx)("div",{className:"question-text",children:null===(e=p[g])||void 0===e?void 0:e.question}),(0,m.jsx)("div",{className:"answer-section",children:null===(t=p[g])||void 0===t?void 0:t.options.map((e,t)=>(0,m.jsx)("button",{onClick:()=>(e=>{e===p[g].answer&&v(b+1);const t=g+1;t<p.length?j(t):y(!0)})(e),children:e},t))})]}))]})}},5399:(e,t,s)=>{s.d(t,{db:()=>r});var n=s(7064),a=s(6667);const o=(0,n.Wp)({apiKey:"AIzaSyBCAA2tKMeX7wpETnOtuc7mCd4TPxcovJA",authDomain:"my-project-2024-438015.firebaseapp.com",projectId:"my-project-2024-438015",storageBucket:"my-project-2024-438015.firebasestorage.app",messagingSenderId:"877607457069",appId:"1:877607457069:web:6ad572557ab69870fe83a4",measurementId:"G-F17RZ4HHLL"}),r=(0,a.aU)(o)}}]);
//# sourceMappingURL=69.c9ce3a8c.chunk.js.map